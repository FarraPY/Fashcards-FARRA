var Gz=Object.defineProperty;var $P=t=>{throw TypeError(t)};var $z=(t,e,n)=>e in t?Gz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Le=(t,e,n)=>$z(t,typeof e!="symbol"?e+"":e,n),NS=(t,e,n)=>e.has(t)||$P("Cannot "+n);var b=(t,e,n)=>(NS(t,e,"read from private field"),n?n.call(t):e.get(t)),L=(t,e,n)=>e.has(t)?$P("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),P=(t,e,n,i)=>(NS(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),N=(t,e,n)=>(NS(t,e,"access private method"),n);var Pi=(t,e,n,i)=>({set _(r){P(t,e,r,n)},get _(){return b(t,e,i)}});function Yz(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Cs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IS={exports:{}},hh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP;function Kz(){if(YP)return hh;YP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var u in r)u!=="key"&&(s[u]=r[u])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:a,ref:r!==void 0?r:null,props:s}}return hh.Fragment=e,hh.jsx=n,hh.jsxs=n,hh}var KP;function jz(){return KP||(KP=1,IS.exports=Kz()),IS.exports}var I=jz(),kS={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP;function Xz(){if(jP)return Fe;jP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function _(H,ae,ne){this.props=H,this.context=ae,this.refs=C,this.updater=ne||S}_.prototype.isReactComponent={},_.prototype.setState=function(H,ae){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ae,"setState")},_.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function x(){}x.prototype=_.prototype;function R(H,ae,ne){this.props=H,this.context=ae,this.refs=C,this.updater=ne||S}var M=R.prototype=new x;M.constructor=R,T(M,_.prototype),M.isPureReactComponent=!0;var U=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function q(H,ae,ne,ce,be,Me){return ne=Me.ref,{$$typeof:t,type:H,key:ae,ref:ne!==void 0?ne:null,props:Me}}function z(H,ae){return q(H.type,ae,void 0,void 0,void 0,H.props)}function G(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function ee(H){var ae={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ne){return ae[ne]})}var K=/\/+/g;function ie(H,ae){return typeof H=="object"&&H!==null&&H.key!=null?ee(""+H.key):ae.toString(36)}function he(){}function fe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(he,he):(H.status="pending",H.then(function(ae){H.status==="pending"&&(H.status="fulfilled",H.value=ae)},function(ae){H.status==="pending"&&(H.status="rejected",H.reason=ae)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function de(H,ae,ne,ce,be){var Me=typeof H;(Me==="undefined"||Me==="boolean")&&(H=null);var xe=!1;if(H===null)xe=!0;else switch(Me){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(H.$$typeof){case t:case e:xe=!0;break;case h:return xe=H._init,de(xe(H._payload),ae,ne,ce,be)}}if(xe)return be=be(H),xe=ce===""?"."+ie(H,0):ce,U(be)?(ne="",xe!=null&&(ne=xe.replace(K,"$&/")+"/"),de(be,ae,ne,"",function(pe){return pe})):be!=null&&(G(be)&&(be=z(be,ne+(be.key==null||H&&H.key===be.key?"":(""+be.key).replace(K,"$&/")+"/")+xe)),ae.push(be)),1;xe=0;var $e=ce===""?".":ce+":";if(U(H))for(var He=0;He<H.length;He++)ce=H[He],Me=$e+ie(ce,He),xe+=de(ce,ae,ne,Me,be);else if(He=y(H),typeof He=="function")for(H=He.call(H),He=0;!(ce=H.next()).done;)ce=ce.value,Me=$e+ie(ce,He++),xe+=de(ce,ae,ne,Me,be);else if(Me==="object"){if(typeof H.then=="function")return de(fe(H),ae,ne,ce,be);throw ae=String(H),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Y(H,ae,ne){if(H==null)return H;var ce=[],be=0;return de(H,ce,"","",function(Me){return ae.call(ne,Me,be++)}),ce}function J(H){if(H._status===-1){var ae=H._result;ae=ae(),ae.then(function(ne){(H._status===0||H._status===-1)&&(H._status=1,H._result=ne)},function(ne){(H._status===0||H._status===-1)&&(H._status=2,H._result=ne)}),H._status===-1&&(H._status=0,H._result=ae)}if(H._status===1)return H._result.default;throw H._result}var se=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function _e(){}return Fe.Children={map:Y,forEach:function(H,ae,ne){Y(H,function(){ae.apply(this,arguments)},ne)},count:function(H){var ae=0;return Y(H,function(){ae++}),ae},toArray:function(H){return Y(H,function(ae){return ae})||[]},only:function(H){if(!G(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Fe.Component=_,Fe.Fragment=n,Fe.Profiler=r,Fe.PureComponent=R,Fe.StrictMode=i,Fe.Suspense=c,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return k.H.useMemoCache(H)}},Fe.cache=function(H){return function(){return H.apply(null,arguments)}},Fe.cloneElement=function(H,ae,ne){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ce=T({},H.props),be=H.key,Me=void 0;if(ae!=null)for(xe in ae.ref!==void 0&&(Me=void 0),ae.key!==void 0&&(be=""+ae.key),ae)!F.call(ae,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ae.ref===void 0||(ce[xe]=ae[xe]);var xe=arguments.length-2;if(xe===1)ce.children=ne;else if(1<xe){for(var $e=Array(xe),He=0;He<xe;He++)$e[He]=arguments[He+2];ce.children=$e}return q(H.type,be,void 0,void 0,Me,ce)},Fe.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},Fe.createElement=function(H,ae,ne){var ce,be={},Me=null;if(ae!=null)for(ce in ae.key!==void 0&&(Me=""+ae.key),ae)F.call(ae,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=ae[ce]);var xe=arguments.length-2;if(xe===1)be.children=ne;else if(1<xe){for(var $e=Array(xe),He=0;He<xe;He++)$e[He]=arguments[He+2];be.children=$e}if(H&&H.defaultProps)for(ce in xe=H.defaultProps,xe)be[ce]===void 0&&(be[ce]=xe[ce]);return q(H,Me,void 0,void 0,null,be)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(H){return{$$typeof:u,render:H}},Fe.isValidElement=G,Fe.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:J}},Fe.memo=function(H,ae){return{$$typeof:f,type:H,compare:ae===void 0?null:ae}},Fe.startTransition=function(H){var ae=k.T,ne={};k.T=ne;try{var ce=H(),be=k.S;be!==null&&be(ne,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(_e,se)}catch(Me){se(Me)}finally{k.T=ae}},Fe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Fe.use=function(H){return k.H.use(H)},Fe.useActionState=function(H,ae,ne){return k.H.useActionState(H,ae,ne)},Fe.useCallback=function(H,ae){return k.H.useCallback(H,ae)},Fe.useContext=function(H){return k.H.useContext(H)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(H,ae){return k.H.useDeferredValue(H,ae)},Fe.useEffect=function(H,ae,ne){var ce=k.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(H,ae)},Fe.useId=function(){return k.H.useId()},Fe.useImperativeHandle=function(H,ae,ne){return k.H.useImperativeHandle(H,ae,ne)},Fe.useInsertionEffect=function(H,ae){return k.H.useInsertionEffect(H,ae)},Fe.useLayoutEffect=function(H,ae){return k.H.useLayoutEffect(H,ae)},Fe.useMemo=function(H,ae){return k.H.useMemo(H,ae)},Fe.useOptimistic=function(H,ae){return k.H.useOptimistic(H,ae)},Fe.useReducer=function(H,ae,ne){return k.H.useReducer(H,ae,ne)},Fe.useRef=function(H){return k.H.useRef(H)},Fe.useState=function(H){return k.H.useState(H)},Fe.useSyncExternalStore=function(H,ae,ne){return k.H.useSyncExternalStore(H,ae,ne)},Fe.useTransition=function(){return k.H.useTransition()},Fe.version="19.1.1",Fe}var XP;function nd(){return XP||(XP=1,kS.exports=Xz()),kS.exports}var O=nd();const Bm=Cs(O),Wz=Yz({__proto__:null,default:Bm},[O]);var LS={exports:{}},ph={},OS={exports:{}},FS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WP;function Jz(){return WP||(WP=1,(function(t){function e(Y,J){var se=Y.length;Y.push(J);e:for(;0<se;){var _e=se-1>>>1,H=Y[_e];if(0<r(H,J))Y[_e]=J,Y[se]=H,se=_e;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var J=Y[0],se=Y.pop();if(se!==J){Y[0]=se;e:for(var _e=0,H=Y.length,ae=H>>>1;_e<ae;){var ne=2*(_e+1)-1,ce=Y[ne],be=ne+1,Me=Y[be];if(0>r(ce,se))be<H&&0>r(Me,ce)?(Y[_e]=Me,Y[be]=se,_e=be):(Y[_e]=ce,Y[ne]=se,_e=ne);else if(be<H&&0>r(Me,se))Y[_e]=Me,Y[be]=se,_e=be;else break e}}return J}function r(Y,J){var se=Y.sortIndex-J.sortIndex;return se!==0?se:Y.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],f=[],h=1,g=null,y=3,S=!1,T=!1,C=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function U(Y){for(var J=n(f);J!==null;){if(J.callback===null)i(f);else if(J.startTime<=Y)i(f),J.sortIndex=J.expirationTime,e(c,J);else break;J=n(f)}}function k(Y){if(C=!1,U(Y),!T)if(n(c)!==null)T=!0,F||(F=!0,ie());else{var J=n(f);J!==null&&de(k,J.startTime-Y)}}var F=!1,q=-1,z=5,G=-1;function ee(){return _?!0:!(t.unstable_now()-G<z)}function K(){if(_=!1,F){var Y=t.unstable_now();G=Y;var J=!0;try{e:{T=!1,C&&(C=!1,R(q),q=-1),S=!0;var se=y;try{t:{for(U(Y),g=n(c);g!==null&&!(g.expirationTime>Y&&ee());){var _e=g.callback;if(typeof _e=="function"){g.callback=null,y=g.priorityLevel;var H=_e(g.expirationTime<=Y);if(Y=t.unstable_now(),typeof H=="function"){g.callback=H,U(Y),J=!0;break t}g===n(c)&&i(c),U(Y)}else i(c);g=n(c)}if(g!==null)J=!0;else{var ae=n(f);ae!==null&&de(k,ae.startTime-Y),J=!1}}break e}finally{g=null,y=se,S=!1}J=void 0}}finally{J?ie():F=!1}}}var ie;if(typeof M=="function")ie=function(){M(K)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,fe=he.port2;he.port1.onmessage=K,ie=function(){fe.postMessage(null)}}else ie=function(){x(K,0)};function de(Y,J){q=x(function(){Y(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var se=y;y=J;try{return Y()}finally{y=se}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=y;y=Y;try{return J()}finally{y=se}},t.unstable_scheduleCallback=function(Y,J,se){var _e=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?_e+se:_e):se=_e,Y){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=se+H,Y={id:h++,callback:J,priorityLevel:Y,startTime:se,expirationTime:H,sortIndex:-1},se>_e?(Y.sortIndex=se,e(f,Y),n(c)===null&&Y===n(f)&&(C?(R(q),q=-1):C=!0,de(k,se-_e))):(Y.sortIndex=H,e(c,Y),T||S||(T=!0,F||(F=!0,ie()))),Y},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(Y){var J=y;return function(){var se=y;y=J;try{return Y.apply(this,arguments)}finally{y=se}}}})(FS)),FS}var JP;function Qz(){return JP||(JP=1,OS.exports=Jz()),OS.exports}var US={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP;function Zz(){if(QP)return Vn;QP=1;var t=nd();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,f,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:c,containerInfo:f,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Vn.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,h)},Vn.flushSync=function(c){var f=a.T,h=i.p;try{if(a.T=null,i.p=2,c)return c()}finally{a.T=f,i.p=h,i.d.f()}},Vn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(c,f))},Vn.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Vn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,g=u(h,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?i.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:S}):h==="script"&&i.d.X(c,{crossOrigin:g,integrity:y,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Vn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);i.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(c)},Vn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,g=u(h,f.crossOrigin);i.d.L(c,h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Vn.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);i.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(c)},Vn.requestFormReset=function(c){i.d.r(c)},Vn.unstable_batchedUpdates=function(c,f){return c(f)},Vn.useFormState=function(c,f,h){return a.H.useFormState(c,f,h)},Vn.useFormStatus=function(){return a.H.useHostTransitionStatus()},Vn.version="19.1.1",Vn}var ZP;function LO(){if(ZP)return US.exports;ZP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),US.exports=Zz(),US.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD;function e4(){if(eD)return ph;eD=1;var t=Qz(),e=nd(),n=LO();function i(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(i(188))}function c(o){var l=o.alternate;if(!l){if(l=s(o),l===null)throw Error(i(188));return l!==o?null:o}for(var d=o,v=l;;){var A=d.return;if(A===null)break;var E=A.alternate;if(E===null){if(v=A.return,v!==null){d=v;continue}break}if(A.child===E.child){for(E=A.child;E;){if(E===d)return u(A),o;if(E===v)return u(A),l;E=E.sibling}throw Error(i(188))}if(d.return!==v.return)d=A,v=E;else{for(var w=!1,D=A.child;D;){if(D===d){w=!0,d=A,v=E;break}if(D===v){w=!0,v=A,d=E;break}D=D.sibling}if(!w){for(D=E.child;D;){if(D===d){w=!0,d=E,v=A;break}if(D===v){w=!0,v=E,d=A;break}D=D.sibling}if(!w)throw Error(i(189))}}if(d.alternate!==v)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?o:l}function f(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=f(o),l!==null)return l;o=o.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=K&&o[K]||o["@@iterator"],typeof o=="function"?o:null)}var he=Symbol.for("react.client.reference");function fe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===he?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case _:return"Profiler";case C:return"StrictMode";case k:return"Suspense";case F:return"SuspenseList";case G:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case M:return(o.displayName||"Context")+".Provider";case R:return(o._context.displayName||"Context")+".Consumer";case U:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case q:return l=o.displayName||null,l!==null?l:fe(o.type)||"Memo";case z:l=o._payload,o=o._init;try{return fe(o(l))}catch{}}return null}var de=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},_e=[],H=-1;function ae(o){return{current:o}}function ne(o){0>H||(o.current=_e[H],_e[H]=null,H--)}function ce(o,l){H++,_e[H]=o.current,o.current=l}var be=ae(null),Me=ae(null),xe=ae(null),$e=ae(null);function He(o,l){switch(ce(xe,l),ce(Me,o),ce(be,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?bP(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=bP(l),o=AP(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ne(be),ce(be,o)}function pe(){ne(be),ne(Me),ne(xe)}function ue(o){o.memoizedState!==null&&ce($e,o);var l=be.current,d=AP(l,o.type);l!==d&&(ce(Me,o),ce(be,d))}function ve(o){Me.current===o&&(ne(be),ne(Me)),$e.current===o&&(ne($e),lh._currentValue=se)}var te=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,Ee=t.unstable_cancelCallback,at=t.unstable_shouldYield,pt=t.unstable_requestPaint,lt=t.unstable_now,Ku=t.unstable_getCurrentPriorityLevel,Zw=t.unstable_ImmediatePriority,e1=t.unstable_UserBlockingPriority,ag=t.unstable_NormalPriority,_3=t.unstable_LowPriority,t1=t.unstable_IdlePriority,x3=t.log,w3=t.unstable_setDisableYieldValue,gd=null,Si=null;function Ho(o){if(typeof x3=="function"&&w3(o),Si&&typeof Si.setStrictMode=="function")try{Si.setStrictMode(gd,o)}catch{}}var Ti=Math.clz32?Math.clz32:P3,M3=Math.log,R3=Math.LN2;function P3(o){return o>>>=0,o===0?32:31-(M3(o)/R3|0)|0}var lg=256,ug=4194304;function Ja(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function cg(o,l,d){var v=o.pendingLanes;if(v===0)return 0;var A=0,E=o.suspendedLanes,w=o.pingedLanes;o=o.warmLanes;var D=v&134217727;return D!==0?(v=D&~E,v!==0?A=Ja(v):(w&=D,w!==0?A=Ja(w):d||(d=D&~o,d!==0&&(A=Ja(d))))):(D=v&~E,D!==0?A=Ja(D):w!==0?A=Ja(w):d||(d=v&~o,d!==0&&(A=Ja(d)))),A===0?0:l!==0&&l!==A&&(l&E)===0&&(E=A&-A,d=l&-l,E>=d||E===32&&(d&4194048)!==0)?l:A}function vd(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function D3(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n1(){var o=lg;return lg<<=1,(lg&4194048)===0&&(lg=256),o}function i1(){var o=ug;return ug<<=1,(ug&62914560)===0&&(ug=4194304),o}function Sb(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function yd(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function N3(o,l,d,v,A,E){var w=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var D=o.entanglements,B=o.expirationTimes,X=o.hiddenUpdates;for(d=w&~d;0<d;){var re=31-Ti(d),le=1<<re;D[re]=0,B[re]=-1;var W=X[re];if(W!==null)for(X[re]=null,re=0;re<W.length;re++){var Q=W[re];Q!==null&&(Q.lane&=-536870913)}d&=~le}v!==0&&r1(o,v,0),E!==0&&A===0&&o.tag!==0&&(o.suspendedLanes|=E&~(w&~l))}function r1(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var v=31-Ti(l);o.entangledLanes|=l,o.entanglements[v]=o.entanglements[v]|1073741824|d&4194090}function s1(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var v=31-Ti(d),A=1<<v;A&l|o[v]&l&&(o[v]|=l),d&=~A}}function Tb(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Eb(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function o1(){var o=J.p;return o!==0?o:(o=window.event,o===void 0?32:BP(o.type))}function I3(o,l){var d=J.p;try{return J.p=o,l()}finally{J.p=d}}var Vo=Math.random().toString(36).slice(2),qn="__reactFiber$"+Vo,si="__reactProps$"+Vo,ju="__reactContainer$"+Vo,Cb="__reactEvents$"+Vo,k3="__reactListeners$"+Vo,L3="__reactHandles$"+Vo,a1="__reactResources$"+Vo,bd="__reactMarker$"+Vo;function _b(o){delete o[qn],delete o[si],delete o[Cb],delete o[k3],delete o[L3]}function Xu(o){var l=o[qn];if(l)return l;for(var d=o.parentNode;d;){if(l=d[ju]||d[qn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=CP(o);o!==null;){if(d=o[qn])return d;o=CP(o)}return l}o=d,d=o.parentNode}return null}function Wu(o){if(o=o[qn]||o[ju]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function Ad(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(i(33))}function Ju(o){var l=o[a1];return l||(l=o[a1]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function gn(o){o[bd]=!0}var l1=new Set,u1={};function Qa(o,l){Qu(o,l),Qu(o+"Capture",l)}function Qu(o,l){for(u1[o]=l,o=0;o<l.length;o++)l1.add(l[o])}var O3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),c1={},f1={};function F3(o){return te.call(f1,o)?!0:te.call(c1,o)?!1:O3.test(o)?f1[o]=!0:(c1[o]=!0,!1)}function fg(o,l,d){if(F3(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function dg(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function _s(o,l,d,v){if(v===null)o.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+v)}}var xb,d1;function Zu(o){if(xb===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);xb=l&&l[1]||"",d1=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xb+o+d1}var wb=!1;function Mb(o,l){if(!o||wb)return"";wb=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(Q){var W=Q}Reflect.construct(o,[],le)}else{try{le.call()}catch(Q){W=Q}o.call(le.prototype)}}else{try{throw Error()}catch(Q){W=Q}(le=o())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(Q){if(Q&&W&&typeof Q.stack=="string")return[Q.stack,W.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=v.DetermineComponentFrameRoot(),w=E[0],D=E[1];if(w&&D){var B=w.split(`
`),X=D.split(`
`);for(A=v=0;v<B.length&&!B[v].includes("DetermineComponentFrameRoot");)v++;for(;A<X.length&&!X[A].includes("DetermineComponentFrameRoot");)A++;if(v===B.length||A===X.length)for(v=B.length-1,A=X.length-1;1<=v&&0<=A&&B[v]!==X[A];)A--;for(;1<=v&&0<=A;v--,A--)if(B[v]!==X[A]){if(v!==1||A!==1)do if(v--,A--,0>A||B[v]!==X[A]){var re=`
`+B[v].replace(" at new "," at ");return o.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",o.displayName)),re}while(1<=v&&0<=A);break}}}finally{wb=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Zu(d):""}function U3(o){switch(o.tag){case 26:case 27:case 5:return Zu(o.type);case 16:return Zu("Lazy");case 13:return Zu("Suspense");case 19:return Zu("SuspenseList");case 0:case 15:return Mb(o.type,!1);case 11:return Mb(o.type.render,!1);case 1:return Mb(o.type,!0);case 31:return Zu("Activity");default:return""}}function h1(o){try{var l="";do l+=U3(o),o=o.return;while(o);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Wi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function p1(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function B3(o){var l=p1(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),v=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var A=d.get,E=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return A.call(this)},set:function(w){v=""+w,E.call(this,w)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return v},setValue:function(w){v=""+w},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function hg(o){o._valueTracker||(o._valueTracker=B3(o))}function m1(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),v="";return o&&(v=p1(o)?o.checked?"true":"false":o.value),o=v,o!==d?(l.setValue(o),!0):!1}function pg(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var q3=/[\n"\\]/g;function Ji(o){return o.replace(q3,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Rb(o,l,d,v,A,E,w,D){o.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?o.type=w:o.removeAttribute("type"),l!=null?w==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Wi(l)):o.value!==""+Wi(l)&&(o.value=""+Wi(l)):w!=="submit"&&w!=="reset"||o.removeAttribute("value"),l!=null?Pb(o,w,Wi(l)):d!=null?Pb(o,w,Wi(d)):v!=null&&o.removeAttribute("value"),A==null&&E!=null&&(o.defaultChecked=!!E),A!=null&&(o.checked=A&&typeof A!="function"&&typeof A!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.name=""+Wi(D):o.removeAttribute("name")}function g1(o,l,d,v,A,E,w,D){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.type=E),l!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||l!=null))return;d=d!=null?""+Wi(d):"",l=l!=null?""+Wi(l):d,D||l===o.value||(o.value=l),o.defaultValue=l}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=D?o.checked:!!v,o.defaultChecked=!!v,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.name=w)}function Pb(o,l,d){l==="number"&&pg(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function ec(o,l,d,v){if(o=o.options,l){l={};for(var A=0;A<d.length;A++)l["$"+d[A]]=!0;for(d=0;d<o.length;d++)A=l.hasOwnProperty("$"+o[d].value),o[d].selected!==A&&(o[d].selected=A),A&&v&&(o[d].defaultSelected=!0)}else{for(d=""+Wi(d),l=null,A=0;A<o.length;A++){if(o[A].value===d){o[A].selected=!0,v&&(o[A].defaultSelected=!0);return}l!==null||o[A].disabled||(l=o[A])}l!==null&&(l.selected=!0)}}function v1(o,l,d){if(l!=null&&(l=""+Wi(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+Wi(d):""}function y1(o,l,d,v){if(l==null){if(v!=null){if(d!=null)throw Error(i(92));if(de(v)){if(1<v.length)throw Error(i(93));v=v[0]}d=v}d==null&&(d=""),l=d}d=Wi(l),o.defaultValue=d,v=o.textContent,v===d&&v!==""&&v!==null&&(o.value=v)}function tc(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var H3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function b1(o,l,d){var v=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?v?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":v?o.setProperty(l,d):typeof d!="number"||d===0||H3.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function A1(o,l,d){if(l!=null&&typeof l!="object")throw Error(i(62));if(o=o.style,d!=null){for(var v in d)!d.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var A in l)v=l[A],l.hasOwnProperty(A)&&d[A]!==v&&b1(o,A,v)}else for(var E in l)l.hasOwnProperty(E)&&b1(o,E,l[E])}function Db(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mg(o){return z3.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Nb=null;function Ib(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var nc=null,ic=null;function S1(o){var l=Wu(o);if(l&&(o=l.stateNode)){var d=o[si]||null;e:switch(o=l.stateNode,l.type){case"input":if(Rb(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ji(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var v=d[l];if(v!==o&&v.form===o.form){var A=v[si]||null;if(!A)throw Error(i(90));Rb(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(l=0;l<d.length;l++)v=d[l],v.form===o.form&&m1(v)}break e;case"textarea":v1(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&ec(o,!!d.multiple,l,!1)}}}var kb=!1;function T1(o,l,d){if(kb)return o(l,d);kb=!0;try{var v=o(l);return v}finally{if(kb=!1,(nc!==null||ic!==null)&&(ev(),nc&&(l=nc,o=ic,ic=nc=null,S1(l),o)))for(l=0;l<o.length;l++)S1(o[l])}}function Sd(o,l){var d=o.stateNode;if(d===null)return null;var v=d[si]||null;if(v===null)return null;d=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(i(231,l,typeof d));return d}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lb=!1;if(xs)try{var Td={};Object.defineProperty(Td,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{Lb=!1}var zo=null,Ob=null,gg=null;function E1(){if(gg)return gg;var o,l=Ob,d=l.length,v,A="value"in zo?zo.value:zo.textContent,E=A.length;for(o=0;o<d&&l[o]===A[o];o++);var w=d-o;for(v=1;v<=w&&l[d-v]===A[E-v];v++);return gg=A.slice(o,1<v?1-v:void 0)}function vg(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function yg(){return!0}function C1(){return!1}function oi(o){function l(d,v,A,E,w){this._reactName=d,this._targetInst=A,this.type=v,this.nativeEvent=E,this.target=w,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(d=o[D],this[D]=d?d(E):E[D]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?yg:C1,this.isPropagationStopped=C1,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=yg)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=yg)},persist:function(){},isPersistent:yg}),l}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bg=oi(Za),Ed=h({},Za,{view:0,detail:0}),G3=oi(Ed),Fb,Ub,Cd,Ag=h({},Ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qb,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Cd&&(Cd&&o.type==="mousemove"?(Fb=o.screenX-Cd.screenX,Ub=o.screenY-Cd.screenY):Ub=Fb=0,Cd=o),Fb)},movementY:function(o){return"movementY"in o?o.movementY:Ub}}),_1=oi(Ag),$3=h({},Ag,{dataTransfer:0}),Y3=oi($3),K3=h({},Ed,{relatedTarget:0}),Bb=oi(K3),j3=h({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),X3=oi(j3),W3=h({},Za,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),J3=oi(W3),Q3=h({},Za,{data:0}),x1=oi(Q3),Z3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nV(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=tV[o])?!!l[o]:!1}function qb(){return nV}var iV=h({},Ed,{key:function(o){if(o.key){var l=Z3[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=vg(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?eV[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qb,charCode:function(o){return o.type==="keypress"?vg(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?vg(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),rV=oi(iV),sV=h({},Ag,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w1=oi(sV),oV=h({},Ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qb}),aV=oi(oV),lV=h({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),uV=oi(lV),cV=h({},Ag,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),fV=oi(cV),dV=h({},Za,{newState:0,oldState:0}),hV=oi(dV),pV=[9,13,27,32],Hb=xs&&"CompositionEvent"in window,_d=null;xs&&"documentMode"in document&&(_d=document.documentMode);var mV=xs&&"TextEvent"in window&&!_d,M1=xs&&(!Hb||_d&&8<_d&&11>=_d),R1=" ",P1=!1;function D1(o,l){switch(o){case"keyup":return pV.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var rc=!1;function gV(o,l){switch(o){case"compositionend":return N1(l);case"keypress":return l.which!==32?null:(P1=!0,R1);case"textInput":return o=l.data,o===R1&&P1?null:o;default:return null}}function vV(o,l){if(rc)return o==="compositionend"||!Hb&&D1(o,l)?(o=E1(),gg=Ob=zo=null,rc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return M1&&l.locale!=="ko"?null:l.data;default:return null}}var yV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!yV[o.type]:l==="textarea"}function k1(o,l,d,v){nc?ic?ic.push(v):ic=[v]:nc=v,l=ov(l,"onChange"),0<l.length&&(d=new bg("onChange","change",null,d,v),o.push({event:d,listeners:l}))}var xd=null,wd=null;function bV(o){pP(o,0)}function Sg(o){var l=Ad(o);if(m1(l))return o}function L1(o,l){if(o==="change")return l}var O1=!1;if(xs){var Vb;if(xs){var zb="oninput"in document;if(!zb){var F1=document.createElement("div");F1.setAttribute("oninput","return;"),zb=typeof F1.oninput=="function"}Vb=zb}else Vb=!1;O1=Vb&&(!document.documentMode||9<document.documentMode)}function U1(){xd&&(xd.detachEvent("onpropertychange",B1),wd=xd=null)}function B1(o){if(o.propertyName==="value"&&Sg(wd)){var l=[];k1(l,wd,o,Ib(o)),T1(bV,l)}}function AV(o,l,d){o==="focusin"?(U1(),xd=l,wd=d,xd.attachEvent("onpropertychange",B1)):o==="focusout"&&U1()}function SV(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Sg(wd)}function TV(o,l){if(o==="click")return Sg(l)}function EV(o,l){if(o==="input"||o==="change")return Sg(l)}function CV(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Ei=typeof Object.is=="function"?Object.is:CV;function Md(o,l){if(Ei(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),v=Object.keys(l);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var A=d[v];if(!te.call(l,A)||!Ei(o[A],l[A]))return!1}return!0}function q1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function H1(o,l){var d=q1(o);o=0;for(var v;d;){if(d.nodeType===3){if(v=o+d.textContent.length,o<=l&&v>=l)return{node:d,offset:l-o};o=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=q1(d)}}function V1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?V1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function z1(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=pg(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=pg(o.document)}return l}function Gb(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var _V=xs&&"documentMode"in document&&11>=document.documentMode,sc=null,$b=null,Rd=null,Yb=!1;function G1(o,l,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Yb||sc==null||sc!==pg(v)||(v=sc,"selectionStart"in v&&Gb(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Rd&&Md(Rd,v)||(Rd=v,v=ov($b,"onSelect"),0<v.length&&(l=new bg("onSelect","select",null,l,d),o.push({event:l,listeners:v}),l.target=sc)))}function el(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var oc={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionrun:el("Transition","TransitionRun"),transitionstart:el("Transition","TransitionStart"),transitioncancel:el("Transition","TransitionCancel"),transitionend:el("Transition","TransitionEnd")},Kb={},$1={};xs&&($1=document.createElement("div").style,"AnimationEvent"in window||(delete oc.animationend.animation,delete oc.animationiteration.animation,delete oc.animationstart.animation),"TransitionEvent"in window||delete oc.transitionend.transition);function tl(o){if(Kb[o])return Kb[o];if(!oc[o])return o;var l=oc[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in $1)return Kb[o]=l[d];return o}var Y1=tl("animationend"),K1=tl("animationiteration"),j1=tl("animationstart"),xV=tl("transitionrun"),wV=tl("transitionstart"),MV=tl("transitioncancel"),X1=tl("transitionend"),W1=new Map,jb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jb.push("scrollEnd");function Cr(o,l){W1.set(o,l),Qa(l,[o])}var J1=new WeakMap;function Qi(o,l){if(typeof o=="object"&&o!==null){var d=J1.get(o);return d!==void 0?d:(l={value:o,source:l,stack:h1(l)},J1.set(o,l),l)}return{value:o,source:l,stack:h1(l)}}var Zi=[],ac=0,Xb=0;function Tg(){for(var o=ac,l=Xb=ac=0;l<o;){var d=Zi[l];Zi[l++]=null;var v=Zi[l];Zi[l++]=null;var A=Zi[l];Zi[l++]=null;var E=Zi[l];if(Zi[l++]=null,v!==null&&A!==null){var w=v.pending;w===null?A.next=A:(A.next=w.next,w.next=A),v.pending=A}E!==0&&Q1(d,A,E)}}function Eg(o,l,d,v){Zi[ac++]=o,Zi[ac++]=l,Zi[ac++]=d,Zi[ac++]=v,Xb|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Wb(o,l,d,v){return Eg(o,l,d,v),Cg(o)}function lc(o,l){return Eg(o,null,null,l),Cg(o)}function Q1(o,l,d){o.lanes|=d;var v=o.alternate;v!==null&&(v.lanes|=d);for(var A=!1,E=o.return;E!==null;)E.childLanes|=d,v=E.alternate,v!==null&&(v.childLanes|=d),E.tag===22&&(o=E.stateNode,o===null||o._visibility&1||(A=!0)),o=E,E=E.return;return o.tag===3?(E=o.stateNode,A&&l!==null&&(A=31-Ti(d),o=E.hiddenUpdates,v=o[A],v===null?o[A]=[l]:v.push(l),l.lane=d|536870912),E):null}function Cg(o){if(50<eh)throw eh=0,nS=null,Error(i(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var uc={};function RV(o,l,d,v){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(o,l,d,v){return new RV(o,l,d,v)}function Jb(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ws(o,l){var d=o.alternate;return d===null?(d=Ci(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function Z1(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function _g(o,l,d,v,A,E){var w=0;if(v=o,typeof o=="function")Jb(o)&&(w=1);else if(typeof o=="string")w=Dz(o,d,be.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case G:return o=Ci(31,d,l,A),o.elementType=G,o.lanes=E,o;case T:return nl(d.children,A,E,l);case C:w=8,A|=24;break;case _:return o=Ci(12,d,l,A|2),o.elementType=_,o.lanes=E,o;case k:return o=Ci(13,d,l,A),o.elementType=k,o.lanes=E,o;case F:return o=Ci(19,d,l,A),o.elementType=F,o.lanes=E,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case x:case M:w=10;break e;case R:w=9;break e;case U:w=11;break e;case q:w=14;break e;case z:w=16,v=null;break e}w=29,d=Error(i(130,o===null?"null":typeof o,"")),v=null}return l=Ci(w,d,l,A),l.elementType=o,l.type=v,l.lanes=E,l}function nl(o,l,d,v){return o=Ci(7,o,v,l),o.lanes=d,o}function Qb(o,l,d){return o=Ci(6,o,null,l),o.lanes=d,o}function Zb(o,l,d){return l=Ci(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var cc=[],fc=0,xg=null,wg=0,er=[],tr=0,il=null,Ms=1,Rs="";function rl(o,l){cc[fc++]=wg,cc[fc++]=xg,xg=o,wg=l}function eM(o,l,d){er[tr++]=Ms,er[tr++]=Rs,er[tr++]=il,il=o;var v=Ms;o=Rs;var A=32-Ti(v)-1;v&=~(1<<A),d+=1;var E=32-Ti(l)+A;if(30<E){var w=A-A%5;E=(v&(1<<w)-1).toString(32),v>>=w,A-=w,Ms=1<<32-Ti(l)+A|d<<A|v,Rs=E+o}else Ms=1<<E|d<<A|v,Rs=o}function eA(o){o.return!==null&&(rl(o,1),eM(o,1,0))}function tA(o){for(;o===xg;)xg=cc[--fc],cc[fc]=null,wg=cc[--fc],cc[fc]=null;for(;o===il;)il=er[--tr],er[tr]=null,Rs=er[--tr],er[tr]=null,Ms=er[--tr],er[tr]=null}var Wn=null,Vt=null,st=!1,sl=null,Wr=!1,nA=Error(i(519));function ol(o){var l=Error(i(418,""));throw Nd(Qi(l,o)),nA}function tM(o){var l=o.stateNode,d=o.type,v=o.memoizedProps;switch(l[qn]=o,l[si]=v,d){case"dialog":Ke("cancel",l),Ke("close",l);break;case"iframe":case"object":case"embed":Ke("load",l);break;case"video":case"audio":for(d=0;d<nh.length;d++)Ke(nh[d],l);break;case"source":Ke("error",l);break;case"img":case"image":case"link":Ke("error",l),Ke("load",l);break;case"details":Ke("toggle",l);break;case"input":Ke("invalid",l),g1(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),hg(l);break;case"select":Ke("invalid",l);break;case"textarea":Ke("invalid",l),y1(l,v.value,v.defaultValue,v.children),hg(l)}d=v.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||v.suppressHydrationWarning===!0||yP(l.textContent,d)?(v.popover!=null&&(Ke("beforetoggle",l),Ke("toggle",l)),v.onScroll!=null&&Ke("scroll",l),v.onScrollEnd!=null&&Ke("scrollend",l),v.onClick!=null&&(l.onclick=av),l=!0):l=!1,l||ol(o)}function nM(o){for(Wn=o.return;Wn;)switch(Wn.tag){case 5:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Wn=Wn.return}}function Pd(o){if(o!==Wn)return!1;if(!st)return nM(o),st=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||yS(o.type,o.memoizedProps)),d=!d),d&&Vt&&ol(o),nM(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(d=o.data,d==="/$"){if(l===0){Vt=xr(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;o=o.nextSibling}Vt=null}}else l===27?(l=Vt,sa(o.type)?(o=TS,TS=null,Vt=o):Vt=l):Vt=Wn?xr(o.stateNode.nextSibling):null;return!0}function Dd(){Vt=Wn=null,st=!1}function iM(){var o=sl;return o!==null&&(ui===null?ui=o:ui.push.apply(ui,o),sl=null),o}function Nd(o){sl===null?sl=[o]:sl.push(o)}var iA=ae(null),al=null,Ps=null;function Go(o,l,d){ce(iA,l._currentValue),l._currentValue=d}function Ds(o){o._currentValue=iA.current,ne(iA)}function rA(o,l,d){for(;o!==null;){var v=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),o===d)break;o=o.return}}function sA(o,l,d,v){var A=o.child;for(A!==null&&(A.return=o);A!==null;){var E=A.dependencies;if(E!==null){var w=A.child;E=E.firstContext;e:for(;E!==null;){var D=E;E=A;for(var B=0;B<l.length;B++)if(D.context===l[B]){E.lanes|=d,D=E.alternate,D!==null&&(D.lanes|=d),rA(E.return,d,o),v||(w=null);break e}E=D.next}}else if(A.tag===18){if(w=A.return,w===null)throw Error(i(341));w.lanes|=d,E=w.alternate,E!==null&&(E.lanes|=d),rA(w,d,o),w=null}else w=A.child;if(w!==null)w.return=A;else for(w=A;w!==null;){if(w===o){w=null;break}if(A=w.sibling,A!==null){A.return=w.return,w=A;break}w=w.return}A=w}}function Id(o,l,d,v){o=null;for(var A=l,E=!1;A!==null;){if(!E){if((A.flags&524288)!==0)E=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var w=A.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var D=A.type;Ei(A.pendingProps.value,w.value)||(o!==null?o.push(D):o=[D])}}else if(A===$e.current){if(w=A.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(o!==null?o.push(lh):o=[lh])}A=A.return}o!==null&&sA(l,o,d,v),l.flags|=262144}function Mg(o){for(o=o.firstContext;o!==null;){if(!Ei(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ll(o){al=o,Ps=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Hn(o){return rM(al,o)}function Rg(o,l){return al===null&&ll(o),rM(o,l)}function rM(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Ps===null){if(o===null)throw Error(i(308));Ps=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Ps=Ps.next=l;return d}var PV=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,v){o.push(v)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},DV=t.unstable_scheduleCallback,NV=t.unstable_NormalPriority,on={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oA(){return{controller:new PV,data:new Map,refCount:0}}function kd(o){o.refCount--,o.refCount===0&&DV(NV,function(){o.controller.abort()})}var Ld=null,aA=0,dc=0,hc=null;function IV(o,l){if(Ld===null){var d=Ld=[];aA=0,dc=uS(),hc={status:"pending",value:void 0,then:function(v){d.push(v)}}}return aA++,l.then(sM,sM),l}function sM(){if(--aA===0&&Ld!==null){hc!==null&&(hc.status="fulfilled");var o=Ld;Ld=null,dc=0,hc=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function kV(o,l){var d=[],v={status:"pending",value:null,reason:null,then:function(A){d.push(A)}};return o.then(function(){v.status="fulfilled",v.value=l;for(var A=0;A<d.length;A++)(0,d[A])(l)},function(A){for(v.status="rejected",v.reason=A,A=0;A<d.length;A++)(0,d[A])(void 0)}),v}var oM=Y.S;Y.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&IV(o,l),oM!==null&&oM(o,l)};var ul=ae(null);function lA(){var o=ul.current;return o!==null?o:wt.pooledCache}function Pg(o,l){l===null?ce(ul,ul.current):ce(ul,l.pool)}function aM(){var o=lA();return o===null?null:{parent:on._currentValue,pool:o}}var Od=Error(i(460)),lM=Error(i(474)),Dg=Error(i(542)),uA={then:function(){}};function uM(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ng(){}function cM(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(Ng,Ng),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,dM(o),o;default:if(typeof l.status=="string")l.then(Ng,Ng);else{if(o=wt,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=l,o.status="pending",o.then(function(v){if(l.status==="pending"){var A=l;A.status="fulfilled",A.value=v}},function(v){if(l.status==="pending"){var A=l;A.status="rejected",A.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,dM(o),o}throw Fd=l,Od}}var Fd=null;function fM(){if(Fd===null)throw Error(i(459));var o=Fd;return Fd=null,o}function dM(o){if(o===Od||o===Dg)throw Error(i(483))}var $o=!1;function cA(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fA(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Yo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ko(o,l,d){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(ut&2)!==0){var A=v.pending;return A===null?l.next=l:(l.next=A.next,A.next=l),v.pending=l,l=Cg(o),Q1(o,null,d),l}return Eg(o,v,l,d),Cg(o)}function Ud(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var v=l.lanes;v&=o.pendingLanes,d|=v,l.lanes=d,s1(o,d)}}function dA(o,l){var d=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var A=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var w={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?A=E=w:E=E.next=w,d=d.next}while(d!==null);E===null?A=E=l:E=E.next=l}else A=E=l;d={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:E,shared:v.shared,callbacks:v.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var hA=!1;function Bd(){if(hA){var o=hc;if(o!==null)throw o}}function qd(o,l,d,v){hA=!1;var A=o.updateQueue;$o=!1;var E=A.firstBaseUpdate,w=A.lastBaseUpdate,D=A.shared.pending;if(D!==null){A.shared.pending=null;var B=D,X=B.next;B.next=null,w===null?E=X:w.next=X,w=B;var re=o.alternate;re!==null&&(re=re.updateQueue,D=re.lastBaseUpdate,D!==w&&(D===null?re.firstBaseUpdate=X:D.next=X,re.lastBaseUpdate=B))}if(E!==null){var le=A.baseState;w=0,re=X=B=null,D=E;do{var W=D.lane&-536870913,Q=W!==D.lane;if(Q?(Je&W)===W:(v&W)===W){W!==0&&W===dc&&(hA=!0),re!==null&&(re=re.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ie=o,Pe=D;W=l;var vt=d;switch(Pe.tag){case 1:if(Ie=Pe.payload,typeof Ie=="function"){le=Ie.call(vt,le,W);break e}le=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Pe.payload,W=typeof Ie=="function"?Ie.call(vt,le,W):Ie,W==null)break e;le=h({},le,W);break e;case 2:$o=!0}}W=D.callback,W!==null&&(o.flags|=64,Q&&(o.flags|=8192),Q=A.callbacks,Q===null?A.callbacks=[W]:Q.push(W))}else Q={lane:W,tag:D.tag,payload:D.payload,callback:D.callback,next:null},re===null?(X=re=Q,B=le):re=re.next=Q,w|=W;if(D=D.next,D===null){if(D=A.shared.pending,D===null)break;Q=D,D=Q.next,Q.next=null,A.lastBaseUpdate=Q,A.shared.pending=null}}while(!0);re===null&&(B=le),A.baseState=B,A.firstBaseUpdate=X,A.lastBaseUpdate=re,E===null&&(A.shared.lanes=0),ta|=w,o.lanes=w,o.memoizedState=le}}function hM(o,l){if(typeof o!="function")throw Error(i(191,o));o.call(l)}function pM(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)hM(d[o],l)}var pc=ae(null),Ig=ae(0);function mM(o,l){o=Us,ce(Ig,o),ce(pc,l),Us=o|l.baseLanes}function pA(){ce(Ig,Us),ce(pc,pc.current)}function mA(){Us=Ig.current,ne(pc),ne(Ig)}var jo=0,Ue=null,mt=null,Jt=null,kg=!1,mc=!1,cl=!1,Lg=0,Hd=0,gc=null,LV=0;function $t(){throw Error(i(321))}function gA(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Ei(o[d],l[d]))return!1;return!0}function vA(o,l,d,v,A,E){return jo=E,Ue=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Y.H=o===null||o.memoizedState===null?QM:ZM,cl=!1,E=d(v,A),cl=!1,mc&&(E=vM(l,d,v,A)),gM(o),E}function gM(o){Y.H=Hg;var l=mt!==null&&mt.next!==null;if(jo=0,Jt=mt=Ue=null,kg=!1,Hd=0,gc=null,l)throw Error(i(300));o===null||vn||(o=o.dependencies,o!==null&&Mg(o)&&(vn=!0))}function vM(o,l,d,v){Ue=o;var A=0;do{if(mc&&(gc=null),Hd=0,mc=!1,25<=A)throw Error(i(301));if(A+=1,Jt=mt=null,o.updateQueue!=null){var E=o.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}Y.H=VV,E=l(d,v)}while(mc);return E}function OV(){var o=Y.H,l=o.useState()[0];return l=typeof l.then=="function"?Vd(l):l,o=o.useState()[0],(mt!==null?mt.memoizedState:null)!==o&&(Ue.flags|=1024),l}function yA(){var o=Lg!==0;return Lg=0,o}function bA(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function AA(o){if(kg){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}kg=!1}jo=0,Jt=mt=Ue=null,mc=!1,Hd=Lg=0,gc=null}function ai(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ue.memoizedState=Jt=o:Jt=Jt.next=o,Jt}function Qt(){if(mt===null){var o=Ue.alternate;o=o!==null?o.memoizedState:null}else o=mt.next;var l=Jt===null?Ue.memoizedState:Jt.next;if(l!==null)Jt=l,mt=o;else{if(o===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));mt=o,o={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Jt===null?Ue.memoizedState=Jt=o:Jt=Jt.next=o}return Jt}function SA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vd(o){var l=Hd;return Hd+=1,gc===null&&(gc=[]),o=cM(gc,o,l),l=Ue,(Jt===null?l.memoizedState:Jt.next)===null&&(l=l.alternate,Y.H=l===null||l.memoizedState===null?QM:ZM),o}function Og(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Vd(o);if(o.$$typeof===M)return Hn(o)}throw Error(i(438,String(o)))}function TA(o){var l=null,d=Ue.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var v=Ue.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(A){return A.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=SA(),Ue.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),v=0;v<o;v++)d[v]=ee;return l.index++,d}function Ns(o,l){return typeof l=="function"?l(o):l}function Fg(o){var l=Qt();return EA(l,mt,o)}function EA(o,l,d){var v=o.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=d;var A=o.baseQueue,E=v.pending;if(E!==null){if(A!==null){var w=A.next;A.next=E.next,E.next=w}l.baseQueue=A=E,v.pending=null}if(E=o.baseState,A===null)o.memoizedState=E;else{l=A.next;var D=w=null,B=null,X=l,re=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(Je&le)===le:(jo&le)===le){var W=X.revertLane;if(W===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===dc&&(re=!0);else if((jo&W)===W){X=X.next,W===dc&&(re=!0);continue}else le={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(D=B=le,w=E):B=B.next=le,Ue.lanes|=W,ta|=W;le=X.action,cl&&d(E,le),E=X.hasEagerState?X.eagerState:d(E,le)}else W={lane:le,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(D=B=W,w=E):B=B.next=W,Ue.lanes|=le,ta|=le;X=X.next}while(X!==null&&X!==l);if(B===null?w=E:B.next=D,!Ei(E,o.memoizedState)&&(vn=!0,re&&(d=hc,d!==null)))throw d;o.memoizedState=E,o.baseState=w,o.baseQueue=B,v.lastRenderedState=E}return A===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function CA(o){var l=Qt(),d=l.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=o;var v=d.dispatch,A=d.pending,E=l.memoizedState;if(A!==null){d.pending=null;var w=A=A.next;do E=o(E,w.action),w=w.next;while(w!==A);Ei(E,l.memoizedState)||(vn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),d.lastRenderedState=E}return[E,v]}function yM(o,l,d){var v=Ue,A=Qt(),E=st;if(E){if(d===void 0)throw Error(i(407));d=d()}else d=l();var w=!Ei((mt||A).memoizedState,d);w&&(A.memoizedState=d,vn=!0),A=A.queue;var D=SM.bind(null,v,A,o);if(zd(2048,8,D,[o]),A.getSnapshot!==l||w||Jt!==null&&Jt.memoizedState.tag&1){if(v.flags|=2048,vc(9,Ug(),AM.bind(null,v,A,d,l),null),wt===null)throw Error(i(349));E||(jo&124)!==0||bM(v,l,d)}return d}function bM(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Ue.updateQueue,l===null?(l=SA(),Ue.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function AM(o,l,d,v){l.value=d,l.getSnapshot=v,TM(l)&&EM(o)}function SM(o,l,d){return d(function(){TM(l)&&EM(o)})}function TM(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Ei(o,d)}catch{return!0}}function EM(o){var l=lc(o,2);l!==null&&Ri(l,o,2)}function _A(o){var l=ai();if(typeof o=="function"){var d=o;if(o=d(),cl){Ho(!0);try{d()}finally{Ho(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:o},l}function CM(o,l,d,v){return o.baseState=d,EA(o,mt,typeof v=="function"?v:Ns)}function FV(o,l,d,v,A){if(qg(o))throw Error(i(485));if(o=l.action,o!==null){var E={payload:A,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){E.listeners.push(w)}};Y.T!==null?d(!0):E.isTransition=!1,v(E),d=l.pending,d===null?(E.next=l.pending=E,_M(l,E)):(E.next=d.next,l.pending=d.next=E)}}function _M(o,l){var d=l.action,v=l.payload,A=o.state;if(l.isTransition){var E=Y.T,w={};Y.T=w;try{var D=d(A,v),B=Y.S;B!==null&&B(w,D),xM(o,l,D)}catch(X){xA(o,l,X)}finally{Y.T=E}}else try{E=d(A,v),xM(o,l,E)}catch(X){xA(o,l,X)}}function xM(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(v){wM(o,l,v)},function(v){return xA(o,l,v)}):wM(o,l,d)}function wM(o,l,d){l.status="fulfilled",l.value=d,MM(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,_M(o,d)))}function xA(o,l,d){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=d,MM(l),l=l.next;while(l!==v)}o.action=null}function MM(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function RM(o,l){return l}function PM(o,l){if(st){var d=wt.formState;if(d!==null){e:{var v=Ue;if(st){if(Vt){t:{for(var A=Vt,E=Wr;A.nodeType!==8;){if(!E){A=null;break t}if(A=xr(A.nextSibling),A===null){A=null;break t}}E=A.data,A=E==="F!"||E==="F"?A:null}if(A){Vt=xr(A.nextSibling),v=A.data==="F!";break e}}ol(v)}v=!1}v&&(l=d[0])}}return d=ai(),d.memoizedState=d.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RM,lastRenderedState:l},d.queue=v,d=XM.bind(null,Ue,v),v.dispatch=d,v=_A(!1),E=DA.bind(null,Ue,!1,v.queue),v=ai(),A={state:l,dispatch:null,action:o,pending:null},v.queue=A,d=FV.bind(null,Ue,A,E,d),A.dispatch=d,v.memoizedState=o,[l,d,!1]}function DM(o){var l=Qt();return NM(l,mt,o)}function NM(o,l,d){if(l=EA(o,l,RM)[0],o=Fg(Ns)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=Vd(l)}catch(w){throw w===Od?Dg:w}else v=l;l=Qt();var A=l.queue,E=A.dispatch;return d!==l.memoizedState&&(Ue.flags|=2048,vc(9,Ug(),UV.bind(null,A,d),null)),[v,E,o]}function UV(o,l){o.action=l}function IM(o){var l=Qt(),d=mt;if(d!==null)return NM(l,d,o);Qt(),l=l.memoizedState,d=Qt();var v=d.queue.dispatch;return d.memoizedState=o,[l,v,!1]}function vc(o,l,d,v){return o={tag:o,create:d,deps:v,inst:l,next:null},l=Ue.updateQueue,l===null&&(l=SA(),Ue.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(v=d.next,d.next=o,o.next=v,l.lastEffect=o),o}function Ug(){return{destroy:void 0,resource:void 0}}function kM(){return Qt().memoizedState}function Bg(o,l,d,v){var A=ai();v=v===void 0?null:v,Ue.flags|=o,A.memoizedState=vc(1|l,Ug(),d,v)}function zd(o,l,d,v){var A=Qt();v=v===void 0?null:v;var E=A.memoizedState.inst;mt!==null&&v!==null&&gA(v,mt.memoizedState.deps)?A.memoizedState=vc(l,E,d,v):(Ue.flags|=o,A.memoizedState=vc(1|l,E,d,v))}function LM(o,l){Bg(8390656,8,o,l)}function OM(o,l){zd(2048,8,o,l)}function FM(o,l){return zd(4,2,o,l)}function UM(o,l){return zd(4,4,o,l)}function BM(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function qM(o,l,d){d=d!=null?d.concat([o]):null,zd(4,4,BM.bind(null,l,o),d)}function wA(){}function HM(o,l){var d=Qt();l=l===void 0?null:l;var v=d.memoizedState;return l!==null&&gA(l,v[1])?v[0]:(d.memoizedState=[o,l],o)}function VM(o,l){var d=Qt();l=l===void 0?null:l;var v=d.memoizedState;if(l!==null&&gA(l,v[1]))return v[0];if(v=o(),cl){Ho(!0);try{o()}finally{Ho(!1)}}return d.memoizedState=[v,l],v}function MA(o,l,d){return d===void 0||(jo&1073741824)!==0?o.memoizedState=l:(o.memoizedState=d,o=$R(),Ue.lanes|=o,ta|=o,d)}function zM(o,l,d,v){return Ei(d,l)?d:pc.current!==null?(o=MA(o,d,v),Ei(o,l)||(vn=!0),o):(jo&42)===0?(vn=!0,o.memoizedState=d):(o=$R(),Ue.lanes|=o,ta|=o,l)}function GM(o,l,d,v,A){var E=J.p;J.p=E!==0&&8>E?E:8;var w=Y.T,D={};Y.T=D,DA(o,!1,l,d);try{var B=A(),X=Y.S;if(X!==null&&X(D,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var re=kV(B,v);Gd(o,l,re,Mi(o))}else Gd(o,l,v,Mi(o))}catch(le){Gd(o,l,{then:function(){},status:"rejected",reason:le},Mi())}finally{J.p=E,Y.T=w}}function BV(){}function RA(o,l,d,v){if(o.tag!==5)throw Error(i(476));var A=$M(o).queue;GM(o,A,l,se,d===null?BV:function(){return YM(o),d(v)})}function $M(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:se},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function YM(o){var l=$M(o).next.queue;Gd(o,l,{},Mi())}function PA(){return Hn(lh)}function KM(){return Qt().memoizedState}function jM(){return Qt().memoizedState}function qV(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=Mi();o=Yo(d);var v=Ko(l,o,d);v!==null&&(Ri(v,l,d),Ud(v,l,d)),l={cache:oA()},o.payload=l;return}l=l.return}}function HV(o,l,d){var v=Mi();d={lane:v,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},qg(o)?WM(l,d):(d=Wb(o,l,d,v),d!==null&&(Ri(d,o,v),JM(d,l,v)))}function XM(o,l,d){var v=Mi();Gd(o,l,d,v)}function Gd(o,l,d,v){var A={lane:v,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(qg(o))WM(l,A);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var w=l.lastRenderedState,D=E(w,d);if(A.hasEagerState=!0,A.eagerState=D,Ei(D,w))return Eg(o,l,A,0),wt===null&&Tg(),!1}catch{}finally{}if(d=Wb(o,l,A,v),d!==null)return Ri(d,o,v),JM(d,l,v),!0}return!1}function DA(o,l,d,v){if(v={lane:2,revertLane:uS(),action:v,hasEagerState:!1,eagerState:null,next:null},qg(o)){if(l)throw Error(i(479))}else l=Wb(o,d,v,2),l!==null&&Ri(l,o,2)}function qg(o){var l=o.alternate;return o===Ue||l!==null&&l===Ue}function WM(o,l){mc=kg=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function JM(o,l,d){if((d&4194048)!==0){var v=l.lanes;v&=o.pendingLanes,d|=v,l.lanes=d,s1(o,d)}}var Hg={readContext:Hn,use:Og,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t},QM={readContext:Hn,use:Og,useCallback:function(o,l){return ai().memoizedState=[o,l===void 0?null:l],o},useContext:Hn,useEffect:LM,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,Bg(4194308,4,BM.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Bg(4194308,4,o,l)},useInsertionEffect:function(o,l){Bg(4,2,o,l)},useMemo:function(o,l){var d=ai();l=l===void 0?null:l;var v=o();if(cl){Ho(!0);try{o()}finally{Ho(!1)}}return d.memoizedState=[v,l],v},useReducer:function(o,l,d){var v=ai();if(d!==void 0){var A=d(l);if(cl){Ho(!0);try{d(l)}finally{Ho(!1)}}}else A=l;return v.memoizedState=v.baseState=A,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:A},v.queue=o,o=o.dispatch=HV.bind(null,Ue,o),[v.memoizedState,o]},useRef:function(o){var l=ai();return o={current:o},l.memoizedState=o},useState:function(o){o=_A(o);var l=o.queue,d=XM.bind(null,Ue,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:wA,useDeferredValue:function(o,l){var d=ai();return MA(d,o,l)},useTransition:function(){var o=_A(!1);return o=GM.bind(null,Ue,o.queue,!0,!1),ai().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var v=Ue,A=ai();if(st){if(d===void 0)throw Error(i(407));d=d()}else{if(d=l(),wt===null)throw Error(i(349));(Je&124)!==0||bM(v,l,d)}A.memoizedState=d;var E={value:d,getSnapshot:l};return A.queue=E,LM(SM.bind(null,v,E,o),[o]),v.flags|=2048,vc(9,Ug(),AM.bind(null,v,E,d,l),null),d},useId:function(){var o=ai(),l=wt.identifierPrefix;if(st){var d=Rs,v=Ms;d=(v&~(1<<32-Ti(v)-1)).toString(32)+d,l="«"+l+"R"+d,d=Lg++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=LV++,l="«"+l+"r"+d.toString(32)+"»";return o.memoizedState=l},useHostTransitionStatus:PA,useFormState:PM,useActionState:PM,useOptimistic:function(o){var l=ai();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=DA.bind(null,Ue,!0,d),d.dispatch=l,[o,l]},useMemoCache:TA,useCacheRefresh:function(){return ai().memoizedState=qV.bind(null,Ue)}},ZM={readContext:Hn,use:Og,useCallback:HM,useContext:Hn,useEffect:OM,useImperativeHandle:qM,useInsertionEffect:FM,useLayoutEffect:UM,useMemo:VM,useReducer:Fg,useRef:kM,useState:function(){return Fg(Ns)},useDebugValue:wA,useDeferredValue:function(o,l){var d=Qt();return zM(d,mt.memoizedState,o,l)},useTransition:function(){var o=Fg(Ns)[0],l=Qt().memoizedState;return[typeof o=="boolean"?o:Vd(o),l]},useSyncExternalStore:yM,useId:KM,useHostTransitionStatus:PA,useFormState:DM,useActionState:DM,useOptimistic:function(o,l){var d=Qt();return CM(d,mt,o,l)},useMemoCache:TA,useCacheRefresh:jM},VV={readContext:Hn,use:Og,useCallback:HM,useContext:Hn,useEffect:OM,useImperativeHandle:qM,useInsertionEffect:FM,useLayoutEffect:UM,useMemo:VM,useReducer:CA,useRef:kM,useState:function(){return CA(Ns)},useDebugValue:wA,useDeferredValue:function(o,l){var d=Qt();return mt===null?MA(d,o,l):zM(d,mt.memoizedState,o,l)},useTransition:function(){var o=CA(Ns)[0],l=Qt().memoizedState;return[typeof o=="boolean"?o:Vd(o),l]},useSyncExternalStore:yM,useId:KM,useHostTransitionStatus:PA,useFormState:IM,useActionState:IM,useOptimistic:function(o,l){var d=Qt();return mt!==null?CM(d,mt,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:TA,useCacheRefresh:jM},yc=null,$d=0;function Vg(o){var l=$d;return $d+=1,yc===null&&(yc=[]),cM(yc,o,l)}function Yd(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function zg(o,l){throw l.$$typeof===g?Error(i(525)):(o=Object.prototype.toString.call(l),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function eR(o){var l=o._init;return l(o._payload)}function tR(o){function l($,V){if(o){var j=$.deletions;j===null?($.deletions=[V],$.flags|=16):j.push(V)}}function d($,V){if(!o)return null;for(;V!==null;)l($,V),V=V.sibling;return null}function v($){for(var V=new Map;$!==null;)$.key!==null?V.set($.key,$):V.set($.index,$),$=$.sibling;return V}function A($,V){return $=ws($,V),$.index=0,$.sibling=null,$}function E($,V,j){return $.index=j,o?(j=$.alternate,j!==null?(j=j.index,j<V?($.flags|=67108866,V):j):($.flags|=67108866,V)):($.flags|=1048576,V)}function w($){return o&&$.alternate===null&&($.flags|=67108866),$}function D($,V,j,oe){return V===null||V.tag!==6?(V=Qb(j,$.mode,oe),V.return=$,V):(V=A(V,j),V.return=$,V)}function B($,V,j,oe){var Se=j.type;return Se===T?re($,V,j.props.children,oe,j.key):V!==null&&(V.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===z&&eR(Se)===V.type)?(V=A(V,j.props),Yd(V,j),V.return=$,V):(V=_g(j.type,j.key,j.props,null,$.mode,oe),Yd(V,j),V.return=$,V)}function X($,V,j,oe){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Zb(j,$.mode,oe),V.return=$,V):(V=A(V,j.children||[]),V.return=$,V)}function re($,V,j,oe,Se){return V===null||V.tag!==7?(V=nl(j,$.mode,oe,Se),V.return=$,V):(V=A(V,j),V.return=$,V)}function le($,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Qb(""+V,$.mode,j),V.return=$,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return j=_g(V.type,V.key,V.props,null,$.mode,j),Yd(j,V),j.return=$,j;case S:return V=Zb(V,$.mode,j),V.return=$,V;case z:var oe=V._init;return V=oe(V._payload),le($,V,j)}if(de(V)||ie(V))return V=nl(V,$.mode,j,null),V.return=$,V;if(typeof V.then=="function")return le($,Vg(V),j);if(V.$$typeof===M)return le($,Rg($,V),j);zg($,V)}return null}function W($,V,j,oe){var Se=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return Se!==null?null:D($,V,""+j,oe);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case y:return j.key===Se?B($,V,j,oe):null;case S:return j.key===Se?X($,V,j,oe):null;case z:return Se=j._init,j=Se(j._payload),W($,V,j,oe)}if(de(j)||ie(j))return Se!==null?null:re($,V,j,oe,null);if(typeof j.then=="function")return W($,V,Vg(j),oe);if(j.$$typeof===M)return W($,V,Rg($,j),oe);zg($,j)}return null}function Q($,V,j,oe,Se){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $=$.get(j)||null,D(V,$,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return $=$.get(oe.key===null?j:oe.key)||null,B(V,$,oe,Se);case S:return $=$.get(oe.key===null?j:oe.key)||null,X(V,$,oe,Se);case z:var Ve=oe._init;return oe=Ve(oe._payload),Q($,V,j,oe,Se)}if(de(oe)||ie(oe))return $=$.get(j)||null,re(V,$,oe,Se,null);if(typeof oe.then=="function")return Q($,V,j,Vg(oe),Se);if(oe.$$typeof===M)return Q($,V,j,Rg(V,oe),Se);zg(V,oe)}return null}function Ie($,V,j,oe){for(var Se=null,Ve=null,we=V,De=V=0,bn=null;we!==null&&De<j.length;De++){we.index>De?(bn=we,we=null):bn=we.sibling;var et=W($,we,j[De],oe);if(et===null){we===null&&(we=bn);break}o&&we&&et.alternate===null&&l($,we),V=E(et,V,De),Ve===null?Se=et:Ve.sibling=et,Ve=et,we=bn}if(De===j.length)return d($,we),st&&rl($,De),Se;if(we===null){for(;De<j.length;De++)we=le($,j[De],oe),we!==null&&(V=E(we,V,De),Ve===null?Se=we:Ve.sibling=we,Ve=we);return st&&rl($,De),Se}for(we=v(we);De<j.length;De++)bn=Q(we,$,De,j[De],oe),bn!==null&&(o&&bn.alternate!==null&&we.delete(bn.key===null?De:bn.key),V=E(bn,V,De),Ve===null?Se=bn:Ve.sibling=bn,Ve=bn);return o&&we.forEach(function(ca){return l($,ca)}),st&&rl($,De),Se}function Pe($,V,j,oe){if(j==null)throw Error(i(151));for(var Se=null,Ve=null,we=V,De=V=0,bn=null,et=j.next();we!==null&&!et.done;De++,et=j.next()){we.index>De?(bn=we,we=null):bn=we.sibling;var ca=W($,we,et.value,oe);if(ca===null){we===null&&(we=bn);break}o&&we&&ca.alternate===null&&l($,we),V=E(ca,V,De),Ve===null?Se=ca:Ve.sibling=ca,Ve=ca,we=bn}if(et.done)return d($,we),st&&rl($,De),Se;if(we===null){for(;!et.done;De++,et=j.next())et=le($,et.value,oe),et!==null&&(V=E(et,V,De),Ve===null?Se=et:Ve.sibling=et,Ve=et);return st&&rl($,De),Se}for(we=v(we);!et.done;De++,et=j.next())et=Q(we,$,De,et.value,oe),et!==null&&(o&&et.alternate!==null&&we.delete(et.key===null?De:et.key),V=E(et,V,De),Ve===null?Se=et:Ve.sibling=et,Ve=et);return o&&we.forEach(function(zz){return l($,zz)}),st&&rl($,De),Se}function vt($,V,j,oe){if(typeof j=="object"&&j!==null&&j.type===T&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case y:e:{for(var Se=j.key;V!==null;){if(V.key===Se){if(Se=j.type,Se===T){if(V.tag===7){d($,V.sibling),oe=A(V,j.props.children),oe.return=$,$=oe;break e}}else if(V.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===z&&eR(Se)===V.type){d($,V.sibling),oe=A(V,j.props),Yd(oe,j),oe.return=$,$=oe;break e}d($,V);break}else l($,V);V=V.sibling}j.type===T?(oe=nl(j.props.children,$.mode,oe,j.key),oe.return=$,$=oe):(oe=_g(j.type,j.key,j.props,null,$.mode,oe),Yd(oe,j),oe.return=$,$=oe)}return w($);case S:e:{for(Se=j.key;V!==null;){if(V.key===Se)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){d($,V.sibling),oe=A(V,j.children||[]),oe.return=$,$=oe;break e}else{d($,V);break}else l($,V);V=V.sibling}oe=Zb(j,$.mode,oe),oe.return=$,$=oe}return w($);case z:return Se=j._init,j=Se(j._payload),vt($,V,j,oe)}if(de(j))return Ie($,V,j,oe);if(ie(j)){if(Se=ie(j),typeof Se!="function")throw Error(i(150));return j=Se.call(j),Pe($,V,j,oe)}if(typeof j.then=="function")return vt($,V,Vg(j),oe);if(j.$$typeof===M)return vt($,V,Rg($,j),oe);zg($,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(d($,V.sibling),oe=A(V,j),oe.return=$,$=oe):(d($,V),oe=Qb(j,$.mode,oe),oe.return=$,$=oe),w($)):d($,V)}return function($,V,j,oe){try{$d=0;var Se=vt($,V,j,oe);return yc=null,Se}catch(we){if(we===Od||we===Dg)throw we;var Ve=Ci(29,we,null,$.mode);return Ve.lanes=oe,Ve.return=$,Ve}finally{}}}var bc=tR(!0),nR=tR(!1),nr=ae(null),Jr=null;function Xo(o){var l=o.alternate;ce(an,an.current&1),ce(nr,o),Jr===null&&(l===null||pc.current!==null||l.memoizedState!==null)&&(Jr=o)}function iR(o){if(o.tag===22){if(ce(an,an.current),ce(nr,o),Jr===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Jr=o)}}else Wo()}function Wo(){ce(an,an.current),ce(nr,nr.current)}function Is(o){ne(nr),Jr===o&&(Jr=null),ne(an)}var an=ae(0);function Gg(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||SS(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function NA(o,l,d,v){l=o.memoizedState,d=d(v,l),d=d==null?l:h({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var IA={enqueueSetState:function(o,l,d){o=o._reactInternals;var v=Mi(),A=Yo(v);A.payload=l,d!=null&&(A.callback=d),l=Ko(o,A,v),l!==null&&(Ri(l,o,v),Ud(l,o,v))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var v=Mi(),A=Yo(v);A.tag=1,A.payload=l,d!=null&&(A.callback=d),l=Ko(o,A,v),l!==null&&(Ri(l,o,v),Ud(l,o,v))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=Mi(),v=Yo(d);v.tag=2,l!=null&&(v.callback=l),l=Ko(o,v,d),l!==null&&(Ri(l,o,d),Ud(l,o,d))}};function rR(o,l,d,v,A,E,w){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,E,w):l.prototype&&l.prototype.isPureReactComponent?!Md(d,v)||!Md(A,E):!0}function sR(o,l,d,v){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,v),l.state!==o&&IA.enqueueReplaceState(l,l.state,null)}function fl(o,l){var d=l;if("ref"in l){d={};for(var v in l)v!=="ref"&&(d[v]=l[v])}if(o=o.defaultProps){d===l&&(d=h({},d));for(var A in o)d[A]===void 0&&(d[A]=o[A])}return d}var $g=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function oR(o){$g(o)}function aR(o){console.error(o)}function lR(o){$g(o)}function Yg(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function uR(o,l,d){try{var v=o.onCaughtError;v(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function kA(o,l,d){return d=Yo(d),d.tag=3,d.payload={element:null},d.callback=function(){Yg(o,l)},d}function cR(o){return o=Yo(o),o.tag=3,o}function fR(o,l,d,v){var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var E=v.value;o.payload=function(){return A(E)},o.callback=function(){uR(l,d,v)}}var w=d.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(o.callback=function(){uR(l,d,v),typeof A!="function"&&(na===null?na=new Set([this]):na.add(this));var D=v.stack;this.componentDidCatch(v.value,{componentStack:D!==null?D:""})})}function zV(o,l,d,v,A){if(d.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=d.alternate,l!==null&&Id(l,d,A,!0),d=nr.current,d!==null){switch(d.tag){case 13:return Jr===null?rS():d.alternate===null&&zt===0&&(zt=3),d.flags&=-257,d.flags|=65536,d.lanes=A,v===uA?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([v]):l.add(v),oS(o,v,A)),!1;case 22:return d.flags|=65536,v===uA?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([v]):d.add(v)),oS(o,v,A)),!1}throw Error(i(435,d.tag))}return oS(o,v,A),rS(),!1}if(st)return l=nr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=A,v!==nA&&(o=Error(i(422),{cause:v}),Nd(Qi(o,d)))):(v!==nA&&(l=Error(i(423),{cause:v}),Nd(Qi(l,d))),o=o.current.alternate,o.flags|=65536,A&=-A,o.lanes|=A,v=Qi(v,d),A=kA(o.stateNode,v,A),dA(o,A),zt!==4&&(zt=2)),!1;var E=Error(i(520),{cause:v});if(E=Qi(E,d),Zd===null?Zd=[E]:Zd.push(E),zt!==4&&(zt=2),l===null)return!0;v=Qi(v,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=A&-A,d.lanes|=o,o=kA(d.stateNode,v,o),dA(d,o),!1;case 1:if(l=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(na===null||!na.has(E))))return d.flags|=65536,A&=-A,d.lanes|=A,A=cR(A),fR(A,o,d,v),dA(d,A),!1}d=d.return}while(d!==null);return!1}var dR=Error(i(461)),vn=!1;function wn(o,l,d,v){l.child=o===null?nR(l,null,d,v):bc(l,o.child,d,v)}function hR(o,l,d,v,A){d=d.render;var E=l.ref;if("ref"in v){var w={};for(var D in v)D!=="ref"&&(w[D]=v[D])}else w=v;return ll(l),v=vA(o,l,d,w,E,A),D=yA(),o!==null&&!vn?(bA(o,l,A),ks(o,l,A)):(st&&D&&eA(l),l.flags|=1,wn(o,l,v,A),l.child)}function pR(o,l,d,v,A){if(o===null){var E=d.type;return typeof E=="function"&&!Jb(E)&&E.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=E,mR(o,l,E,v,A)):(o=_g(d.type,null,v,l,l.mode,A),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,!VA(o,A)){var w=E.memoizedProps;if(d=d.compare,d=d!==null?d:Md,d(w,v)&&o.ref===l.ref)return ks(o,l,A)}return l.flags|=1,o=ws(E,v),o.ref=l.ref,o.return=l,l.child=o}function mR(o,l,d,v,A){if(o!==null){var E=o.memoizedProps;if(Md(E,v)&&o.ref===l.ref)if(vn=!1,l.pendingProps=v=E,VA(o,A))(o.flags&131072)!==0&&(vn=!0);else return l.lanes=o.lanes,ks(o,l,A)}return LA(o,l,d,v,A)}function gR(o,l,d){var v=l.pendingProps,A=v.children,E=o!==null?o.memoizedState:null;if(v.mode==="hidden"){if((l.flags&128)!==0){if(v=E!==null?E.baseLanes|d:d,o!==null){for(A=l.child=o.child,E=0;A!==null;)E=E|A.lanes|A.childLanes,A=A.sibling;l.childLanes=E&~v}else l.childLanes=0,l.child=null;return vR(o,l,v,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Pg(l,E!==null?E.cachePool:null),E!==null?mM(l,E):pA(),iR(l);else return l.lanes=l.childLanes=536870912,vR(o,l,E!==null?E.baseLanes|d:d,d)}else E!==null?(Pg(l,E.cachePool),mM(l,E),Wo(),l.memoizedState=null):(o!==null&&Pg(l,null),pA(),Wo());return wn(o,l,A,d),l.child}function vR(o,l,d,v){var A=lA();return A=A===null?null:{parent:on._currentValue,pool:A},l.memoizedState={baseLanes:d,cachePool:A},o!==null&&Pg(l,null),pA(),iR(l),o!==null&&Id(o,l,v,!0),null}function Kg(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function LA(o,l,d,v,A){return ll(l),d=vA(o,l,d,v,void 0,A),v=yA(),o!==null&&!vn?(bA(o,l,A),ks(o,l,A)):(st&&v&&eA(l),l.flags|=1,wn(o,l,d,A),l.child)}function yR(o,l,d,v,A,E){return ll(l),l.updateQueue=null,d=vM(l,v,d,A),gM(o),v=yA(),o!==null&&!vn?(bA(o,l,E),ks(o,l,E)):(st&&v&&eA(l),l.flags|=1,wn(o,l,d,E),l.child)}function bR(o,l,d,v,A){if(ll(l),l.stateNode===null){var E=uc,w=d.contextType;typeof w=="object"&&w!==null&&(E=Hn(w)),E=new d(v,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=IA,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=v,E.state=l.memoizedState,E.refs={},cA(l),w=d.contextType,E.context=typeof w=="object"&&w!==null?Hn(w):uc,E.state=l.memoizedState,w=d.getDerivedStateFromProps,typeof w=="function"&&(NA(l,d,w,v),E.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(w=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),w!==E.state&&IA.enqueueReplaceState(E,E.state,null),qd(l,v,E,A),Bd(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(o===null){E=l.stateNode;var D=l.memoizedProps,B=fl(d,D);E.props=B;var X=E.context,re=d.contextType;w=uc,typeof re=="object"&&re!==null&&(w=Hn(re));var le=d.getDerivedStateFromProps;re=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function",D=l.pendingProps!==D,re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D||X!==w)&&sR(l,E,v,w),$o=!1;var W=l.memoizedState;E.state=W,qd(l,v,E,A),Bd(),X=l.memoizedState,D||W!==X||$o?(typeof le=="function"&&(NA(l,d,le,v),X=l.memoizedState),(B=$o||rR(l,d,B,v,W,X,w))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=X),E.props=v,E.state=X,E.context=w,v=B):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{E=l.stateNode,fA(o,l),w=l.memoizedProps,re=fl(d,w),E.props=re,le=l.pendingProps,W=E.context,X=d.contextType,B=uc,typeof X=="object"&&X!==null&&(B=Hn(X)),D=d.getDerivedStateFromProps,(X=typeof D=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(w!==le||W!==B)&&sR(l,E,v,B),$o=!1,W=l.memoizedState,E.state=W,qd(l,v,E,A),Bd();var Q=l.memoizedState;w!==le||W!==Q||$o||o!==null&&o.dependencies!==null&&Mg(o.dependencies)?(typeof D=="function"&&(NA(l,d,D,v),Q=l.memoizedState),(re=$o||rR(l,d,re,v,W,Q,B)||o!==null&&o.dependencies!==null&&Mg(o.dependencies))?(X||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(v,Q,B),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(v,Q,B)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||w===o.memoizedProps&&W===o.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||w===o.memoizedProps&&W===o.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Q),E.props=v,E.state=Q,E.context=B,v=re):(typeof E.componentDidUpdate!="function"||w===o.memoizedProps&&W===o.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||w===o.memoizedProps&&W===o.memoizedState||(l.flags|=1024),v=!1)}return E=v,Kg(o,l),v=(l.flags&128)!==0,E||v?(E=l.stateNode,d=v&&typeof d.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,o!==null&&v?(l.child=bc(l,o.child,null,A),l.child=bc(l,null,d,A)):wn(o,l,d,A),l.memoizedState=E.state,o=l.child):o=ks(o,l,A),o}function AR(o,l,d,v){return Dd(),l.flags|=256,wn(o,l,d,v),l.child}var OA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function FA(o){return{baseLanes:o,cachePool:aM()}}function UA(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=ir),o}function SR(o,l,d){var v=l.pendingProps,A=!1,E=(l.flags&128)!==0,w;if((w=E)||(w=o!==null&&o.memoizedState===null?!1:(an.current&2)!==0),w&&(A=!0,l.flags&=-129),w=(l.flags&32)!==0,l.flags&=-33,o===null){if(st){if(A?Xo(l):Wo(),st){var D=Vt,B;if(B=D){e:{for(B=D,D=Wr;B.nodeType!==8;){if(!D){D=null;break e}if(B=xr(B.nextSibling),B===null){D=null;break e}}D=B}D!==null?(l.memoizedState={dehydrated:D,treeContext:il!==null?{id:Ms,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},B=Ci(18,null,null,0),B.stateNode=D,B.return=l,l.child=B,Wn=l,Vt=null,B=!0):B=!1}B||ol(l)}if(D=l.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return SS(D)?l.lanes=32:l.lanes=536870912,null;Is(l)}return D=v.children,v=v.fallback,A?(Wo(),A=l.mode,D=jg({mode:"hidden",children:D},A),v=nl(v,A,d,null),D.return=l,v.return=l,D.sibling=v,l.child=D,A=l.child,A.memoizedState=FA(d),A.childLanes=UA(o,w,d),l.memoizedState=OA,v):(Xo(l),BA(l,D))}if(B=o.memoizedState,B!==null&&(D=B.dehydrated,D!==null)){if(E)l.flags&256?(Xo(l),l.flags&=-257,l=qA(o,l,d)):l.memoizedState!==null?(Wo(),l.child=o.child,l.flags|=128,l=null):(Wo(),A=v.fallback,D=l.mode,v=jg({mode:"visible",children:v.children},D),A=nl(A,D,d,null),A.flags|=2,v.return=l,A.return=l,v.sibling=A,l.child=v,bc(l,o.child,null,d),v=l.child,v.memoizedState=FA(d),v.childLanes=UA(o,w,d),l.memoizedState=OA,l=A);else if(Xo(l),SS(D)){if(w=D.nextSibling&&D.nextSibling.dataset,w)var X=w.dgst;w=X,v=Error(i(419)),v.stack="",v.digest=w,Nd({value:v,source:null,stack:null}),l=qA(o,l,d)}else if(vn||Id(o,l,d,!1),w=(d&o.childLanes)!==0,vn||w){if(w=wt,w!==null&&(v=d&-d,v=(v&42)!==0?1:Tb(v),v=(v&(w.suspendedLanes|d))!==0?0:v,v!==0&&v!==B.retryLane))throw B.retryLane=v,lc(o,v),Ri(w,o,v),dR;D.data==="$?"||rS(),l=qA(o,l,d)}else D.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=B.treeContext,Vt=xr(D.nextSibling),Wn=l,st=!0,sl=null,Wr=!1,o!==null&&(er[tr++]=Ms,er[tr++]=Rs,er[tr++]=il,Ms=o.id,Rs=o.overflow,il=l),l=BA(l,v.children),l.flags|=4096);return l}return A?(Wo(),A=v.fallback,D=l.mode,B=o.child,X=B.sibling,v=ws(B,{mode:"hidden",children:v.children}),v.subtreeFlags=B.subtreeFlags&65011712,X!==null?A=ws(X,A):(A=nl(A,D,d,null),A.flags|=2),A.return=l,v.return=l,v.sibling=A,l.child=v,v=A,A=l.child,D=o.child.memoizedState,D===null?D=FA(d):(B=D.cachePool,B!==null?(X=on._currentValue,B=B.parent!==X?{parent:X,pool:X}:B):B=aM(),D={baseLanes:D.baseLanes|d,cachePool:B}),A.memoizedState=D,A.childLanes=UA(o,w,d),l.memoizedState=OA,v):(Xo(l),d=o.child,o=d.sibling,d=ws(d,{mode:"visible",children:v.children}),d.return=l,d.sibling=null,o!==null&&(w=l.deletions,w===null?(l.deletions=[o],l.flags|=16):w.push(o)),l.child=d,l.memoizedState=null,d)}function BA(o,l){return l=jg({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function jg(o,l){return o=Ci(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function qA(o,l,d){return bc(l,o.child,null,d),o=BA(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function TR(o,l,d){o.lanes|=l;var v=o.alternate;v!==null&&(v.lanes|=l),rA(o.return,l,d)}function HA(o,l,d,v,A){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:A}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=v,E.tail=d,E.tailMode=A)}function ER(o,l,d){var v=l.pendingProps,A=v.revealOrder,E=v.tail;if(wn(o,l,v.children,d),v=an.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&TR(o,d,l);else if(o.tag===19)TR(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}switch(ce(an,v),A){case"forwards":for(d=l.child,A=null;d!==null;)o=d.alternate,o!==null&&Gg(o)===null&&(A=d),d=d.sibling;d=A,d===null?(A=l.child,l.child=null):(A=d.sibling,d.sibling=null),HA(l,!1,A,d,E);break;case"backwards":for(d=null,A=l.child,l.child=null;A!==null;){if(o=A.alternate,o!==null&&Gg(o)===null){l.child=A;break}o=A.sibling,A.sibling=d,d=A,A=o}HA(l,!0,d,null,E);break;case"together":HA(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ks(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),ta|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(Id(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(i(153));if(l.child!==null){for(o=l.child,d=ws(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=ws(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function VA(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Mg(o)))}function GV(o,l,d){switch(l.tag){case 3:He(l,l.stateNode.containerInfo),Go(l,on,o.memoizedState.cache),Dd();break;case 27:case 5:ue(l);break;case 4:He(l,l.stateNode.containerInfo);break;case 10:Go(l,l.type,l.memoizedProps.value);break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(Xo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?SR(o,l,d):(Xo(l),o=ks(o,l,d),o!==null?o.sibling:null);Xo(l);break;case 19:var A=(o.flags&128)!==0;if(v=(d&l.childLanes)!==0,v||(Id(o,l,d,!1),v=(d&l.childLanes)!==0),A){if(v)return ER(o,l,d);l.flags|=128}if(A=l.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ce(an,an.current),v)break;return null;case 22:case 23:return l.lanes=0,gR(o,l,d);case 24:Go(l,on,o.memoizedState.cache)}return ks(o,l,d)}function CR(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)vn=!0;else{if(!VA(o,d)&&(l.flags&128)===0)return vn=!1,GV(o,l,d);vn=(o.flags&131072)!==0}else vn=!1,st&&(l.flags&1048576)!==0&&eM(l,wg,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var v=l.elementType,A=v._init;if(v=A(v._payload),l.type=v,typeof v=="function")Jb(v)?(o=fl(v,o),l.tag=1,l=bR(null,l,v,o,d)):(l.tag=0,l=LA(null,l,v,o,d));else{if(v!=null){if(A=v.$$typeof,A===U){l.tag=11,l=hR(null,l,v,o,d);break e}else if(A===q){l.tag=14,l=pR(null,l,v,o,d);break e}}throw l=fe(v)||v,Error(i(306,l,""))}}return l;case 0:return LA(o,l,l.type,l.pendingProps,d);case 1:return v=l.type,A=fl(v,l.pendingProps),bR(o,l,v,A,d);case 3:e:{if(He(l,l.stateNode.containerInfo),o===null)throw Error(i(387));v=l.pendingProps;var E=l.memoizedState;A=E.element,fA(o,l),qd(l,v,null,d);var w=l.memoizedState;if(v=w.cache,Go(l,on,v),v!==E.cache&&sA(l,[on],d,!0),Bd(),v=w.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:w.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=AR(o,l,v,d);break e}else if(v!==A){A=Qi(Error(i(424)),l),Nd(A),l=AR(o,l,v,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Vt=xr(o.firstChild),Wn=l,st=!0,sl=null,Wr=!0,d=nR(l,null,v,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Dd(),v===A){l=ks(o,l,d);break e}wn(o,l,v,d)}l=l.child}return l;case 26:return Kg(o,l),o===null?(d=MP(l.type,null,l.pendingProps,null))?l.memoizedState=d:st||(d=l.type,o=l.pendingProps,v=lv(xe.current).createElement(d),v[qn]=l,v[si]=o,Rn(v,d,o),gn(v),l.stateNode=v):l.memoizedState=MP(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return ue(l),o===null&&st&&(v=l.stateNode=_P(l.type,l.pendingProps,xe.current),Wn=l,Wr=!0,A=Vt,sa(l.type)?(TS=A,Vt=xr(v.firstChild)):Vt=A),wn(o,l,l.pendingProps.children,d),Kg(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&st&&((A=v=Vt)&&(v=yz(v,l.type,l.pendingProps,Wr),v!==null?(l.stateNode=v,Wn=l,Vt=xr(v.firstChild),Wr=!1,A=!0):A=!1),A||ol(l)),ue(l),A=l.type,E=l.pendingProps,w=o!==null?o.memoizedProps:null,v=E.children,yS(A,E)?v=null:w!==null&&yS(A,w)&&(l.flags|=32),l.memoizedState!==null&&(A=vA(o,l,OV,null,null,d),lh._currentValue=A),Kg(o,l),wn(o,l,v,d),l.child;case 6:return o===null&&st&&((o=d=Vt)&&(d=bz(d,l.pendingProps,Wr),d!==null?(l.stateNode=d,Wn=l,Vt=null,o=!0):o=!1),o||ol(l)),null;case 13:return SR(o,l,d);case 4:return He(l,l.stateNode.containerInfo),v=l.pendingProps,o===null?l.child=bc(l,null,v,d):wn(o,l,v,d),l.child;case 11:return hR(o,l,l.type,l.pendingProps,d);case 7:return wn(o,l,l.pendingProps,d),l.child;case 8:return wn(o,l,l.pendingProps.children,d),l.child;case 12:return wn(o,l,l.pendingProps.children,d),l.child;case 10:return v=l.pendingProps,Go(l,l.type,v.value),wn(o,l,v.children,d),l.child;case 9:return A=l.type._context,v=l.pendingProps.children,ll(l),A=Hn(A),v=v(A),l.flags|=1,wn(o,l,v,d),l.child;case 14:return pR(o,l,l.type,l.pendingProps,d);case 15:return mR(o,l,l.type,l.pendingProps,d);case 19:return ER(o,l,d);case 31:return v=l.pendingProps,d=l.mode,v={mode:v.mode,children:v.children},o===null?(d=jg(v,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=ws(o.child,v),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return gR(o,l,d);case 24:return ll(l),v=Hn(on),o===null?(A=lA(),A===null&&(A=wt,E=oA(),A.pooledCache=E,E.refCount++,E!==null&&(A.pooledCacheLanes|=d),A=E),l.memoizedState={parent:v,cache:A},cA(l),Go(l,on,A)):((o.lanes&d)!==0&&(fA(o,l),qd(l,null,null,d),Bd()),A=o.memoizedState,E=l.memoizedState,A.parent!==v?(A={parent:v,cache:v},l.memoizedState=A,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=A),Go(l,on,v)):(v=E.cache,Go(l,on,v),v!==A.cache&&sA(l,[on],d,!0))),wn(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Ls(o){o.flags|=4}function _R(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!IP(l)){if(l=nr.current,l!==null&&((Je&4194048)===Je?Jr!==null:(Je&62914560)!==Je&&(Je&536870912)===0||l!==Jr))throw Fd=uA,lM;o.flags|=8192}}function Xg(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?i1():536870912,o.lanes|=l,Ec|=l)}function Kd(o,l){if(!st)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Ut(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,v=0;if(l)for(var A=o.child;A!==null;)d|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)d|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=v,o.childLanes=d,l}function $V(o,l,d){var v=l.pendingProps;switch(tA(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(l),null;case 1:return Ut(l),null;case 3:return d=l.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),Ds(on),pe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(Pd(l)?Ls(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,iM())),Ut(l),null;case 26:return d=l.memoizedState,o===null?(Ls(l),d!==null?(Ut(l),_R(l,d)):(Ut(l),l.flags&=-16777217)):d?d!==o.memoizedState?(Ls(l),Ut(l),_R(l,d)):(Ut(l),l.flags&=-16777217):(o.memoizedProps!==v&&Ls(l),Ut(l),l.flags&=-16777217),null;case 27:ve(l),d=xe.current;var A=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==v&&Ls(l);else{if(!v){if(l.stateNode===null)throw Error(i(166));return Ut(l),null}o=be.current,Pd(l)?tM(l):(o=_P(A,v,d),l.stateNode=o,Ls(l))}return Ut(l),null;case 5:if(ve(l),d=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==v&&Ls(l);else{if(!v){if(l.stateNode===null)throw Error(i(166));return Ut(l),null}if(o=be.current,Pd(l))tM(l);else{switch(A=lv(xe.current),o){case 1:o=A.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:o=A.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":o=A.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":o=A.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":o=A.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof v.is=="string"?A.createElement("select",{is:v.is}):A.createElement("select"),v.multiple?o.multiple=!0:v.size&&(o.size=v.size);break;default:o=typeof v.is=="string"?A.createElement(d,{is:v.is}):A.createElement(d)}}o[qn]=l,o[si]=v;e:for(A=l.child;A!==null;){if(A.tag===5||A.tag===6)o.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===l)break e;for(;A.sibling===null;){if(A.return===null||A.return===l)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}l.stateNode=o;e:switch(Rn(o,d,v),d){case"button":case"input":case"select":case"textarea":o=!!v.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ls(l)}}return Ut(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==v&&Ls(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(i(166));if(o=xe.current,Pd(l)){if(o=l.stateNode,d=l.memoizedProps,v=null,A=Wn,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}o[qn]=l,o=!!(o.nodeValue===d||v!==null&&v.suppressHydrationWarning===!0||yP(o.nodeValue,d)),o||ol(l)}else o=lv(o).createTextNode(v),o[qn]=l,l.stateNode=o}return Ut(l),null;case 13:if(v=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(A=Pd(l),v!==null&&v.dehydrated!==null){if(o===null){if(!A)throw Error(i(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));A[qn]=l}else Dd(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ut(l),A=!1}else A=iM(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=A),A=!0;if(!A)return l.flags&256?(Is(l),l):(Is(l),null)}if(Is(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=v!==null,o=o!==null&&o.memoizedState!==null,d){v=l.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool);var E=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(E=v.memoizedState.cachePool.pool),E!==A&&(v.flags|=2048)}return d!==o&&d&&(l.child.flags|=8192),Xg(l,l.updateQueue),Ut(l),null;case 4:return pe(),o===null&&hS(l.stateNode.containerInfo),Ut(l),null;case 10:return Ds(l.type),Ut(l),null;case 19:if(ne(an),A=l.memoizedState,A===null)return Ut(l),null;if(v=(l.flags&128)!==0,E=A.rendering,E===null)if(v)Kd(A,!1);else{if(zt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(E=Gg(o),E!==null){for(l.flags|=128,Kd(A,!1),o=E.updateQueue,l.updateQueue=o,Xg(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)Z1(d,o),d=d.sibling;return ce(an,an.current&1|2),l.child}o=o.sibling}A.tail!==null&&lt()>Qg&&(l.flags|=128,v=!0,Kd(A,!1),l.lanes=4194304)}else{if(!v)if(o=Gg(E),o!==null){if(l.flags|=128,v=!0,o=o.updateQueue,l.updateQueue=o,Xg(l,o),Kd(A,!0),A.tail===null&&A.tailMode==="hidden"&&!E.alternate&&!st)return Ut(l),null}else 2*lt()-A.renderingStartTime>Qg&&d!==536870912&&(l.flags|=128,v=!0,Kd(A,!1),l.lanes=4194304);A.isBackwards?(E.sibling=l.child,l.child=E):(o=A.last,o!==null?o.sibling=E:l.child=E,A.last=E)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=lt(),l.sibling=null,o=an.current,ce(an,v?o&1|2:o&1),l):(Ut(l),null);case 22:case 23:return Is(l),mA(),v=l.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(d&536870912)!==0&&(l.flags&128)===0&&(Ut(l),l.subtreeFlags&6&&(l.flags|=8192)):Ut(l),d=l.updateQueue,d!==null&&Xg(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==d&&(l.flags|=2048),o!==null&&ne(ul),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ds(on),Ut(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function YV(o,l){switch(tA(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ds(on),pe(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return ve(l),null;case 13:if(Is(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Dd()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return ne(an),null;case 4:return pe(),null;case 10:return Ds(l.type),null;case 22:case 23:return Is(l),mA(),o!==null&&ne(ul),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Ds(on),null;case 25:return null;default:return null}}function xR(o,l){switch(tA(l),l.tag){case 3:Ds(on),pe();break;case 26:case 27:case 5:ve(l);break;case 4:pe();break;case 13:Is(l);break;case 19:ne(an);break;case 10:Ds(l.type);break;case 22:case 23:Is(l),mA(),o!==null&&ne(ul);break;case 24:Ds(on)}}function jd(o,l){try{var d=l.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var A=v.next;d=A;do{if((d.tag&o)===o){v=void 0;var E=d.create,w=d.inst;v=E(),w.destroy=v}d=d.next}while(d!==A)}}catch(D){Tt(l,l.return,D)}}function Jo(o,l,d){try{var v=l.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var E=A.next;v=E;do{if((v.tag&o)===o){var w=v.inst,D=w.destroy;if(D!==void 0){w.destroy=void 0,A=l;var B=d,X=D;try{X()}catch(re){Tt(A,B,re)}}}v=v.next}while(v!==E)}}catch(re){Tt(l,l.return,re)}}function wR(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{pM(l,d)}catch(v){Tt(o,o.return,v)}}}function MR(o,l,d){d.props=fl(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(v){Tt(o,l,v)}}function Xd(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof d=="function"?o.refCleanup=d(v):d.current=v}}catch(A){Tt(o,l,A)}}function Qr(o,l){var d=o.ref,v=o.refCleanup;if(d!==null)if(typeof v=="function")try{v()}catch(A){Tt(o,l,A)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(A){Tt(o,l,A)}else d.current=null}function RR(o){var l=o.type,d=o.memoizedProps,v=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&v.focus();break e;case"img":d.src?v.src=d.src:d.srcSet&&(v.srcset=d.srcSet)}}catch(A){Tt(o,o.return,A)}}function zA(o,l,d){try{var v=o.stateNode;hz(v,o.type,d,l),v[si]=l}catch(A){Tt(o,o.return,A)}}function PR(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&sa(o.type)||o.tag===4}function GA(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||PR(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&sa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function $A(o,l,d){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=av));else if(v!==4&&(v===27&&sa(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for($A(o,l,d),o=o.sibling;o!==null;)$A(o,l,d),o=o.sibling}function Wg(o,l,d){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(v!==4&&(v===27&&sa(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(Wg(o,l,d),o=o.sibling;o!==null;)Wg(o,l,d),o=o.sibling}function DR(o){var l=o.stateNode,d=o.memoizedProps;try{for(var v=o.type,A=l.attributes;A.length;)l.removeAttributeNode(A[0]);Rn(l,v,d),l[qn]=o,l[si]=d}catch(E){Tt(o,o.return,E)}}var Os=!1,Yt=!1,YA=!1,NR=typeof WeakSet=="function"?WeakSet:Set,yn=null;function KV(o,l){if(o=o.containerInfo,gS=pv,o=z1(o),Gb(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var A=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break e}var w=0,D=-1,B=-1,X=0,re=0,le=o,W=null;t:for(;;){for(var Q;le!==d||A!==0&&le.nodeType!==3||(D=w+A),le!==E||v!==0&&le.nodeType!==3||(B=w+v),le.nodeType===3&&(w+=le.nodeValue.length),(Q=le.firstChild)!==null;)W=le,le=Q;for(;;){if(le===o)break t;if(W===d&&++X===A&&(D=w),W===E&&++re===v&&(B=w),(Q=le.nextSibling)!==null)break;le=W,W=le.parentNode}le=Q}d=D===-1||B===-1?null:{start:D,end:B}}else d=null}d=d||{start:0,end:0}}else d=null;for(vS={focusedElem:o,selectionRange:d},pv=!1,yn=l;yn!==null;)if(l=yn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,yn=o;else for(;yn!==null;){switch(l=yn,E=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&E!==null){o=void 0,d=l,A=E.memoizedProps,E=E.memoizedState,v=d.stateNode;try{var Ie=fl(d.type,A,d.elementType===d.type);o=v.getSnapshotBeforeUpdate(Ie,E),v.__reactInternalSnapshotBeforeUpdate=o}catch(Pe){Tt(d,d.return,Pe)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)AS(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":AS(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=l.sibling,o!==null){o.return=l.return,yn=o;break}yn=l.return}}function IR(o,l,d){var v=d.flags;switch(d.tag){case 0:case 11:case 15:Qo(o,d),v&4&&jd(5,d);break;case 1:if(Qo(o,d),v&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(w){Tt(d,d.return,w)}else{var A=fl(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(A,l,o.__reactInternalSnapshotBeforeUpdate)}catch(w){Tt(d,d.return,w)}}v&64&&wR(d),v&512&&Xd(d,d.return);break;case 3:if(Qo(o,d),v&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{pM(o,l)}catch(w){Tt(d,d.return,w)}}break;case 27:l===null&&v&4&&DR(d);case 26:case 5:Qo(o,d),l===null&&v&4&&RR(d),v&512&&Xd(d,d.return);break;case 12:Qo(o,d);break;case 13:Qo(o,d),v&4&&OR(o,d),v&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=nz.bind(null,d),Az(o,d))));break;case 22:if(v=d.memoizedState!==null||Os,!v){l=l!==null&&l.memoizedState!==null||Yt,A=Os;var E=Yt;Os=v,(Yt=l)&&!E?Zo(o,d,(d.subtreeFlags&8772)!==0):Qo(o,d),Os=A,Yt=E}break;case 30:break;default:Qo(o,d)}}function kR(o){var l=o.alternate;l!==null&&(o.alternate=null,kR(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&_b(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var kt=null,li=!1;function Fs(o,l,d){for(d=d.child;d!==null;)LR(o,l,d),d=d.sibling}function LR(o,l,d){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(gd,d)}catch{}switch(d.tag){case 26:Yt||Qr(d,l),Fs(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Yt||Qr(d,l);var v=kt,A=li;sa(d.type)&&(kt=d.stateNode,li=!1),Fs(o,l,d),rh(d.stateNode),kt=v,li=A;break;case 5:Yt||Qr(d,l);case 6:if(v=kt,A=li,kt=null,Fs(o,l,d),kt=v,li=A,kt!==null)if(li)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(d.stateNode)}catch(E){Tt(d,l,E)}else try{kt.removeChild(d.stateNode)}catch(E){Tt(d,l,E)}break;case 18:kt!==null&&(li?(o=kt,EP(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),dh(o)):EP(kt,d.stateNode));break;case 4:v=kt,A=li,kt=d.stateNode.containerInfo,li=!0,Fs(o,l,d),kt=v,li=A;break;case 0:case 11:case 14:case 15:Yt||Jo(2,d,l),Yt||Jo(4,d,l),Fs(o,l,d);break;case 1:Yt||(Qr(d,l),v=d.stateNode,typeof v.componentWillUnmount=="function"&&MR(d,l,v)),Fs(o,l,d);break;case 21:Fs(o,l,d);break;case 22:Yt=(v=Yt)||d.memoizedState!==null,Fs(o,l,d),Yt=v;break;default:Fs(o,l,d)}}function OR(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{dh(o)}catch(d){Tt(l,l.return,d)}}function jV(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new NR),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new NR),l;default:throw Error(i(435,o.tag))}}function KA(o,l){var d=jV(o);l.forEach(function(v){var A=iz.bind(null,o,v);d.has(v)||(d.add(v),v.then(A,A))})}function _i(o,l){var d=l.deletions;if(d!==null)for(var v=0;v<d.length;v++){var A=d[v],E=o,w=l,D=w;e:for(;D!==null;){switch(D.tag){case 27:if(sa(D.type)){kt=D.stateNode,li=!1;break e}break;case 5:kt=D.stateNode,li=!1;break e;case 3:case 4:kt=D.stateNode.containerInfo,li=!0;break e}D=D.return}if(kt===null)throw Error(i(160));LR(E,w,A),kt=null,li=!1,E=A.alternate,E!==null&&(E.return=null),A.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)FR(l,o),l=l.sibling}var _r=null;function FR(o,l){var d=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:_i(l,o),xi(o),v&4&&(Jo(3,o,o.return),jd(3,o),Jo(5,o,o.return));break;case 1:_i(l,o),xi(o),v&512&&(Yt||d===null||Qr(d,d.return)),v&64&&Os&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?v:d.concat(v))));break;case 26:var A=_r;if(_i(l,o),xi(o),v&512&&(Yt||d===null||Qr(d,d.return)),v&4){var E=d!==null?d.memoizedState:null;if(v=o.memoizedState,d===null)if(v===null)if(o.stateNode===null){e:{v=o.type,d=o.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":E=A.getElementsByTagName("title")[0],(!E||E[bd]||E[qn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=A.createElement(v),A.head.insertBefore(E,A.querySelector("head > title"))),Rn(E,v,d),E[qn]=o,gn(E),v=E;break e;case"link":var w=DP("link","href",A).get(v+(d.href||""));if(w){for(var D=0;D<w.length;D++)if(E=w[D],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){w.splice(D,1);break t}}E=A.createElement(v),Rn(E,v,d),A.head.appendChild(E);break;case"meta":if(w=DP("meta","content",A).get(v+(d.content||""))){for(D=0;D<w.length;D++)if(E=w[D],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){w.splice(D,1);break t}}E=A.createElement(v),Rn(E,v,d),A.head.appendChild(E);break;default:throw Error(i(468,v))}E[qn]=o,gn(E),v=E}o.stateNode=v}else NP(A,o.type,o.stateNode);else o.stateNode=PP(A,v,o.memoizedProps);else E!==v?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,v===null?NP(A,o.type,o.stateNode):PP(A,v,o.memoizedProps)):v===null&&o.stateNode!==null&&zA(o,o.memoizedProps,d.memoizedProps)}break;case 27:_i(l,o),xi(o),v&512&&(Yt||d===null||Qr(d,d.return)),d!==null&&v&4&&zA(o,o.memoizedProps,d.memoizedProps);break;case 5:if(_i(l,o),xi(o),v&512&&(Yt||d===null||Qr(d,d.return)),o.flags&32){A=o.stateNode;try{tc(A,"")}catch(Q){Tt(o,o.return,Q)}}v&4&&o.stateNode!=null&&(A=o.memoizedProps,zA(o,A,d!==null?d.memoizedProps:A)),v&1024&&(YA=!0);break;case 6:if(_i(l,o),xi(o),v&4){if(o.stateNode===null)throw Error(i(162));v=o.memoizedProps,d=o.stateNode;try{d.nodeValue=v}catch(Q){Tt(o,o.return,Q)}}break;case 3:if(fv=null,A=_r,_r=uv(l.containerInfo),_i(l,o),_r=A,xi(o),v&4&&d!==null&&d.memoizedState.isDehydrated)try{dh(l.containerInfo)}catch(Q){Tt(o,o.return,Q)}YA&&(YA=!1,UR(o));break;case 4:v=_r,_r=uv(o.stateNode.containerInfo),_i(l,o),xi(o),_r=v;break;case 12:_i(l,o),xi(o);break;case 13:_i(l,o),xi(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(ZA=lt()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,KA(o,v)));break;case 22:A=o.memoizedState!==null;var B=d!==null&&d.memoizedState!==null,X=Os,re=Yt;if(Os=X||A,Yt=re||B,_i(l,o),Yt=re,Os=X,xi(o),v&8192)e:for(l=o.stateNode,l._visibility=A?l._visibility&-2:l._visibility|1,A&&(d===null||B||Os||Yt||dl(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){B=d=l;try{if(E=B.stateNode,A)w=E.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{D=B.stateNode;var le=B.memoizedProps.style,W=le!=null&&le.hasOwnProperty("display")?le.display:null;D.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Q){Tt(B,B.return,Q)}}}else if(l.tag===6){if(d===null){B=l;try{B.stateNode.nodeValue=A?"":B.memoizedProps}catch(Q){Tt(B,B.return,Q)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=o.updateQueue,v!==null&&(d=v.retryQueue,d!==null&&(v.retryQueue=null,KA(o,d))));break;case 19:_i(l,o),xi(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,KA(o,v)));break;case 30:break;case 21:break;default:_i(l,o),xi(o)}}function xi(o){var l=o.flags;if(l&2){try{for(var d,v=o.return;v!==null;){if(PR(v)){d=v;break}v=v.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var A=d.stateNode,E=GA(o);Wg(o,E,A);break;case 5:var w=d.stateNode;d.flags&32&&(tc(w,""),d.flags&=-33);var D=GA(o);Wg(o,D,w);break;case 3:case 4:var B=d.stateNode.containerInfo,X=GA(o);$A(o,X,B);break;default:throw Error(i(161))}}catch(re){Tt(o,o.return,re)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function UR(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;UR(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Qo(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)IR(o,l.alternate,l),l=l.sibling}function dl(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Jo(4,l,l.return),dl(l);break;case 1:Qr(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&MR(l,l.return,d),dl(l);break;case 27:rh(l.stateNode);case 26:case 5:Qr(l,l.return),dl(l);break;case 22:l.memoizedState===null&&dl(l);break;case 30:dl(l);break;default:dl(l)}o=o.sibling}}function Zo(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,A=o,E=l,w=E.flags;switch(E.tag){case 0:case 11:case 15:Zo(A,E,d),jd(4,E);break;case 1:if(Zo(A,E,d),v=E,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(X){Tt(v,v.return,X)}if(v=E,A=v.updateQueue,A!==null){var D=v.stateNode;try{var B=A.shared.hiddenCallbacks;if(B!==null)for(A.shared.hiddenCallbacks=null,A=0;A<B.length;A++)hM(B[A],D)}catch(X){Tt(v,v.return,X)}}d&&w&64&&wR(E),Xd(E,E.return);break;case 27:DR(E);case 26:case 5:Zo(A,E,d),d&&v===null&&w&4&&RR(E),Xd(E,E.return);break;case 12:Zo(A,E,d);break;case 13:Zo(A,E,d),d&&w&4&&OR(A,E);break;case 22:E.memoizedState===null&&Zo(A,E,d),Xd(E,E.return);break;case 30:break;default:Zo(A,E,d)}l=l.sibling}}function jA(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&kd(d))}function XA(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&kd(o))}function Zr(o,l,d,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)BR(o,l,d,v),l=l.sibling}function BR(o,l,d,v){var A=l.flags;switch(l.tag){case 0:case 11:case 15:Zr(o,l,d,v),A&2048&&jd(9,l);break;case 1:Zr(o,l,d,v);break;case 3:Zr(o,l,d,v),A&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&kd(o)));break;case 12:if(A&2048){Zr(o,l,d,v),o=l.stateNode;try{var E=l.memoizedProps,w=E.id,D=E.onPostCommit;typeof D=="function"&&D(w,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(B){Tt(l,l.return,B)}}else Zr(o,l,d,v);break;case 13:Zr(o,l,d,v);break;case 23:break;case 22:E=l.stateNode,w=l.alternate,l.memoizedState!==null?E._visibility&2?Zr(o,l,d,v):Wd(o,l):E._visibility&2?Zr(o,l,d,v):(E._visibility|=2,Ac(o,l,d,v,(l.subtreeFlags&10256)!==0)),A&2048&&jA(w,l);break;case 24:Zr(o,l,d,v),A&2048&&XA(l.alternate,l);break;default:Zr(o,l,d,v)}}function Ac(o,l,d,v,A){for(A=A&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var E=o,w=l,D=d,B=v,X=w.flags;switch(w.tag){case 0:case 11:case 15:Ac(E,w,D,B,A),jd(8,w);break;case 23:break;case 22:var re=w.stateNode;w.memoizedState!==null?re._visibility&2?Ac(E,w,D,B,A):Wd(E,w):(re._visibility|=2,Ac(E,w,D,B,A)),A&&X&2048&&jA(w.alternate,w);break;case 24:Ac(E,w,D,B,A),A&&X&2048&&XA(w.alternate,w);break;default:Ac(E,w,D,B,A)}l=l.sibling}}function Wd(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,v=l,A=v.flags;switch(v.tag){case 22:Wd(d,v),A&2048&&jA(v.alternate,v);break;case 24:Wd(d,v),A&2048&&XA(v.alternate,v);break;default:Wd(d,v)}l=l.sibling}}var Jd=8192;function Sc(o){if(o.subtreeFlags&Jd)for(o=o.child;o!==null;)qR(o),o=o.sibling}function qR(o){switch(o.tag){case 26:Sc(o),o.flags&Jd&&o.memoizedState!==null&&Iz(_r,o.memoizedState,o.memoizedProps);break;case 5:Sc(o);break;case 3:case 4:var l=_r;_r=uv(o.stateNode.containerInfo),Sc(o),_r=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=Jd,Jd=16777216,Sc(o),Jd=l):Sc(o));break;default:Sc(o)}}function HR(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Qd(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var v=l[d];yn=v,zR(v,o)}HR(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)VR(o),o=o.sibling}function VR(o){switch(o.tag){case 0:case 11:case 15:Qd(o),o.flags&2048&&Jo(9,o,o.return);break;case 3:Qd(o);break;case 12:Qd(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Jg(o)):Qd(o);break;default:Qd(o)}}function Jg(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var v=l[d];yn=v,zR(v,o)}HR(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Jo(8,l,l.return),Jg(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Jg(l));break;default:Jg(l)}o=o.sibling}}function zR(o,l){for(;yn!==null;){var d=yn;switch(d.tag){case 0:case 11:case 15:Jo(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var v=d.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:kd(d.memoizedState.cache)}if(v=d.child,v!==null)v.return=d,yn=v;else e:for(d=o;yn!==null;){v=yn;var A=v.sibling,E=v.return;if(kR(v),v===d){yn=null;break e}if(A!==null){A.return=E,yn=A;break e}yn=E}}}var XV={getCacheForType:function(o){var l=Hn(on),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d}},WV=typeof WeakMap=="function"?WeakMap:Map,ut=0,wt=null,Ye=null,Je=0,ct=0,wi=null,ea=!1,Tc=!1,WA=!1,Us=0,zt=0,ta=0,hl=0,JA=0,ir=0,Ec=0,Zd=null,ui=null,QA=!1,ZA=0,Qg=1/0,Zg=null,na=null,Mn=0,ia=null,Cc=null,_c=0,eS=0,tS=null,GR=null,eh=0,nS=null;function Mi(){if((ut&2)!==0&&Je!==0)return Je&-Je;if(Y.T!==null){var o=dc;return o!==0?o:uS()}return o1()}function $R(){ir===0&&(ir=(Je&536870912)===0||st?n1():536870912);var o=nr.current;return o!==null&&(o.flags|=32),ir}function Ri(o,l,d){(o===wt&&(ct===2||ct===9)||o.cancelPendingCommit!==null)&&(xc(o,0),ra(o,Je,ir,!1)),yd(o,d),((ut&2)===0||o!==wt)&&(o===wt&&((ut&2)===0&&(hl|=d),zt===4&&ra(o,Je,ir,!1)),es(o))}function YR(o,l,d){if((ut&6)!==0)throw Error(i(327));var v=!d&&(l&124)===0&&(l&o.expiredLanes)===0||vd(o,l),A=v?ZV(o,l):sS(o,l,!0),E=v;do{if(A===0){Tc&&!v&&ra(o,l,0,!1);break}else{if(d=o.current.alternate,E&&!JV(d)){A=sS(o,l,!1),E=!1;continue}if(A===2){if(E=l,o.errorRecoveryDisabledLanes&E)var w=0;else w=o.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){l=w;e:{var D=o;A=Zd;var B=D.current.memoizedState.isDehydrated;if(B&&(xc(D,w).flags|=256),w=sS(D,w,!1),w!==2){if(WA&&!B){D.errorRecoveryDisabledLanes|=E,hl|=E,A=4;break e}E=ui,ui=A,E!==null&&(ui===null?ui=E:ui.push.apply(ui,E))}A=w}if(E=!1,A!==2)continue}}if(A===1){xc(o,0),ra(o,l,0,!0);break}e:{switch(v=o,E=A,E){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:ra(v,l,ir,!ea);break e;case 2:ui=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(A=ZA+300-lt(),10<A)){if(ra(v,l,ir,!ea),cg(v,0,!0)!==0)break e;v.timeoutHandle=SP(KR.bind(null,v,d,ui,Zg,QA,l,ir,hl,Ec,ea,E,2,-0,0),A);break e}KR(v,d,ui,Zg,QA,l,ir,hl,Ec,ea,E,0,-0,0)}}break}while(!0);es(o)}function KR(o,l,d,v,A,E,w,D,B,X,re,le,W,Q){if(o.timeoutHandle=-1,le=l.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(ah={stylesheets:null,count:0,unsuspend:Nz},qR(l),le=kz(),le!==null)){o.cancelPendingCommit=le(eP.bind(null,o,l,E,d,v,A,w,D,B,re,1,W,Q)),ra(o,E,w,!X);return}eP(o,l,E,d,v,A,w,D,B)}function JV(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var v=0;v<d.length;v++){var A=d[v],E=A.getSnapshot;A=A.value;try{if(!Ei(E(),A))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ra(o,l,d,v){l&=~JA,l&=~hl,o.suspendedLanes|=l,o.pingedLanes&=~l,v&&(o.warmLanes|=l),v=o.expirationTimes;for(var A=l;0<A;){var E=31-Ti(A),w=1<<E;v[E]=-1,A&=~w}d!==0&&r1(o,d,l)}function ev(){return(ut&6)===0?(th(0),!1):!0}function iS(){if(Ye!==null){if(ct===0)var o=Ye.return;else o=Ye,Ps=al=null,AA(o),yc=null,$d=0,o=Ye;for(;o!==null;)xR(o.alternate,o),o=o.return;Ye=null}}function xc(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,mz(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),iS(),wt=o,Ye=d=ws(o.current,null),Je=l,ct=0,wi=null,ea=!1,Tc=vd(o,l),WA=!1,Ec=ir=JA=hl=ta=zt=0,ui=Zd=null,QA=!1,(l&8)!==0&&(l|=l&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=l;0<v;){var A=31-Ti(v),E=1<<A;l|=o[A],v&=~E}return Us=l,Tg(),d}function jR(o,l){Ue=null,Y.H=Hg,l===Od||l===Dg?(l=fM(),ct=3):l===lM?(l=fM(),ct=4):ct=l===dR?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,wi=l,Ye===null&&(zt=1,Yg(o,Qi(l,o.current)))}function XR(){var o=Y.H;return Y.H=Hg,o===null?Hg:o}function WR(){var o=Y.A;return Y.A=XV,o}function rS(){zt=4,ea||(Je&4194048)!==Je&&nr.current!==null||(Tc=!0),(ta&134217727)===0&&(hl&134217727)===0||wt===null||ra(wt,Je,ir,!1)}function sS(o,l,d){var v=ut;ut|=2;var A=XR(),E=WR();(wt!==o||Je!==l)&&(Zg=null,xc(o,l)),l=!1;var w=zt;e:do try{if(ct!==0&&Ye!==null){var D=Ye,B=wi;switch(ct){case 8:iS(),w=6;break e;case 3:case 2:case 9:case 6:nr.current===null&&(l=!0);var X=ct;if(ct=0,wi=null,wc(o,D,B,X),d&&Tc){w=0;break e}break;default:X=ct,ct=0,wi=null,wc(o,D,B,X)}}QV(),w=zt;break}catch(re){jR(o,re)}while(!0);return l&&o.shellSuspendCounter++,Ps=al=null,ut=v,Y.H=A,Y.A=E,Ye===null&&(wt=null,Je=0,Tg()),w}function QV(){for(;Ye!==null;)JR(Ye)}function ZV(o,l){var d=ut;ut|=2;var v=XR(),A=WR();wt!==o||Je!==l?(Zg=null,Qg=lt()+500,xc(o,l)):Tc=vd(o,l);e:do try{if(ct!==0&&Ye!==null){l=Ye;var E=wi;t:switch(ct){case 1:ct=0,wi=null,wc(o,l,E,1);break;case 2:case 9:if(uM(E)){ct=0,wi=null,QR(l);break}l=function(){ct!==2&&ct!==9||wt!==o||(ct=7),es(o)},E.then(l,l);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:uM(E)?(ct=0,wi=null,QR(l)):(ct=0,wi=null,wc(o,l,E,7));break;case 5:var w=null;switch(Ye.tag){case 26:w=Ye.memoizedState;case 5:case 27:var D=Ye;if(!w||IP(w)){ct=0,wi=null;var B=D.sibling;if(B!==null)Ye=B;else{var X=D.return;X!==null?(Ye=X,tv(X)):Ye=null}break t}}ct=0,wi=null,wc(o,l,E,5);break;case 6:ct=0,wi=null,wc(o,l,E,6);break;case 8:iS(),zt=6;break e;default:throw Error(i(462))}}ez();break}catch(re){jR(o,re)}while(!0);return Ps=al=null,Y.H=v,Y.A=A,ut=d,Ye!==null?0:(wt=null,Je=0,Tg(),zt)}function ez(){for(;Ye!==null&&!at();)JR(Ye)}function JR(o){var l=CR(o.alternate,o,Us);o.memoizedProps=o.pendingProps,l===null?tv(o):Ye=l}function QR(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=yR(d,l,l.pendingProps,l.type,void 0,Je);break;case 11:l=yR(d,l,l.pendingProps,l.type.render,l.ref,Je);break;case 5:AA(l);default:xR(d,l),l=Ye=Z1(l,Us),l=CR(d,l,Us)}o.memoizedProps=o.pendingProps,l===null?tv(o):Ye=l}function wc(o,l,d,v){Ps=al=null,AA(l),yc=null,$d=0;var A=l.return;try{if(zV(o,A,l,d,Je)){zt=1,Yg(o,Qi(d,o.current)),Ye=null;return}}catch(E){if(A!==null)throw Ye=A,E;zt=1,Yg(o,Qi(d,o.current)),Ye=null;return}l.flags&32768?(st||v===1?o=!0:Tc||(Je&536870912)!==0?o=!1:(ea=o=!0,(v===2||v===9||v===3||v===6)&&(v=nr.current,v!==null&&v.tag===13&&(v.flags|=16384))),ZR(l,o)):tv(l)}function tv(o){var l=o;do{if((l.flags&32768)!==0){ZR(l,ea);return}o=l.return;var d=$V(l.alternate,l,Us);if(d!==null){Ye=d;return}if(l=l.sibling,l!==null){Ye=l;return}Ye=l=o}while(l!==null);zt===0&&(zt=5)}function ZR(o,l){do{var d=YV(o.alternate,o);if(d!==null){d.flags&=32767,Ye=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){Ye=o;return}Ye=o=d}while(o!==null);zt=6,Ye=null}function eP(o,l,d,v,A,E,w,D,B){o.cancelPendingCommit=null;do nv();while(Mn!==0);if((ut&6)!==0)throw Error(i(327));if(l!==null){if(l===o.current)throw Error(i(177));if(E=l.lanes|l.childLanes,E|=Xb,N3(o,d,E,w,D,B),o===wt&&(Ye=wt=null,Je=0),Cc=l,ia=o,_c=d,eS=E,tS=A,GR=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,rz(ag,function(){return sP(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=Y.T,Y.T=null,A=J.p,J.p=2,w=ut,ut|=4;try{KV(o,l,d)}finally{ut=w,J.p=A,Y.T=v}}Mn=1,tP(),nP(),iP()}}function tP(){if(Mn===1){Mn=0;var o=ia,l=Cc,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null;var v=J.p;J.p=2;var A=ut;ut|=4;try{FR(l,o);var E=vS,w=z1(o.containerInfo),D=E.focusedElem,B=E.selectionRange;if(w!==D&&D&&D.ownerDocument&&V1(D.ownerDocument.documentElement,D)){if(B!==null&&Gb(D)){var X=B.start,re=B.end;if(re===void 0&&(re=X),"selectionStart"in D)D.selectionStart=X,D.selectionEnd=Math.min(re,D.value.length);else{var le=D.ownerDocument||document,W=le&&le.defaultView||window;if(W.getSelection){var Q=W.getSelection(),Ie=D.textContent.length,Pe=Math.min(B.start,Ie),vt=B.end===void 0?Pe:Math.min(B.end,Ie);!Q.extend&&Pe>vt&&(w=vt,vt=Pe,Pe=w);var $=H1(D,Pe),V=H1(D,vt);if($&&V&&(Q.rangeCount!==1||Q.anchorNode!==$.node||Q.anchorOffset!==$.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var j=le.createRange();j.setStart($.node,$.offset),Q.removeAllRanges(),Pe>vt?(Q.addRange(j),Q.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),Q.addRange(j))}}}}for(le=[],Q=D;Q=Q.parentNode;)Q.nodeType===1&&le.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<le.length;D++){var oe=le[D];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}pv=!!gS,vS=gS=null}finally{ut=A,J.p=v,Y.T=d}}o.current=l,Mn=2}}function nP(){if(Mn===2){Mn=0;var o=ia,l=Cc,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=Y.T,Y.T=null;var v=J.p;J.p=2;var A=ut;ut|=4;try{IR(o,l.alternate,l)}finally{ut=A,J.p=v,Y.T=d}}Mn=3}}function iP(){if(Mn===4||Mn===3){Mn=0,pt();var o=ia,l=Cc,d=_c,v=GR;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Mn=5:(Mn=0,Cc=ia=null,rP(o,o.pendingLanes));var A=o.pendingLanes;if(A===0&&(na=null),Eb(d),l=l.stateNode,Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(gd,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=Y.T,A=J.p,J.p=2,Y.T=null;try{for(var E=o.onRecoverableError,w=0;w<v.length;w++){var D=v[w];E(D.value,{componentStack:D.stack})}}finally{Y.T=l,J.p=A}}(_c&3)!==0&&nv(),es(o),A=o.pendingLanes,(d&4194090)!==0&&(A&42)!==0?o===nS?eh++:(eh=0,nS=o):eh=0,th(0)}}function rP(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,kd(l)))}function nv(o){return tP(),nP(),iP(),sP()}function sP(){if(Mn!==5)return!1;var o=ia,l=eS;eS=0;var d=Eb(_c),v=Y.T,A=J.p;try{J.p=32>d?32:d,Y.T=null,d=tS,tS=null;var E=ia,w=_c;if(Mn=0,Cc=ia=null,_c=0,(ut&6)!==0)throw Error(i(331));var D=ut;if(ut|=4,VR(E.current),BR(E,E.current,w,d),ut=D,th(0,!1),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(gd,E)}catch{}return!0}finally{J.p=A,Y.T=v,rP(o,l)}}function oP(o,l,d){l=Qi(d,l),l=kA(o.stateNode,l,2),o=Ko(o,l,2),o!==null&&(yd(o,2),es(o))}function Tt(o,l,d){if(o.tag===3)oP(o,o,d);else for(;l!==null;){if(l.tag===3){oP(l,o,d);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(na===null||!na.has(v))){o=Qi(d,o),d=cR(2),v=Ko(l,d,2),v!==null&&(fR(d,v,l,o),yd(v,2),es(v));break}}l=l.return}}function oS(o,l,d){var v=o.pingCache;if(v===null){v=o.pingCache=new WV;var A=new Set;v.set(l,A)}else A=v.get(l),A===void 0&&(A=new Set,v.set(l,A));A.has(d)||(WA=!0,A.add(d),o=tz.bind(null,o,l,d),l.then(o,o))}function tz(o,l,d){var v=o.pingCache;v!==null&&v.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,wt===o&&(Je&d)===d&&(zt===4||zt===3&&(Je&62914560)===Je&&300>lt()-ZA?(ut&2)===0&&xc(o,0):JA|=d,Ec===Je&&(Ec=0)),es(o)}function aP(o,l){l===0&&(l=i1()),o=lc(o,l),o!==null&&(yd(o,l),es(o))}function nz(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),aP(o,d)}function iz(o,l){var d=0;switch(o.tag){case 13:var v=o.stateNode,A=o.memoizedState;A!==null&&(d=A.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(l),aP(o,d)}function rz(o,l){return Ne(o,l)}var iv=null,Mc=null,aS=!1,rv=!1,lS=!1,pl=0;function es(o){o!==Mc&&o.next===null&&(Mc===null?iv=Mc=o:Mc=Mc.next=o),rv=!0,aS||(aS=!0,oz())}function th(o,l){if(!lS&&rv){lS=!0;do for(var d=!1,v=iv;v!==null;){if(o!==0){var A=v.pendingLanes;if(A===0)var E=0;else{var w=v.suspendedLanes,D=v.pingedLanes;E=(1<<31-Ti(42|o)+1)-1,E&=A&~(w&~D),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,fP(v,E))}else E=Je,E=cg(v,v===wt?E:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(E&3)===0||vd(v,E)||(d=!0,fP(v,E));v=v.next}while(d);lS=!1}}function sz(){lP()}function lP(){rv=aS=!1;var o=0;pl!==0&&(pz()&&(o=pl),pl=0);for(var l=lt(),d=null,v=iv;v!==null;){var A=v.next,E=uP(v,l);E===0?(v.next=null,d===null?iv=A:d.next=A,A===null&&(Mc=d)):(d=v,(o!==0||(E&3)!==0)&&(rv=!0)),v=A}th(o)}function uP(o,l){for(var d=o.suspendedLanes,v=o.pingedLanes,A=o.expirationTimes,E=o.pendingLanes&-62914561;0<E;){var w=31-Ti(E),D=1<<w,B=A[w];B===-1?((D&d)===0||(D&v)!==0)&&(A[w]=D3(D,l)):B<=l&&(o.expiredLanes|=D),E&=~D}if(l=wt,d=Je,d=cg(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,d===0||o===l&&(ct===2||ct===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&Ee(v),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||vd(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(v!==null&&Ee(v),Eb(d)){case 2:case 8:d=e1;break;case 32:d=ag;break;case 268435456:d=t1;break;default:d=ag}return v=cP.bind(null,o),d=Ne(d,v),o.callbackPriority=l,o.callbackNode=d,l}return v!==null&&v!==null&&Ee(v),o.callbackPriority=2,o.callbackNode=null,2}function cP(o,l){if(Mn!==0&&Mn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(nv()&&o.callbackNode!==d)return null;var v=Je;return v=cg(o,o===wt?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(YR(o,v,l),uP(o,lt()),o.callbackNode!=null&&o.callbackNode===d?cP.bind(null,o):null)}function fP(o,l){if(nv())return null;YR(o,l,!0)}function oz(){gz(function(){(ut&6)!==0?Ne(Zw,sz):lP()})}function uS(){return pl===0&&(pl=n1()),pl}function dP(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:mg(""+o)}function hP(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function az(o,l,d,v,A){if(l==="submit"&&d&&d.stateNode===A){var E=dP((A[si]||null).action),w=v.submitter;w&&(l=(l=w[si]||null)?dP(l.formAction):w.getAttribute("formAction"),l!==null&&(E=l,w=null));var D=new bg("action","action",null,v,A);o.push({event:D,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(pl!==0){var B=w?hP(A,w):new FormData(A);RA(d,{pending:!0,data:B,method:A.method,action:E},null,B)}}else typeof E=="function"&&(D.preventDefault(),B=w?hP(A,w):new FormData(A),RA(d,{pending:!0,data:B,method:A.method,action:E},E,B))},currentTarget:A}]})}}for(var cS=0;cS<jb.length;cS++){var fS=jb[cS],lz=fS.toLowerCase(),uz=fS[0].toUpperCase()+fS.slice(1);Cr(lz,"on"+uz)}Cr(Y1,"onAnimationEnd"),Cr(K1,"onAnimationIteration"),Cr(j1,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(xV,"onTransitionRun"),Cr(wV,"onTransitionStart"),Cr(MV,"onTransitionCancel"),Cr(X1,"onTransitionEnd"),Qu("onMouseEnter",["mouseout","mouseover"]),Qu("onMouseLeave",["mouseout","mouseover"]),Qu("onPointerEnter",["pointerout","pointerover"]),Qu("onPointerLeave",["pointerout","pointerover"]),Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nh));function pP(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var v=o[d],A=v.event;v=v.listeners;e:{var E=void 0;if(l)for(var w=v.length-1;0<=w;w--){var D=v[w],B=D.instance,X=D.currentTarget;if(D=D.listener,B!==E&&A.isPropagationStopped())break e;E=D,A.currentTarget=X;try{E(A)}catch(re){$g(re)}A.currentTarget=null,E=B}else for(w=0;w<v.length;w++){if(D=v[w],B=D.instance,X=D.currentTarget,D=D.listener,B!==E&&A.isPropagationStopped())break e;E=D,A.currentTarget=X;try{E(A)}catch(re){$g(re)}A.currentTarget=null,E=B}}}}function Ke(o,l){var d=l[Cb];d===void 0&&(d=l[Cb]=new Set);var v=o+"__bubble";d.has(v)||(mP(l,o,2,!1),d.add(v))}function dS(o,l,d){var v=0;l&&(v|=4),mP(d,o,v,l)}var sv="_reactListening"+Math.random().toString(36).slice(2);function hS(o){if(!o[sv]){o[sv]=!0,l1.forEach(function(d){d!=="selectionchange"&&(cz.has(d)||dS(d,!1,o),dS(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[sv]||(l[sv]=!0,dS("selectionchange",!1,l))}}function mP(o,l,d,v){switch(BP(l)){case 2:var A=Fz;break;case 8:A=Uz;break;default:A=wS}d=A.bind(null,l,d,o),A=void 0,!Lb||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(A=!0),v?A!==void 0?o.addEventListener(l,d,{capture:!0,passive:A}):o.addEventListener(l,d,!0):A!==void 0?o.addEventListener(l,d,{passive:A}):o.addEventListener(l,d,!1)}function pS(o,l,d,v,A){var E=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var w=v.tag;if(w===3||w===4){var D=v.stateNode.containerInfo;if(D===A)break;if(w===4)for(w=v.return;w!==null;){var B=w.tag;if((B===3||B===4)&&w.stateNode.containerInfo===A)return;w=w.return}for(;D!==null;){if(w=Xu(D),w===null)return;if(B=w.tag,B===5||B===6||B===26||B===27){v=E=w;continue e}D=D.parentNode}}v=v.return}T1(function(){var X=E,re=Ib(d),le=[];e:{var W=W1.get(o);if(W!==void 0){var Q=bg,Ie=o;switch(o){case"keypress":if(vg(d)===0)break e;case"keydown":case"keyup":Q=rV;break;case"focusin":Ie="focus",Q=Bb;break;case"focusout":Ie="blur",Q=Bb;break;case"beforeblur":case"afterblur":Q=Bb;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=_1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Y3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=aV;break;case Y1:case K1:case j1:Q=X3;break;case X1:Q=uV;break;case"scroll":case"scrollend":Q=G3;break;case"wheel":Q=fV;break;case"copy":case"cut":case"paste":Q=J3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=w1;break;case"toggle":case"beforetoggle":Q=hV}var Pe=(l&4)!==0,vt=!Pe&&(o==="scroll"||o==="scrollend"),$=Pe?W!==null?W+"Capture":null:W;Pe=[];for(var V=X,j;V!==null;){var oe=V;if(j=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||j===null||$===null||(oe=Sd(V,$),oe!=null&&Pe.push(ih(V,oe,j))),vt)break;V=V.return}0<Pe.length&&(W=new Q(W,Ie,null,d,re),le.push({event:W,listeners:Pe}))}}if((l&7)===0){e:{if(W=o==="mouseover"||o==="pointerover",Q=o==="mouseout"||o==="pointerout",W&&d!==Nb&&(Ie=d.relatedTarget||d.fromElement)&&(Xu(Ie)||Ie[ju]))break e;if((Q||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,Q?(Ie=d.relatedTarget||d.toElement,Q=X,Ie=Ie?Xu(Ie):null,Ie!==null&&(vt=s(Ie),Pe=Ie.tag,Ie!==vt||Pe!==5&&Pe!==27&&Pe!==6)&&(Ie=null)):(Q=null,Ie=X),Q!==Ie)){if(Pe=_1,oe="onMouseLeave",$="onMouseEnter",V="mouse",(o==="pointerout"||o==="pointerover")&&(Pe=w1,oe="onPointerLeave",$="onPointerEnter",V="pointer"),vt=Q==null?W:Ad(Q),j=Ie==null?W:Ad(Ie),W=new Pe(oe,V+"leave",Q,d,re),W.target=vt,W.relatedTarget=j,oe=null,Xu(re)===X&&(Pe=new Pe($,V+"enter",Ie,d,re),Pe.target=j,Pe.relatedTarget=vt,oe=Pe),vt=oe,Q&&Ie)t:{for(Pe=Q,$=Ie,V=0,j=Pe;j;j=Rc(j))V++;for(j=0,oe=$;oe;oe=Rc(oe))j++;for(;0<V-j;)Pe=Rc(Pe),V--;for(;0<j-V;)$=Rc($),j--;for(;V--;){if(Pe===$||$!==null&&Pe===$.alternate)break t;Pe=Rc(Pe),$=Rc($)}Pe=null}else Pe=null;Q!==null&&gP(le,W,Q,Pe,!1),Ie!==null&&vt!==null&&gP(le,vt,Ie,Pe,!0)}}e:{if(W=X?Ad(X):window,Q=W.nodeName&&W.nodeName.toLowerCase(),Q==="select"||Q==="input"&&W.type==="file")var Se=L1;else if(I1(W))if(O1)Se=EV;else{Se=SV;var Ve=AV}else Q=W.nodeName,!Q||Q.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&Db(X.elementType)&&(Se=L1):Se=TV;if(Se&&(Se=Se(o,X))){k1(le,Se,d,re);break e}Ve&&Ve(o,W,X),o==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&Pb(W,"number",W.value)}switch(Ve=X?Ad(X):window,o){case"focusin":(I1(Ve)||Ve.contentEditable==="true")&&(sc=Ve,$b=X,Rd=null);break;case"focusout":Rd=$b=sc=null;break;case"mousedown":Yb=!0;break;case"contextmenu":case"mouseup":case"dragend":Yb=!1,G1(le,d,re);break;case"selectionchange":if(_V)break;case"keydown":case"keyup":G1(le,d,re)}var we;if(Hb)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else rc?D1(o,d)&&(De="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(De="onCompositionStart");De&&(M1&&d.locale!=="ko"&&(rc||De!=="onCompositionStart"?De==="onCompositionEnd"&&rc&&(we=E1()):(zo=re,Ob="value"in zo?zo.value:zo.textContent,rc=!0)),Ve=ov(X,De),0<Ve.length&&(De=new x1(De,o,null,d,re),le.push({event:De,listeners:Ve}),we?De.data=we:(we=N1(d),we!==null&&(De.data=we)))),(we=mV?gV(o,d):vV(o,d))&&(De=ov(X,"onBeforeInput"),0<De.length&&(Ve=new x1("onBeforeInput","beforeinput",null,d,re),le.push({event:Ve,listeners:De}),Ve.data=we)),az(le,o,X,d,re)}pP(le,l)})}function ih(o,l,d){return{instance:o,listener:l,currentTarget:d}}function ov(o,l){for(var d=l+"Capture",v=[];o!==null;){var A=o,E=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||E===null||(A=Sd(o,d),A!=null&&v.unshift(ih(o,A,E)),A=Sd(o,l),A!=null&&v.push(ih(o,A,E))),o.tag===3)return v;o=o.return}return[]}function Rc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function gP(o,l,d,v,A){for(var E=l._reactName,w=[];d!==null&&d!==v;){var D=d,B=D.alternate,X=D.stateNode;if(D=D.tag,B!==null&&B===v)break;D!==5&&D!==26&&D!==27||X===null||(B=X,A?(X=Sd(d,E),X!=null&&w.unshift(ih(d,X,B))):A||(X=Sd(d,E),X!=null&&w.push(ih(d,X,B)))),d=d.return}w.length!==0&&o.push({event:l,listeners:w})}var fz=/\r\n?/g,dz=/\u0000|\uFFFD/g;function vP(o){return(typeof o=="string"?o:""+o).replace(fz,`
`).replace(dz,"")}function yP(o,l){return l=vP(l),vP(o)===l}function av(){}function gt(o,l,d,v,A,E){switch(d){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||tc(o,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&tc(o,""+v);break;case"className":dg(o,"class",v);break;case"tabIndex":dg(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":dg(o,d,v);break;case"style":A1(o,v,E);break;case"data":if(l!=="object"){dg(o,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(d);break}v=mg(""+v),o.setAttribute(d,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(l!=="input"&&gt(o,l,"name",A.name,A,null),gt(o,l,"formEncType",A.formEncType,A,null),gt(o,l,"formMethod",A.formMethod,A,null),gt(o,l,"formTarget",A.formTarget,A,null)):(gt(o,l,"encType",A.encType,A,null),gt(o,l,"method",A.method,A,null),gt(o,l,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(d);break}v=mg(""+v),o.setAttribute(d,v);break;case"onClick":v!=null&&(o.onclick=av);break;case"onScroll":v!=null&&Ke("scroll",o);break;case"onScrollEnd":v!=null&&Ke("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(d=v.__html,d!=null){if(A.children!=null)throw Error(i(60));o.innerHTML=d}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}d=mg(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(d,""+v):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":v===!0?o.setAttribute(d,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(d,v):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(d,v):o.removeAttribute(d);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(d):o.setAttribute(d,v);break;case"popover":Ke("beforetoggle",o),Ke("toggle",o),fg(o,"popover",v);break;case"xlinkActuate":_s(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":_s(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":_s(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":_s(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":_s(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":_s(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":_s(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":_s(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":_s(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":fg(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=V3.get(d)||d,fg(o,d,v))}}function mS(o,l,d,v,A,E){switch(d){case"style":A1(o,v,E);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(d=v.__html,d!=null){if(A.children!=null)throw Error(i(60));o.innerHTML=d}}break;case"children":typeof v=="string"?tc(o,v):(typeof v=="number"||typeof v=="bigint")&&tc(o,""+v);break;case"onScroll":v!=null&&Ke("scroll",o);break;case"onScrollEnd":v!=null&&Ke("scrollend",o);break;case"onClick":v!=null&&(o.onclick=av);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!u1.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(A=d.endsWith("Capture"),l=d.slice(2,A?d.length-7:void 0),E=o[si]||null,E=E!=null?E[d]:null,typeof E=="function"&&o.removeEventListener(l,E,A),typeof v=="function")){typeof E!="function"&&E!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,v,A);break e}d in o?o[d]=v:v===!0?o.setAttribute(d,""):fg(o,d,v)}}}function Rn(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",o),Ke("load",o);var v=!1,A=!1,E;for(E in d)if(d.hasOwnProperty(E)){var w=d[E];if(w!=null)switch(E){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:gt(o,l,E,w,d,null)}}A&&gt(o,l,"srcSet",d.srcSet,d,null),v&&gt(o,l,"src",d.src,d,null);return;case"input":Ke("invalid",o);var D=E=w=A=null,B=null,X=null;for(v in d)if(d.hasOwnProperty(v)){var re=d[v];if(re!=null)switch(v){case"name":A=re;break;case"type":w=re;break;case"checked":B=re;break;case"defaultChecked":X=re;break;case"value":E=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,l));break;default:gt(o,l,v,re,d,null)}}g1(o,E,D,B,X,w,A,!1),hg(o);return;case"select":Ke("invalid",o),v=w=E=null;for(A in d)if(d.hasOwnProperty(A)&&(D=d[A],D!=null))switch(A){case"value":E=D;break;case"defaultValue":w=D;break;case"multiple":v=D;default:gt(o,l,A,D,d,null)}l=E,d=w,o.multiple=!!v,l!=null?ec(o,!!v,l,!1):d!=null&&ec(o,!!v,d,!0);return;case"textarea":Ke("invalid",o),E=A=v=null;for(w in d)if(d.hasOwnProperty(w)&&(D=d[w],D!=null))switch(w){case"value":v=D;break;case"defaultValue":A=D;break;case"children":E=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:gt(o,l,w,D,d,null)}y1(o,v,A,E),hg(o);return;case"option":for(B in d)if(d.hasOwnProperty(B)&&(v=d[B],v!=null))switch(B){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:gt(o,l,B,v,d,null)}return;case"dialog":Ke("beforetoggle",o),Ke("toggle",o),Ke("cancel",o),Ke("close",o);break;case"iframe":case"object":Ke("load",o);break;case"video":case"audio":for(v=0;v<nh.length;v++)Ke(nh[v],o);break;case"image":Ke("error",o),Ke("load",o);break;case"details":Ke("toggle",o);break;case"embed":case"source":case"link":Ke("error",o),Ke("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in d)if(d.hasOwnProperty(X)&&(v=d[X],v!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:gt(o,l,X,v,d,null)}return;default:if(Db(l)){for(re in d)d.hasOwnProperty(re)&&(v=d[re],v!==void 0&&mS(o,l,re,v,d,void 0));return}}for(D in d)d.hasOwnProperty(D)&&(v=d[D],v!=null&&gt(o,l,D,v,d,null))}function hz(o,l,d,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,E=null,w=null,D=null,B=null,X=null,re=null;for(Q in d){var le=d[Q];if(d.hasOwnProperty(Q)&&le!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":B=le;default:v.hasOwnProperty(Q)||gt(o,l,Q,null,v,le)}}for(var W in v){var Q=v[W];if(le=d[W],v.hasOwnProperty(W)&&(Q!=null||le!=null))switch(W){case"type":E=Q;break;case"name":A=Q;break;case"checked":X=Q;break;case"defaultChecked":re=Q;break;case"value":w=Q;break;case"defaultValue":D=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,l));break;default:Q!==le&&gt(o,l,W,Q,v,le)}}Rb(o,w,D,B,X,re,E,A);return;case"select":Q=w=D=W=null;for(E in d)if(B=d[E],d.hasOwnProperty(E)&&B!=null)switch(E){case"value":break;case"multiple":Q=B;default:v.hasOwnProperty(E)||gt(o,l,E,null,v,B)}for(A in v)if(E=v[A],B=d[A],v.hasOwnProperty(A)&&(E!=null||B!=null))switch(A){case"value":W=E;break;case"defaultValue":D=E;break;case"multiple":w=E;default:E!==B&&gt(o,l,A,E,v,B)}l=D,d=w,v=Q,W!=null?ec(o,!!d,W,!1):!!v!=!!d&&(l!=null?ec(o,!!d,l,!0):ec(o,!!d,d?[]:"",!1));return;case"textarea":Q=W=null;for(D in d)if(A=d[D],d.hasOwnProperty(D)&&A!=null&&!v.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:gt(o,l,D,null,v,A)}for(w in v)if(A=v[w],E=d[w],v.hasOwnProperty(w)&&(A!=null||E!=null))switch(w){case"value":W=A;break;case"defaultValue":Q=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:A!==E&&gt(o,l,w,A,v,E)}v1(o,W,Q);return;case"option":for(var Ie in d)if(W=d[Ie],d.hasOwnProperty(Ie)&&W!=null&&!v.hasOwnProperty(Ie))switch(Ie){case"selected":o.selected=!1;break;default:gt(o,l,Ie,null,v,W)}for(B in v)if(W=v[B],Q=d[B],v.hasOwnProperty(B)&&W!==Q&&(W!=null||Q!=null))switch(B){case"selected":o.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:gt(o,l,B,W,v,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in d)W=d[Pe],d.hasOwnProperty(Pe)&&W!=null&&!v.hasOwnProperty(Pe)&&gt(o,l,Pe,null,v,W);for(X in v)if(W=v[X],Q=d[X],v.hasOwnProperty(X)&&W!==Q&&(W!=null||Q!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,l));break;default:gt(o,l,X,W,v,Q)}return;default:if(Db(l)){for(var vt in d)W=d[vt],d.hasOwnProperty(vt)&&W!==void 0&&!v.hasOwnProperty(vt)&&mS(o,l,vt,void 0,v,W);for(re in v)W=v[re],Q=d[re],!v.hasOwnProperty(re)||W===Q||W===void 0&&Q===void 0||mS(o,l,re,W,v,Q);return}}for(var $ in d)W=d[$],d.hasOwnProperty($)&&W!=null&&!v.hasOwnProperty($)&&gt(o,l,$,null,v,W);for(le in v)W=v[le],Q=d[le],!v.hasOwnProperty(le)||W===Q||W==null&&Q==null||gt(o,l,le,W,v,Q)}var gS=null,vS=null;function lv(o){return o.nodeType===9?o:o.ownerDocument}function bP(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AP(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function yS(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var bS=null;function pz(){var o=window.event;return o&&o.type==="popstate"?o===bS?!1:(bS=o,!0):(bS=null,!1)}var SP=typeof setTimeout=="function"?setTimeout:void 0,mz=typeof clearTimeout=="function"?clearTimeout:void 0,TP=typeof Promise=="function"?Promise:void 0,gz=typeof queueMicrotask=="function"?queueMicrotask:typeof TP<"u"?function(o){return TP.resolve(null).then(o).catch(vz)}:SP;function vz(o){setTimeout(function(){throw o})}function sa(o){return o==="head"}function EP(o,l){var d=l,v=0,A=0;do{var E=d.nextSibling;if(o.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"){if(0<v&&8>v){d=v;var w=o.ownerDocument;if(d&1&&rh(w.documentElement),d&2&&rh(w.body),d&4)for(d=w.head,rh(d),w=d.firstChild;w;){var D=w.nextSibling,B=w.nodeName;w[bd]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=D}}if(A===0){o.removeChild(E),dh(l);return}A--}else d==="$"||d==="$?"||d==="$!"?A++:v=d.charCodeAt(0)-48;else v=0;d=E}while(d);dh(l)}function AS(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":AS(d),_b(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function yz(o,l,d,v){for(;o.nodeType===1;){var A=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[bd])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(E=o.getAttribute("rel"),E==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(E!==A.rel||o.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||o.getAttribute("title")!==(A.title==null?null:A.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(E=o.getAttribute("src"),(E!==(A.src==null?null:A.src)||o.getAttribute("type")!==(A.type==null?null:A.type)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&E&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var E=A.name==null?null:""+A.name;if(A.type==="hidden"&&o.getAttribute("name")===E)return o}else return o;if(o=xr(o.nextSibling),o===null)break}return null}function bz(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=xr(o.nextSibling),o===null))return null;return o}function SS(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function Az(o,l){var d=o.ownerDocument;if(o.data!=="$?"||d.readyState==="complete")l();else{var v=function(){l(),d.removeEventListener("DOMContentLoaded",v)};d.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function xr(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var TS=null;function CP(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}function _P(o,l,d){switch(l=lv(d),o){case"html":if(o=l.documentElement,!o)throw Error(i(452));return o;case"head":if(o=l.head,!o)throw Error(i(453));return o;case"body":if(o=l.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function rh(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);_b(o)}var rr=new Map,xP=new Set;function uv(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Bs=J.d;J.d={f:Sz,r:Tz,D:Ez,C:Cz,L:_z,m:xz,X:Mz,S:wz,M:Rz};function Sz(){var o=Bs.f(),l=ev();return o||l}function Tz(o){var l=Wu(o);l!==null&&l.tag===5&&l.type==="form"?YM(l):Bs.r(o)}var Pc=typeof document>"u"?null:document;function wP(o,l,d){var v=Pc;if(v&&typeof l=="string"&&l){var A=Ji(l);A='link[rel="'+o+'"][href="'+A+'"]',typeof d=="string"&&(A+='[crossorigin="'+d+'"]'),xP.has(A)||(xP.add(A),o={rel:o,crossOrigin:d,href:l},v.querySelector(A)===null&&(l=v.createElement("link"),Rn(l,"link",o),gn(l),v.head.appendChild(l)))}}function Ez(o){Bs.D(o),wP("dns-prefetch",o,null)}function Cz(o,l){Bs.C(o,l),wP("preconnect",o,l)}function _z(o,l,d){Bs.L(o,l,d);var v=Pc;if(v&&o&&l){var A='link[rel="preload"][as="'+Ji(l)+'"]';l==="image"&&d&&d.imageSrcSet?(A+='[imagesrcset="'+Ji(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(A+='[imagesizes="'+Ji(d.imageSizes)+'"]')):A+='[href="'+Ji(o)+'"]';var E=A;switch(l){case"style":E=Dc(o);break;case"script":E=Nc(o)}rr.has(E)||(o=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),rr.set(E,o),v.querySelector(A)!==null||l==="style"&&v.querySelector(sh(E))||l==="script"&&v.querySelector(oh(E))||(l=v.createElement("link"),Rn(l,"link",o),gn(l),v.head.appendChild(l)))}}function xz(o,l){Bs.m(o,l);var d=Pc;if(d&&o){var v=l&&typeof l.as=="string"?l.as:"script",A='link[rel="modulepreload"][as="'+Ji(v)+'"][href="'+Ji(o)+'"]',E=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Nc(o)}if(!rr.has(E)&&(o=h({rel:"modulepreload",href:o},l),rr.set(E,o),d.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(oh(E)))return}v=d.createElement("link"),Rn(v,"link",o),gn(v),d.head.appendChild(v)}}}function wz(o,l,d){Bs.S(o,l,d);var v=Pc;if(v&&o){var A=Ju(v).hoistableStyles,E=Dc(o);l=l||"default";var w=A.get(E);if(!w){var D={loading:0,preload:null};if(w=v.querySelector(sh(E)))D.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":l},d),(d=rr.get(E))&&ES(o,d);var B=w=v.createElement("link");gn(B),Rn(B,"link",o),B._p=new Promise(function(X,re){B.onload=X,B.onerror=re}),B.addEventListener("load",function(){D.loading|=1}),B.addEventListener("error",function(){D.loading|=2}),D.loading|=4,cv(w,l,v)}w={type:"stylesheet",instance:w,count:1,state:D},A.set(E,w)}}}function Mz(o,l){Bs.X(o,l);var d=Pc;if(d&&o){var v=Ju(d).hoistableScripts,A=Nc(o),E=v.get(A);E||(E=d.querySelector(oh(A)),E||(o=h({src:o,async:!0},l),(l=rr.get(A))&&CS(o,l),E=d.createElement("script"),gn(E),Rn(E,"link",o),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},v.set(A,E))}}function Rz(o,l){Bs.M(o,l);var d=Pc;if(d&&o){var v=Ju(d).hoistableScripts,A=Nc(o),E=v.get(A);E||(E=d.querySelector(oh(A)),E||(o=h({src:o,async:!0,type:"module"},l),(l=rr.get(A))&&CS(o,l),E=d.createElement("script"),gn(E),Rn(E,"link",o),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},v.set(A,E))}}function MP(o,l,d,v){var A=(A=xe.current)?uv(A):null;if(!A)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Dc(d.href),d=Ju(A).hoistableStyles,v=d.get(l),v||(v={type:"style",instance:null,count:0,state:null},d.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Dc(d.href);var E=Ju(A).hoistableStyles,w=E.get(o);if(w||(A=A.ownerDocument||A,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(o,w),(E=A.querySelector(sh(o)))&&!E._p&&(w.instance=E,w.state.loading=5),rr.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},rr.set(o,d),E||Pz(A,o,d,w.state))),l&&v===null)throw Error(i(528,""));return w}if(l&&v!==null)throw Error(i(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Nc(d),d=Ju(A).hoistableScripts,v=d.get(l),v||(v={type:"script",instance:null,count:0,state:null},d.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Dc(o){return'href="'+Ji(o)+'"'}function sh(o){return'link[rel="stylesheet"]['+o+"]"}function RP(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function Pz(o,l,d,v){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=o.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),Rn(l,"link",d),gn(l),o.head.appendChild(l))}function Nc(o){return'[src="'+Ji(o)+'"]'}function oh(o){return"script[async]"+o}function PP(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var v=o.querySelector('style[data-href~="'+Ji(d.href)+'"]');if(v)return l.instance=v,gn(v),v;var A=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),gn(v),Rn(v,"style",A),cv(v,d.precedence,o),l.instance=v;case"stylesheet":A=Dc(d.href);var E=o.querySelector(sh(A));if(E)return l.state.loading|=4,l.instance=E,gn(E),E;v=RP(d),(A=rr.get(A))&&ES(v,A),E=(o.ownerDocument||o).createElement("link"),gn(E);var w=E;return w._p=new Promise(function(D,B){w.onload=D,w.onerror=B}),Rn(E,"link",v),l.state.loading|=4,cv(E,d.precedence,o),l.instance=E;case"script":return E=Nc(d.src),(A=o.querySelector(oh(E)))?(l.instance=A,gn(A),A):(v=d,(A=rr.get(E))&&(v=h({},d),CS(v,A)),o=o.ownerDocument||o,A=o.createElement("script"),gn(A),Rn(A,"link",v),o.head.appendChild(A),l.instance=A);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,cv(v,d.precedence,o));return l.instance}function cv(o,l,d){for(var v=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,E=A,w=0;w<v.length;w++){var D=v[w];if(D.dataset.precedence===l)E=D;else if(E!==A)break}E?E.parentNode.insertBefore(o,E.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function ES(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function CS(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var fv=null;function DP(o,l,d){if(fv===null){var v=new Map,A=fv=new Map;A.set(d,v)}else A=fv,v=A.get(d),v||(v=new Map,A.set(d,v));if(v.has(o))return v;for(v.set(o,null),d=d.getElementsByTagName(o),A=0;A<d.length;A++){var E=d[A];if(!(E[bd]||E[qn]||o==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var w=E.getAttribute(l)||"";w=o+w;var D=v.get(w);D?D.push(E):v.set(w,[E])}}return v}function NP(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function Dz(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function IP(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var ah=null;function Nz(){}function Iz(o,l,d){if(ah===null)throw Error(i(475));var v=ah;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var A=Dc(d.href),E=o.querySelector(sh(A));if(E){o=E._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(v.count++,v=dv.bind(v),o.then(v,v)),l.state.loading|=4,l.instance=E,gn(E);return}E=o.ownerDocument||o,d=RP(d),(A=rr.get(A))&&ES(d,A),E=E.createElement("link"),gn(E);var w=E;w._p=new Promise(function(D,B){w.onload=D,w.onerror=B}),Rn(E,"link",d),l.instance=E}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(v.count++,l=dv.bind(v),o.addEventListener("load",l),o.addEventListener("error",l))}}function kz(){if(ah===null)throw Error(i(475));var o=ah;return o.stylesheets&&o.count===0&&_S(o,o.stylesheets),0<o.count?function(l){var d=setTimeout(function(){if(o.stylesheets&&_S(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(d)}}:null}function dv(){if(this.count--,this.count===0){if(this.stylesheets)_S(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var hv=null;function _S(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,hv=new Map,l.forEach(Lz,o),hv=null,dv.call(o))}function Lz(o,l){if(!(l.state.loading&4)){var d=hv.get(o);if(d)var v=d.get(null);else{d=new Map,hv.set(o,d);for(var A=o.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<A.length;E++){var w=A[E];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(d.set(w.dataset.precedence,w),v=w)}v&&d.set(null,v)}A=l.instance,w=A.getAttribute("data-precedence"),E=d.get(w)||v,E===v&&d.set(null,A),d.set(w,A),this.count++,v=dv.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),E?E.parentNode.insertBefore(A,E.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(A,o.firstChild)),l.state.loading|=4}}var lh={$$typeof:M,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Oz(o,l,d,v,A,E,w,D){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sb(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sb(0),this.hiddenUpdates=Sb(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=E,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function kP(o,l,d,v,A,E,w,D,B,X,re,le){return o=new Oz(o,l,d,w,D,B,X,le),l=1,E===!0&&(l|=24),E=Ci(3,null,null,l),o.current=E,E.stateNode=o,l=oA(),l.refCount++,o.pooledCache=l,l.refCount++,E.memoizedState={element:v,isDehydrated:d,cache:l},cA(E),o}function LP(o){return o?(o=uc,o):uc}function OP(o,l,d,v,A,E){A=LP(A),v.context===null?v.context=A:v.pendingContext=A,v=Yo(l),v.payload={element:d},E=E===void 0?null:E,E!==null&&(v.callback=E),d=Ko(o,v,l),d!==null&&(Ri(d,o,l),Ud(d,o,l))}function FP(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function xS(o,l){FP(o,l),(o=o.alternate)&&FP(o,l)}function UP(o){if(o.tag===13){var l=lc(o,67108864);l!==null&&Ri(l,o,67108864),xS(o,67108864)}}var pv=!0;function Fz(o,l,d,v){var A=Y.T;Y.T=null;var E=J.p;try{J.p=2,wS(o,l,d,v)}finally{J.p=E,Y.T=A}}function Uz(o,l,d,v){var A=Y.T;Y.T=null;var E=J.p;try{J.p=8,wS(o,l,d,v)}finally{J.p=E,Y.T=A}}function wS(o,l,d,v){if(pv){var A=MS(v);if(A===null)pS(o,l,v,mv,d),qP(o,v);else if(qz(A,o,l,d,v))v.stopPropagation();else if(qP(o,v),l&4&&-1<Bz.indexOf(o)){for(;A!==null;){var E=Wu(A);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var w=Ja(E.pendingLanes);if(w!==0){var D=E;for(D.pendingLanes|=2,D.entangledLanes|=2;w;){var B=1<<31-Ti(w);D.entanglements[1]|=B,w&=~B}es(E),(ut&6)===0&&(Qg=lt()+500,th(0))}}break;case 13:D=lc(E,2),D!==null&&Ri(D,E,2),ev(),xS(E,2)}if(E=MS(v),E===null&&pS(o,l,v,mv,d),E===A)break;A=E}A!==null&&v.stopPropagation()}else pS(o,l,v,null,d)}}function MS(o){return o=Ib(o),RS(o)}var mv=null;function RS(o){if(mv=null,o=Xu(o),o!==null){var l=s(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=a(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return mv=o,null}function BP(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ku()){case Zw:return 2;case e1:return 8;case ag:case _3:return 32;case t1:return 268435456;default:return 32}default:return 32}}var PS=!1,oa=null,aa=null,la=null,uh=new Map,ch=new Map,ua=[],Bz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qP(o,l){switch(o){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":uh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ch.delete(l.pointerId)}}function fh(o,l,d,v,A,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:d,eventSystemFlags:v,nativeEvent:E,targetContainers:[A]},l!==null&&(l=Wu(l),l!==null&&UP(l)),o):(o.eventSystemFlags|=v,l=o.targetContainers,A!==null&&l.indexOf(A)===-1&&l.push(A),o)}function qz(o,l,d,v,A){switch(l){case"focusin":return oa=fh(oa,o,l,d,v,A),!0;case"dragenter":return aa=fh(aa,o,l,d,v,A),!0;case"mouseover":return la=fh(la,o,l,d,v,A),!0;case"pointerover":var E=A.pointerId;return uh.set(E,fh(uh.get(E)||null,o,l,d,v,A)),!0;case"gotpointercapture":return E=A.pointerId,ch.set(E,fh(ch.get(E)||null,o,l,d,v,A)),!0}return!1}function HP(o){var l=Xu(o.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=a(d),l!==null){o.blockedOn=l,I3(o.priority,function(){if(d.tag===13){var v=Mi();v=Tb(v);var A=lc(d,v);A!==null&&Ri(A,d,v),xS(d,v)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function gv(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=MS(o.nativeEvent);if(d===null){d=o.nativeEvent;var v=new d.constructor(d.type,d);Nb=v,d.target.dispatchEvent(v),Nb=null}else return l=Wu(d),l!==null&&UP(l),o.blockedOn=d,!1;l.shift()}return!0}function VP(o,l,d){gv(o)&&d.delete(l)}function Hz(){PS=!1,oa!==null&&gv(oa)&&(oa=null),aa!==null&&gv(aa)&&(aa=null),la!==null&&gv(la)&&(la=null),uh.forEach(VP),ch.forEach(VP)}function vv(o,l){o.blockedOn===l&&(o.blockedOn=null,PS||(PS=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Hz)))}var yv=null;function zP(o){yv!==o&&(yv=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yv===o&&(yv=null);for(var l=0;l<o.length;l+=3){var d=o[l],v=o[l+1],A=o[l+2];if(typeof v!="function"){if(RS(v||d)===null)continue;break}var E=Wu(d);E!==null&&(o.splice(l,3),l-=3,RA(E,{pending:!0,data:A,method:d.method,action:v},v,A))}}))}function dh(o){function l(B){return vv(B,o)}oa!==null&&vv(oa,o),aa!==null&&vv(aa,o),la!==null&&vv(la,o),uh.forEach(l),ch.forEach(l);for(var d=0;d<ua.length;d++){var v=ua[d];v.blockedOn===o&&(v.blockedOn=null)}for(;0<ua.length&&(d=ua[0],d.blockedOn===null);)HP(d),d.blockedOn===null&&ua.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(v=0;v<d.length;v+=3){var A=d[v],E=d[v+1],w=A[si]||null;if(typeof E=="function")w||zP(d);else if(w){var D=null;if(E&&E.hasAttribute("formAction")){if(A=E,w=E[si]||null)D=w.formAction;else if(RS(A)!==null)continue}else D=w.action;typeof D=="function"?d[v+1]=D:(d.splice(v,3),v-=3),zP(d)}}}function DS(o){this._internalRoot=o}bv.prototype.render=DS.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(i(409));var d=l.current,v=Mi();OP(d,v,o,l,null,null)},bv.prototype.unmount=DS.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;OP(o.current,2,null,o,null,null),ev(),l[ju]=null}};function bv(o){this._internalRoot=o}bv.prototype.unstable_scheduleHydration=function(o){if(o){var l=o1();o={blockedOn:null,target:o,priority:l};for(var d=0;d<ua.length&&l!==0&&l<ua[d].priority;d++);ua.splice(d,0,o),d===0&&HP(o)}};var GP=e.version;if(GP!=="19.1.1")throw Error(i(527,GP,"19.1.1"));J.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=c(l),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var Vz={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Av=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Av.isDisabled&&Av.supportsFiber)try{gd=Av.inject(Vz),Si=Av}catch{}}return ph.createRoot=function(o,l){if(!r(o))throw Error(i(299));var d=!1,v="",A=oR,E=aR,w=lR,D=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(A=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(D=l.unstable_transitionCallbacks)),l=kP(o,1,!1,null,null,d,v,A,E,w,D,null),o[ju]=l.current,hS(o),new DS(l)},ph.hydrateRoot=function(o,l,d){if(!r(o))throw Error(i(299));var v=!1,A="",E=oR,w=aR,D=lR,B=null,X=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(w=d.onCaughtError),d.onRecoverableError!==void 0&&(D=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(B=d.unstable_transitionCallbacks),d.formState!==void 0&&(X=d.formState)),l=kP(o,1,!0,l,d??null,v,A,E,w,D,B,X),l.context=LP(null),d=l.current,v=Mi(),v=Tb(v),A=Yo(v),A.callback=null,Ko(d,A,v),d=v,l.current.lanes=d,yd(l,d),es(l),o[ju]=l.current,hS(o),new bv(l)},ph.version="19.1.1",ph}var tD;function t4(){if(tD)return LS.exports;tD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),LS.exports=e4(),LS.exports}var n4=t4();const i4=Cs(n4),r4="modulepreload",s4=function(t){return"/Fashcards-FARRA/"+t},nD={},Sv=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let a=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=a(n.map(f=>{if(f=s4(f),f in nD)return;nD[f]=!0;const h=f.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":r4,h||(y.as="script"),y.crossOrigin="",y.href=f,c&&y.setAttribute("nonce",c),document.head.appendChild(y),h)return new Promise((S,T)=>{y.addEventListener("load",S),y.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return r.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};var Gh={};Gh.d=(t,e)=>{for(var n in e)Gh.o(e,n)&&!Gh.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};Gh.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ke=globalThis.pdfjsLib={};Gh.d(ke,{AbortException:()=>Uu,AnnotationEditorLayer:()=>BC,AnnotationEditorParamsType:()=>Oe,AnnotationEditorType:()=>Qe,AnnotationEditorUIManager:()=>Ru,AnnotationLayer:()=>i$,AnnotationMode:()=>ga,CMapCompressionType:()=>DE,ColorPicker:()=>rF,DOMSVGFactory:()=>Q_,DrawLayer:()=>zC,FeatureTest:()=>gi,GlobalWorkerOptions:()=>To,ImageKind:()=>Gv,InvalidPDFException:()=>FO,MissingPDFException:()=>Fu,OPS:()=>Mr,Outliner:()=>AC,PDFDataRangeTransport:()=>N2,PDFDateString:()=>GO,PDFWorker:()=>$c,PasswordResponses:()=>u4,PermissionFlag:()=>l4,PixelsPerInch:()=>qa,RenderingCancelledException:()=>Z_,TextLayer:()=>jf,UnexpectedResponseException:()=>I0,Util:()=>Ce,VerbosityLevel:()=>P0,XfaLayer:()=>k2,build:()=>FG,createValidAbsoluteUrl:()=>h4,fetchData:()=>U0,getDocument:()=>MG,getFilenameFromUrl:()=>E4,getPdfFilenameFromUrl:()=>C4,getXfaPageViewport:()=>_4,isDataScheme:()=>ex,isPdfFile:()=>tx,noContextMenu:()=>Ai,normalizeUnicode:()=>b4,renderTextLayer:()=>bG,setLayerDimensions:()=>Mu,shadow:()=>Ze,updateTextLayer:()=>AG,version:()=>OG});const jn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),OO=[1,0,0,1,0,0],PE=[.001,0,0,.001,0,0],o4=1e7,BS=1.35,pr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},ga={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a4="pdfjs_internal_editor_",Qe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Oe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},l4={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},zn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Gv={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ln={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},mh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},P0={ERRORS:0,WARNINGS:1,INFOS:5},DE={NONE:0,BINARY:1},Mr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},u4={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let D0=P0.WARNINGS;function c4(t){Number.isInteger(t)&&(D0=t)}function f4(){return D0}function N0(t){D0>=P0.INFOS&&console.log(`Info: ${t}`)}function ze(t){D0>=P0.WARNINGS&&console.log(`Warning: ${t}`)}function At(t){throw new Error(t)}function hn(t,e){t||At(e)}function d4(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function h4(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const r=t.match(/\./g);(r==null?void 0:r.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=y4(t)}catch{}}const i=e?new URL(t,e):new URL(t);if(d4(i))return i}catch{}return null}function Ze(t,e,n,i=!1){return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const $a=(function(){function e(n,i){this.constructor===e&&At("Cannot initialize BaseException."),this.message=n,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class NE extends $a{constructor(e,n){super(e,"PasswordException"),this.code=n}}class IE extends $a{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class FO extends $a{constructor(e){super(e,"InvalidPDFException")}}class Fu extends $a{constructor(e){super(e,"MissingPDFException")}}class I0 extends $a{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class p4 extends $a{constructor(e){super(e,"FormatError")}}class Uu extends $a{constructor(e){super(e,"AbortException")}}function UO(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&At("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let r=0;r<e;r+=n){const s=Math.min(r+n,e),a=t.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function k0(t){typeof t!="string"&&At("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=t.charCodeAt(i)&255;return n}function m4(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function W_(t){const e=Object.create(null);for(const[n,i]of t)e[n]=i;return e}function g4(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function v4(){try{return new Function(""),!0}catch{return!1}}class gi{static get isLittleEndian(){return Ze(this,"isLittleEndian",g4())}static get isEvalSupported(){return Ze(this,"isEvalSupported",v4())}static get isOffscreenCanvasSupported(){return Ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ze(this,"platform",{isMac:navigator.platform.includes("Mac")}):Ze(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,n;return Ze(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const qS=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var xo,$v,kE;class Ce{static makeHexColor(e,n,i){return`#${qS[e]}${qS[n]}${qS[i]}`}static scaleMinMax(e,n){let i;e[0]?(e[0]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=e[3],n[3]*=e[3]):(i=n[0],n[0]=n[1],n[1]=i,i=n[2],n[2]=n[3],n[3]=i,e[1]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const i=e[0]*n[0]+e[1]*n[2]+n[4],r=e[0]*n[1]+e[1]*n[3]+n[5];return[i,r]}static applyInverseTransform(e,n){const i=n[0]*n[3]-n[1]*n[2],r=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/i,s=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/i;return[r,s]}static getAxialAlignedBoundingBox(e,n){const i=this.applyTransform(e,n),r=this.applyTransform(e.slice(2,4),n),s=this.applyTransform([e[0],e[3]],n),a=this.applyTransform([e[2],e[1]],n);return[Math.min(i[0],r[0],s[0],a[0]),Math.min(i[1],r[1],s[1],a[1]),Math.max(i[0],r[0],s[0],a[0]),Math.max(i[1],r[1],s[1],a[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],i=e[0]*n[0]+e[1]*n[2],r=e[0]*n[1]+e[1]*n[3],s=e[2]*n[0]+e[3]*n[2],a=e[2]*n[1]+e[3]*n[3],u=(i+a)/2,c=Math.sqrt((i+a)**2-4*(i*a-s*r))/2,f=u+c||1,h=u-c||1;return[Math.sqrt(f),Math.sqrt(h)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const i=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>a?null:[i,s,r,a]}static bezierBoundingBox(e,n,i,r,s,a,u,c,f){return f?(f[0]=Math.min(f[0],e,u),f[1]=Math.min(f[1],n,c),f[2]=Math.max(f[2],e,u),f[3]=Math.max(f[3],n,c)):f=[Math.min(e,u),Math.min(n,c),Math.max(e,u),Math.max(n,c)],N(this,xo,kE).call(this,e,i,s,u,n,r,a,c,3*(-e+3*(i-s)+u),6*(e-2*i+s),3*(i-e),f),N(this,xo,kE).call(this,e,i,s,u,n,r,a,c,3*(-n+3*(r-a)+c),6*(n-2*r+a),3*(r-n),f),f}}xo=new WeakSet,$v=function(e,n,i,r,s,a,u,c,f,h){if(f<=0||f>=1)return;const g=1-f,y=f*f,S=y*f,T=g*(g*(g*e+3*f*n)+3*y*i)+S*r,C=g*(g*(g*s+3*f*a)+3*y*u)+S*c;h[0]=Math.min(h[0],T),h[1]=Math.min(h[1],C),h[2]=Math.max(h[2],T),h[3]=Math.max(h[3],C)},kE=function(e,n,i,r,s,a,u,c,f,h,g,y){if(Math.abs(f)<1e-12){Math.abs(h)>=1e-12&&N(this,xo,$v).call(this,e,n,i,r,s,a,u,c,-g/h,y);return}const S=h**2-4*g*f;if(S<0)return;const T=Math.sqrt(S),C=2*f;N(this,xo,$v).call(this,e,n,i,r,s,a,u,c,(-h+T)/C,y),N(this,xo,$v).call(this,e,n,i,r,s,a,u,c,(-h-T)/C,y)},L(Ce,xo);function y4(t){return decodeURIComponent(escape(t))}let HS=null,iD=null;function b4(t){return HS||(HS=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,iD=new Map([["ﬅ","ſt"]])),t.replaceAll(HS,(e,n,i)=>n?n.normalize("NFKC"):iD.get(i))}function A4(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return UO(t)}const BO="pdfjs_internal_id_",qs={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class L0{constructor(){this.constructor===L0&&At("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,i,r,s){return"none"}destroy(e=!1){}}var ap;const Xw=class Xw{constructor({enableHWA:e=!1}={}){L(this,ap,!1);this.constructor===Xw&&At("Cannot initialize BaseCanvasFactory."),P(this,ap,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,n);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!b(this,ap)})}}reset(e,n,i){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){At("Abstract method `_createCanvas` called.")}};ap=new WeakMap;let Ay=Xw;class O0{constructor({baseUrl:e=null,isCompressed:n=!0}){this.constructor===O0&&At("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),i=this.isCompressed?DE.BINARY:DE.NONE;return this._fetchData(n,i).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}_fetchData(e,n){At("Abstract method `_fetchData` called.")}}class F0{constructor({baseUrl:e=null}){this.constructor===F0&&At("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetchData(n).catch(i=>{throw new Error(`Unable to load font data at: ${n}`)})}_fetchData(e){At("Abstract method `_fetchData` called.")}}class J_{constructor(){this.constructor===J_&&At("Cannot initialize BaseSVGFactory.")}create(e,n,i=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${n}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${n}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){At("Abstract method `_createSVG` called.")}}const Vs="http://www.w3.org/2000/svg",El=class El{};Le(El,"CSS",96),Le(El,"PDF",72),Le(El,"PDF_TO_CSS_UNITS",El.CSS/El.PDF);let qa=El;var Ml,ns,Ys,di,f0,Rl,Te,Gn,kc,Lc,Yv,qO,LE,Oc,xh,wh,OE,Mh;class S4 extends L0{constructor({docId:n,ownerDocument:i=globalThis.document}={}){super();L(this,Te);L(this,Ml);L(this,ns);L(this,Ys);L(this,di);L(this,f0);L(this,Rl,0);P(this,Ys,n),P(this,di,i)}addFilter(n){if(!n)return"none";let i=b(this,Te,Gn).get(n);if(i)return i;const[r,s,a]=N(this,Te,Yv).call(this,n),u=n.length===1?r:`${r}${s}${a}`;if(i=b(this,Te,Gn).get(u),i)return b(this,Te,Gn).set(n,i),i;const c=`g_${b(this,Ys)}_transfer_map_${Pi(this,Rl)._++}`,f=`url(#${c})`;b(this,Te,Gn).set(n,f),b(this,Te,Gn).set(u,f);const h=N(this,Te,Oc).call(this,c);return N(this,Te,wh).call(this,r,s,a,h),f}addHCMFilter(n,i){var T;const r=`${n}-${i}`,s="base";let a=b(this,Te,kc).get(s);if((a==null?void 0:a.key)===r||(a?((T=a.filter)==null||T.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},b(this,Te,kc).set(s,a)),!n||!i))return a.url;const u=N(this,Te,Mh).call(this,n);n=Ce.makeHexColor(...u);const c=N(this,Te,Mh).call(this,i);if(i=Ce.makeHexColor(...c),b(this,Te,Lc).style.color="",n==="#000000"&&i==="#ffffff"||n===i)return a.url;const f=new Array(256);for(let C=0;C<=255;C++){const _=C/255;f[C]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const h=f.join(","),g=`g_${b(this,Ys)}_hcm_filter`,y=a.filter=N(this,Te,Oc).call(this,g);N(this,Te,wh).call(this,h,h,h,y),N(this,Te,LE).call(this,y);const S=(C,_)=>{const x=u[C]/255,R=c[C]/255,M=new Array(_+1);for(let U=0;U<=_;U++)M[U]=x+U/_*(R-x);return M.join(",")};return N(this,Te,wh).call(this,S(0,5),S(1,5),S(2,5),y),a.url=`url(#${g})`,a.url}addAlphaFilter(n){let i=b(this,Te,Gn).get(n);if(i)return i;const[r]=N(this,Te,Yv).call(this,[n]),s=`alpha_${r}`;if(i=b(this,Te,Gn).get(s),i)return b(this,Te,Gn).set(n,i),i;const a=`g_${b(this,Ys)}_alpha_map_${Pi(this,Rl)._++}`,u=`url(#${a})`;b(this,Te,Gn).set(n,u),b(this,Te,Gn).set(s,u);const c=N(this,Te,Oc).call(this,a);return N(this,Te,OE).call(this,r,c),u}addLuminosityFilter(n){let i=b(this,Te,Gn).get(n||"luminosity");if(i)return i;let r,s;if(n?([r]=N(this,Te,Yv).call(this,[n]),s=`luminosity_${r}`):s="luminosity",i=b(this,Te,Gn).get(s),i)return b(this,Te,Gn).set(n,i),i;const a=`g_${b(this,Ys)}_luminosity_map_${Pi(this,Rl)._++}`,u=`url(#${a})`;b(this,Te,Gn).set(n,u),b(this,Te,Gn).set(s,u);const c=N(this,Te,Oc).call(this,a);return N(this,Te,qO).call(this,c),n&&N(this,Te,OE).call(this,r,c),u}addHighlightHCMFilter(n,i,r,s,a){var R;const u=`${i}-${r}-${s}-${a}`;let c=b(this,Te,kc).get(n);if((c==null?void 0:c.key)===u||(c?((R=c.filter)==null||R.remove(),c.key=u,c.url="none",c.filter=null):(c={key:u,url:"none",filter:null},b(this,Te,kc).set(n,c)),!i||!r))return c.url;const[f,h]=[i,r].map(N(this,Te,Mh).bind(this));let g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),y=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[S,T]=[s,a].map(N(this,Te,Mh).bind(this));y<g&&([g,y,S,T]=[y,g,T,S]),b(this,Te,Lc).style.color="";const C=(M,U,k)=>{const F=new Array(256),q=(y-g)/k,z=M/255,G=(U-M)/(255*k);let ee=0;for(let K=0;K<=k;K++){const ie=Math.round(g+K*q),he=z+K*G;for(let fe=ee;fe<=ie;fe++)F[fe]=he;ee=ie+1}for(let K=ee;K<256;K++)F[K]=F[ee-1];return F.join(",")},_=`g_${b(this,Ys)}_hcm_${n}_filter`,x=c.filter=N(this,Te,Oc).call(this,_);return N(this,Te,LE).call(this,x),N(this,Te,wh).call(this,C(S[0],T[0],5),C(S[1],T[1],5),C(S[2],T[2],5),x),c.url=`url(#${_})`,c.url}destroy(n=!1){n&&b(this,Te,kc).size!==0||(b(this,ns)&&(b(this,ns).parentNode.parentNode.remove(),P(this,ns,null)),b(this,Ml)&&(b(this,Ml).clear(),P(this,Ml,null)),P(this,Rl,0))}}Ml=new WeakMap,ns=new WeakMap,Ys=new WeakMap,di=new WeakMap,f0=new WeakMap,Rl=new WeakMap,Te=new WeakSet,Gn=function(){return b(this,Ml)||P(this,Ml,new Map)},kc=function(){return b(this,f0)||P(this,f0,new Map)},Lc=function(){if(!b(this,ns)){const n=b(this,di).createElement("div"),{style:i}=n;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=b(this,di).createElementNS(Vs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),P(this,ns,b(this,di).createElementNS(Vs,"defs")),n.append(r),r.append(b(this,ns)),b(this,di).body.append(n)}return b(this,ns)},Yv=function(n){if(n.length===1){const f=n[0],h=new Array(256);for(let y=0;y<256;y++)h[y]=f[y]/255;const g=h.join(",");return[g,g,g]}const[i,r,s]=n,a=new Array(256),u=new Array(256),c=new Array(256);for(let f=0;f<256;f++)a[f]=i[f]/255,u[f]=r[f]/255,c[f]=s[f]/255;return[a.join(","),u.join(","),c.join(",")]},qO=function(n){const i=b(this,di).createElementNS(Vs,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(i)},LE=function(n){const i=b(this,di).createElementNS(Vs,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(i)},Oc=function(n){const i=b(this,di).createElementNS(Vs,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",n),b(this,Te,Lc).append(i),i},xh=function(n,i,r){const s=b(this,di).createElementNS(Vs,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),n.append(s)},wh=function(n,i,r,s){const a=b(this,di).createElementNS(Vs,"feComponentTransfer");s.append(a),N(this,Te,xh).call(this,a,"feFuncR",n),N(this,Te,xh).call(this,a,"feFuncG",i),N(this,Te,xh).call(this,a,"feFuncB",r)},OE=function(n,i){const r=b(this,di).createElementNS(Vs,"feComponentTransfer");i.append(r),N(this,Te,xh).call(this,r,"feFuncA",n)},Mh=function(n){return b(this,Te,Lc).style.color=n,nx(getComputedStyle(b(this,Te,Lc)).getPropertyValue("color"))};class T4 extends Ay{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}={}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const i=this._document.createElement("canvas");return i.width=e,i.height=n,i}}async function U0(t,e="text"){if(Rh(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(r.response);return}n(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class HO extends O0{_fetchData(e,n){return U0(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):k0(i),compressionType:n}))}}class VO extends F0{_fetchData(e){return U0(e,"arraybuffer").then(n=>new Uint8Array(n))}}class Q_ extends J_{_createSVG(e){return document.createElementNS(Vs,e)}}class qm{constructor({viewBox:e,scale:n,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=s;const u=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let f,h,g,y;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,h=0,g=0,y=1;break;case 90:f=0,h=1,g=1,y=0;break;case 270:f=0,h=-1,g=-1,y=0;break;case 0:f=1,h=0,g=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(g=-g,y=-y);let S,T,C,_;f===0?(S=Math.abs(c-e[1])*n+r,T=Math.abs(u-e[0])*n+s,C=(e[3]-e[1])*n,_=(e[2]-e[0])*n):(S=Math.abs(u-e[0])*n+r,T=Math.abs(c-e[1])*n+s,C=(e[2]-e[0])*n,_=(e[3]-e[1])*n),this.transform=[f*n,h*n,g*n,y*n,S-f*n*u-g*n*c,T-h*n*u-y*n*c],this.width=C,this.height=_}get rawDims(){const{viewBox:e}=this;return Ze(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new qm({viewBox:this.viewBox.slice(),scale:e,rotation:n,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,n){return Ce.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=Ce.applyTransform([e[0],e[1]],this.transform),i=Ce.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],i[0],i[1]]}convertToPdfPoint(e,n){return Ce.applyInverseTransform([e,n],this.transform)}}class Z_ extends $a{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function ex(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function tx(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function E4(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function C4(t,e="document.pdf"){if(typeof t!="string")return e;if(ex(t))return ze('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=n.exec(t);let s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}class rD{constructor(){Le(this,"started",Object.create(null));Le(this,"times",[])}time(e){e in this.started&&ze(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ze(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:i}of this.times)n=Math.max(i.length,n);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(n)} ${s-r}ms
`);return e.join("")}}function Rh(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function Ai(t){t.preventDefault()}function zO(t){console.log("Deprecated API usage: "+t)}let sD;class GO{static toDateObject(e){if(!e||typeof e!="string")return null;sD||(sD=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=sD.exec(e);if(!n)return null;const i=parseInt(n[1],10);let r=parseInt(n[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let u=parseInt(n[5],10);u=u>=0&&u<=59?u:0;let c=parseInt(n[6],10);c=c>=0&&c<=59?c:0;const f=n[7]||"Z";let h=parseInt(n[8],10);h=h>=0&&h<=23?h:0;let g=parseInt(n[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(a+=h,u+=g):f==="+"&&(a-=h,u-=g),new Date(Date.UTC(i,r,s,a,u,c))}}function _4(t,{scale:e=1,rotation:n=0}){const{width:i,height:r}=t.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new qm({viewBox:s,scale:e,rotation:n})}function nx(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ze(`Not a valid color format: "${t}"`),[0,0,0])}function x4(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,nx(i))}e.remove()}function qt(t){const{a:e,b:n,c:i,d:r,e:s,f:a}=t.getTransform();return[e,n,i,r,s,a]}function Hs(t){const{a:e,b:n,c:i,d:r,e:s,f:a}=t.getTransform().invertSelf();return[e,n,i,r,s,a]}function Mu(t,e,n=!1,i=!0){if(e instanceof qm){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=t,u=gi.isCSSRoundSupported,c=`var(--scale-factor) * ${r}px`,f=`var(--scale-factor) * ${s}px`,h=u?`round(${c}, 1px)`:`calc(${c})`,g=u?`round(${f}, 1px)`:`calc(${f})`;!n||e.rotation%180===0?(a.width=h,a.height=g):(a.width=g,a.height=h)}i&&t.setAttribute("data-main-rotation",e.rotation)}var Pl,Dl,Ii,Nl,d0,$O,ni,YO,KO,Kv,jO,UE;const h0=class h0{constructor(e){L(this,ni);L(this,Pl,null);L(this,Dl,null);L(this,Ii);L(this,Nl,null);P(this,Ii,e)}render(){const e=P(this,Pl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=b(this,Ii)._uiManager._signal;e.addEventListener("contextmenu",Ai,{signal:n}),e.addEventListener("pointerdown",N(h0,d0,$O),{signal:n});const i=P(this,Nl,document.createElement("div"));i.className="buttons",e.append(i);const r=b(this,Ii).toolbarPosition;if(r){const{style:s}=e,a=b(this,Ii)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return N(this,ni,jO).call(this),e}hide(){var e;b(this,Pl).classList.add("hidden"),(e=b(this,Dl))==null||e.hideDropdown()}show(){b(this,Pl).classList.remove("hidden")}addAltTextButton(e){N(this,ni,Kv).call(this,e),b(this,Nl).prepend(e,b(this,ni,UE))}addColorPicker(e){P(this,Dl,e);const n=e.renderButton();N(this,ni,Kv).call(this,n),b(this,Nl).prepend(n,b(this,ni,UE))}remove(){var e;b(this,Pl).remove(),(e=b(this,Dl))==null||e.destroy(),P(this,Dl,null)}};Pl=new WeakMap,Dl=new WeakMap,Ii=new WeakMap,Nl=new WeakMap,d0=new WeakSet,$O=function(e){e.stopPropagation()},ni=new WeakSet,YO=function(e){b(this,Ii)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},KO=function(e){b(this,Ii)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Kv=function(e){const n=b(this,Ii)._uiManager._signal;e.addEventListener("focusin",N(this,ni,YO).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",N(this,ni,KO).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Ai,{signal:n})},jO=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${b(this,Ii).editorType}-button`),N(this,ni,Kv).call(this,e),e.addEventListener("click",n=>{b(this,Ii)._uiManager.delete()},{signal:b(this,Ii)._uiManager._signal}),b(this,Nl).append(e)},UE=function(){const e=document.createElement("div");return e.className="divider",e},L(h0,d0);let FE=h0;var lp,Il,kl,za,XO,WO,JO;class w4{constructor(e){L(this,za);L(this,lp,null);L(this,Il,null);L(this,kl);P(this,kl,e)}show(e,n,i){const[r,s]=N(this,za,WO).call(this,n,i),{style:a}=b(this,Il)||P(this,Il,N(this,za,XO).call(this));e.append(b(this,Il)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){b(this,Il).remove()}}lp=new WeakMap,Il=new WeakMap,kl=new WeakMap,za=new WeakSet,XO=function(){const e=P(this,Il,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ai,{signal:b(this,kl)._signal});const n=P(this,lp,document.createElement("div"));return n.className="buttons",e.append(n),N(this,za,JO).call(this),e},WO=function(e,n){let i=0,r=0;for(const s of e){const a=s.y+s.height;if(a<i)continue;const u=s.x+(n?s.width:0);if(a>i){r=u,i=a;continue}n?u>r&&(r=u):u<r&&(r=u)}return[n?1-r:r,i]},JO=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=b(this,kl)._signal;e.addEventListener("contextmenu",Ai,{signal:i}),e.addEventListener("click",()=>{b(this,kl).highlightSelection("floating_button")},{signal:i}),b(this,lp).append(e)};function Sy(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}function M4(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var p0;class R4{constructor(){L(this,p0,0)}get id(){return`${a4}${Pi(this,p0)._++}`}}p0=new WeakMap;var up,m0,cr,cp,qE;const Ww=class Ww{constructor(){L(this,cp);L(this,up,A4());L(this,m0,0);L(this,cr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ze(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:n,name:i,size:r,type:s}=e;return N(this,cp,qE).call(this,`${n}_${i}_${r}_${s}`,e)}async getFromUrl(e){return N(this,cp,qE).call(this,e,e)}async getFromId(e){b(this,cr)||P(this,cr,new Map);const n=b(this,cr).get(e);return n?n.bitmap?(n.refCounter+=1,n):n.file?this.getFromFile(n.file):this.getFromUrl(n.url):null}getSvgUrl(e){const n=b(this,cr).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){b(this,cr)||P(this,cr,new Map);const n=b(this,cr).get(e);n&&(n.refCounter-=1,n.refCounter===0&&(n.bitmap=null))}isValidId(e){return e.startsWith(`image_${b(this,up)}_`)}};up=new WeakMap,m0=new WeakMap,cr=new WeakMap,cp=new WeakSet,qE=async function(e,n){b(this,cr)||P(this,cr,new Map);let i=b(this,cr).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${b(this,up)}_${Pi(this,m0)._++}`,refCounter:0,isSvg:!1});let r;if(typeof n=="string"?(i.url=n,r=await U0(n,"blob")):r=i.file=n,r.type==="image/svg+xml"){const s=Ww._isSVGFittingCanvas,a=new FileReader,u=new Image,c=new Promise((f,h)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,f()},a.onload=async()=>{const g=i.svgUrl=a.result;u.src=await s?`${g}#svgView(preserveAspectRatio(none))`:g},u.onerror=a.onerror=h});a.readAsDataURL(r),await c}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return b(this,cr).set(e,i),i&&b(this,cr).set(i.id,i),i};let BE=Ww;var An,ya,fp,Sn;class P4{constructor(e=128){L(this,An,[]);L(this,ya,!1);L(this,fp);L(this,Sn,-1);P(this,fp,e)}add({cmd:e,undo:n,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:u=!1}){if(r&&e(),b(this,ya))return;const c={cmd:e,undo:n,post:i,type:s};if(b(this,Sn)===-1){b(this,An).length>0&&(b(this,An).length=0),P(this,Sn,0),b(this,An).push(c);return}if(a&&b(this,An)[b(this,Sn)].type===s){u&&(c.undo=b(this,An)[b(this,Sn)].undo),b(this,An)[b(this,Sn)]=c;return}const f=b(this,Sn)+1;f===b(this,fp)?b(this,An).splice(0,1):(P(this,Sn,f),f<b(this,An).length&&b(this,An).splice(f)),b(this,An).push(c)}undo(){if(b(this,Sn)===-1)return;P(this,ya,!0);const{undo:e,post:n}=b(this,An)[b(this,Sn)];e(),n==null||n(),P(this,ya,!1),P(this,Sn,b(this,Sn)-1)}redo(){if(b(this,Sn)<b(this,An).length-1){P(this,Sn,b(this,Sn)+1),P(this,ya,!0);const{cmd:e,post:n}=b(this,An)[b(this,Sn)];e(),n==null||n(),P(this,ya,!1)}}hasSomethingToUndo(){return b(this,Sn)!==-1}hasSomethingToRedo(){return b(this,Sn)<b(this,An).length-1}destroy(){P(this,An,null)}}An=new WeakMap,ya=new WeakMap,fp=new WeakMap,Sn=new WeakMap;var g0,QO;class Hm{constructor(e){L(this,g0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=gi.platform;for(const[i,r,s={}]of e)for(const a of i){const u=a.startsWith("mac+");n&&u?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!n&&!u&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const i=this.callbacks.get(N(this,g0,QO).call(this,n));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:u=null}}=i;u&&!u(e,n)||(r.bind(e,...a,n)(),s||(n.stopPropagation(),n.preventDefault()))}}g0=new WeakSet,QO=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const v0=class v0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return x4(e),Ze(this,"_colors",e)}convert(e){const n=nx(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[i,r]of this._colors)if(r.every((s,a)=>s===n[a]))return v0._colorsMapping.get(i);return n}getHexCode(e){const n=this._colors.get(e);return n?Ce.makeHexColor(...n):e}};Le(v0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let HE=v0;var Qc,ki,un,Dn,Zc,Ks,ef,Rr,tf,Ll,is,Pr,Ol,dp,hp,rs,nf,ba,ss,y0,Aa,pp,Fl,mp,rf,Nn,ft,js,Ul,gp,vp,yp,bp,Ap,Sp,Tp,Ep,Cp,_p,xp,wp,Mp,Sa,os,Xs,Rp,me,jv,ZO,e2,Xv,t2,n2,i2,VE,r2,zE,GE,s2,Jn,fa,o2,a2,$E,l2,Ph,YE;const zc=class zc{constructor(e,n,i,r,s,a,u,c,f){L(this,me);L(this,Qc,new AbortController);L(this,ki,null);L(this,un,new Map);L(this,Dn,new Map);L(this,Zc,null);L(this,Ks,null);L(this,ef,null);L(this,Rr,new P4);L(this,tf,0);L(this,Ll,new Set);L(this,is,null);L(this,Pr,null);L(this,Ol,new Set);L(this,dp,!1);L(this,hp,null);L(this,rs,null);L(this,nf,null);L(this,ba,!1);L(this,ss,null);L(this,y0,new R4);L(this,Aa,!1);L(this,pp,!1);L(this,Fl,null);L(this,mp,null);L(this,rf,null);L(this,Nn,Qe.NONE);L(this,ft,new Set);L(this,js,null);L(this,Ul,null);L(this,gp,null);L(this,vp,this.blur.bind(this));L(this,yp,this.focus.bind(this));L(this,bp,this.copy.bind(this));L(this,Ap,this.cut.bind(this));L(this,Sp,this.paste.bind(this));L(this,Tp,this.keydown.bind(this));L(this,Ep,this.keyup.bind(this));L(this,Cp,this.onEditingAction.bind(this));L(this,_p,this.onPageChanging.bind(this));L(this,xp,this.onScaleChanging.bind(this));L(this,wp,this.onRotationChanging.bind(this));L(this,Mp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});L(this,Sa,[0,0]);L(this,os,null);L(this,Xs,null);L(this,Rp,null);this._signal=b(this,Qc).signal,P(this,Xs,e),P(this,Rp,n),P(this,Zc,i),this._eventBus=r,this._eventBus._on("editingaction",b(this,Cp)),this._eventBus._on("pagechanging",b(this,_p)),this._eventBus._on("scalechanging",b(this,xp)),this._eventBus._on("rotationchanging",b(this,wp)),N(this,me,t2).call(this),N(this,me,s2).call(this),N(this,me,VE).call(this),P(this,Ks,s.annotationStorage),P(this,hp,s.filterFactory),P(this,Ul,a),P(this,nf,u||null),P(this,dp,c),P(this,rf,f||null),this.viewParameters={realScale:qa.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=zc.prototype,n=a=>b(a,Xs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:u})=>{if(u instanceof HTMLInputElement){const{type:c}=u;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new Hm([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:u})=>!(u instanceof HTMLButtonElement)&&b(a,Xs).contains(u)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:u})=>!(u instanceof HTMLButtonElement)&&b(a,Xs).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}destroy(){var e,n,i;(e=b(this,Qc))==null||e.abort(),P(this,Qc,null),this._signal=null,this._eventBus._off("editingaction",b(this,Cp)),this._eventBus._off("pagechanging",b(this,_p)),this._eventBus._off("scalechanging",b(this,xp)),this._eventBus._off("rotationchanging",b(this,wp));for(const r of b(this,Dn).values())r.destroy();b(this,Dn).clear(),b(this,un).clear(),b(this,Ol).clear(),P(this,ki,null),b(this,ft).clear(),b(this,Rr).destroy(),(n=b(this,Zc))==null||n.destroy(),(i=b(this,ss))==null||i.hide(),P(this,ss,null),b(this,rs)&&(clearTimeout(b(this,rs)),P(this,rs,null)),b(this,os)&&(clearTimeout(b(this,os)),P(this,os,null))}async mlGuess(e){var n;return((n=b(this,rf))==null?void 0:n.guess(e))||null}get hasMLManager(){return!!b(this,rf)}get hcmFilter(){return Ze(this,"hcmFilter",b(this,Ul)?b(this,hp).addHCMFilter(b(this,Ul).foreground,b(this,Ul).background):"none")}get direction(){return Ze(this,"direction",getComputedStyle(b(this,Xs)).direction)}get highlightColors(){return Ze(this,"highlightColors",b(this,nf)?new Map(b(this,nf).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){P(this,mp,e)}editAltText(e){var n;(n=b(this,Zc))==null||n.editAltText(this,e)}onPageChanging({pageNumber:e}){P(this,tf,e-1)}focusMainContainer(){b(this,Xs).focus()}findParent(e,n){for(const i of b(this,Dn).values()){const{x:r,y:s,width:a,height:u}=i.div.getBoundingClientRect();if(e>=r&&e<=r+a&&n>=s&&n<=s+u)return i}return null}disableUserSelect(e=!1){b(this,Rp).classList.toggle("noUserSelect",e)}addShouldRescale(e){b(this,Ol).add(e)}removeShouldRescale(e){b(this,Ol).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*qa.PDF_TO_CSS_UNITS;for(const n of b(this,Ol))n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a}=n,u=n.toString(),f=N(this,me,jv).call(this,n).closest(".textLayer"),h=this.getSelectionBoxes(f);if(h){n.empty(),b(this,Nn)===Qe.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Qe.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const g of b(this,Dn).values())if(g.hasTextLayer(f)){g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:a,text:u});break}}}addToAnnotationStorage(e){!e.isEmpty()&&b(this,Ks)&&!b(this,Ks).has(e.id)&&b(this,Ks).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,b(this,ba)&&(P(this,ba,!1),N(this,me,Xv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of b(this,ft))if(n.div.contains(e)){P(this,Fl,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!b(this,Fl))return;const[e,n]=b(this,Fl);P(this,Fl,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){N(this,me,VE).call(this),N(this,me,zE).call(this)}removeEditListeners(){N(this,me,r2).call(this),N(this,me,GE).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const i of b(this,Pr))if(i.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const i of b(this,Pr))if(i.isHandlingMimeForPasting(n.type)){i.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=b(this,ki))==null||i.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of b(this,ft)){const s=r.serialize(!0);s&&n.push(s)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const a of b(this,Pr))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=n.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){ze(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const c of i){const f=r.deserialize(c);if(!f)return;s.push(f)}const a=()=>{for(const c of s)N(this,me,$E).call(this,c);N(this,me,YE).call(this,s)},u=()=>{for(const c of s)c.remove()};this.addCommands({cmd:a,undo:u,mustExec:!0})}catch(s){ze(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),b(this,Nn)!==Qe.NONE&&!this.isEditorHandlingKeyboard&&zc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,b(this,ba)&&(P(this,ba,!1),N(this,me,Xv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(N(this,me,n2).call(this),N(this,me,zE).call(this),N(this,me,Jn).call(this,{isEditing:b(this,Nn)!==Qe.NONE,isEmpty:N(this,me,Ph).call(this),hasSomethingToUndo:b(this,Rr).hasSomethingToUndo(),hasSomethingToRedo:b(this,Rr).hasSomethingToRedo(),hasSelectedEditor:!1})):(N(this,me,i2).call(this),N(this,me,GE).call(this),N(this,me,Jn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!b(this,Pr)){P(this,Pr,e);for(const n of b(this,Pr))N(this,me,fa).call(this,n.defaultPropertiesToUpdate)}}getId(){return b(this,y0).id}get currentLayer(){return b(this,Dn).get(b(this,tf))}getLayer(e){return b(this,Dn).get(e)}get currentPageIndex(){return b(this,tf)}addLayer(e){b(this,Dn).set(e.pageIndex,e),b(this,Aa)?e.enable():e.disable()}removeLayer(e){b(this,Dn).delete(e.pageIndex)}updateMode(e,n=null,i=!1){if(b(this,Nn)!==e){if(P(this,Nn,e),e===Qe.NONE){this.setEditingState(!1),N(this,me,a2).call(this);return}this.setEditingState(!0),N(this,me,o2).call(this),this.unselectAll();for(const r of b(this,Dn).values())r.updateMode(e);if(!n&&i){this.addNewEditorFromKeyboard();return}if(n){for(const r of b(this,un).values())if(r.annotationElementId===n){this.setSelected(r),r.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==b(this,Nn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var i;if(b(this,Pr)){switch(e){case Oe.CREATE:this.currentLayer.addNewEditor();return;case Oe.HIGHLIGHT_DEFAULT_COLOR:(i=b(this,mp))==null||i.updateColor(n);break;case Oe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(b(this,gp)||P(this,gp,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const r of b(this,ft))r.updateParams(e,n);for(const r of b(this,Pr))r.updateDefaultParams(e,n)}}showAllEditors(e,n,i=!1){var s;for(const a of b(this,un).values())a.editorType===e&&a.show(n);(((s=b(this,gp))==null?void 0:s.get(Oe.HIGHLIGHT_SHOW_ALL))??!0)!==n&&N(this,me,fa).call(this,[[Oe.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(b(this,pp)!==e){P(this,pp,e);for(const n of b(this,Dn).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const i of b(this,un).values())i.pageIndex===e&&n.push(i);return n}getEditor(e){return b(this,un).get(e)}addEditor(e){b(this,un).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(b(this,rs)&&clearTimeout(b(this,rs)),P(this,rs,setTimeout(()=>{this.focusMainContainer(),P(this,rs,null)},0))),b(this,un).delete(e.id),this.unselect(e),(!e.annotationElementId||!b(this,Ll).has(e.annotationElementId))&&((n=b(this,Ks))==null||n.remove(e.id))}addDeletedAnnotationElement(e){b(this,Ll).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return b(this,Ll).has(e)}removeDeletedAnnotationElement(e){b(this,Ll).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){b(this,ki)!==e&&(P(this,ki,e),e&&N(this,me,fa).call(this,e.propertiesToUpdate))}updateUI(e){b(this,me,l2)===e&&N(this,me,fa).call(this,e.propertiesToUpdate)}toggleSelected(e){if(b(this,ft).has(e)){b(this,ft).delete(e),e.unselect(),N(this,me,Jn).call(this,{hasSelectedEditor:this.hasSelection});return}b(this,ft).add(e),e.select(),N(this,me,fa).call(this,e.propertiesToUpdate),N(this,me,Jn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const n of b(this,ft))n!==e&&n.unselect();b(this,ft).clear(),b(this,ft).add(e),e.select(),N(this,me,fa).call(this,e.propertiesToUpdate),N(this,me,Jn).call(this,{hasSelectedEditor:!0})}isSelected(e){return b(this,ft).has(e)}get firstSelectedEditor(){return b(this,ft).values().next().value}unselect(e){e.unselect(),b(this,ft).delete(e),N(this,me,Jn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return b(this,ft).size!==0}get isEnterHandled(){return b(this,ft).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){b(this,Rr).undo(),N(this,me,Jn).call(this,{hasSomethingToUndo:b(this,Rr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:N(this,me,Ph).call(this)})}redo(){b(this,Rr).redo(),N(this,me,Jn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:b(this,Rr).hasSomethingToRedo(),isEmpty:N(this,me,Ph).call(this)})}addCommands(e){b(this,Rr).add(e),N(this,me,Jn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:N(this,me,Ph).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...b(this,ft)],n=()=>{for(const r of e)r.remove()},i=()=>{for(const r of e)N(this,me,$E).call(this,r)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=b(this,ki))==null||e.commitOrRemove()}hasSomethingToControl(){return b(this,ki)||this.hasSelection}selectAll(){for(const e of b(this,ft))e.commit();N(this,me,YE).call(this,b(this,un).values())}unselectAll(){if(!(b(this,ki)&&(b(this,ki).commitOrRemove(),b(this,Nn)!==Qe.NONE))&&this.hasSelection){for(const e of b(this,ft))e.unselect();b(this,ft).clear(),N(this,me,Jn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;b(this,Sa)[0]+=e,b(this,Sa)[1]+=n;const[r,s]=b(this,Sa),a=[...b(this,ft)],u=1e3;b(this,os)&&clearTimeout(b(this,os)),P(this,os,setTimeout(()=>{P(this,os,null),b(this,Sa)[0]=b(this,Sa)[1]=0,this.addCommands({cmd:()=>{for(const c of a)b(this,un).has(c.id)&&c.translateInPage(r,s)},undo:()=>{for(const c of a)b(this,un).has(c.id)&&c.translateInPage(-r,-s)},mustExec:!1})},u));for(const c of a)c.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),P(this,is,new Map);for(const e of b(this,ft))b(this,is).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!b(this,is))return!1;this.disableUserSelect(!1);const e=b(this,is);P(this,is,null);let n=!1;for(const[{x:r,y:s,pageIndex:a},u]of e)u.newX=r,u.newY=s,u.newPageIndex=a,n||(n=r!==u.savedX||s!==u.savedY||a!==u.savedPageIndex);if(!n)return!1;const i=(r,s,a,u)=>{if(b(this,un).has(r.id)){const c=b(this,Dn).get(u);c?r._setParentAndPosition(c,s,a):(r.pageIndex=u,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:u}]of e)i(r,s,a,u)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:u}]of e)i(r,s,a,u)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(b(this,is))for(const i of b(this,is).keys())i.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||b(this,ft).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return b(this,ki)===e}getActive(){return b(this,ki)}getMode(){return b(this,Nn)}get imageManager(){return Ze(this,"imageManager",new BE)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let f=0,h=n.rangeCount;f<h;f++)if(!e.contains(n.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:a}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(f,h,g,y)=>({x:(h-r)/a,y:1-(f+g-i)/s,width:y/a,height:g/s});break;case"180":u=(f,h,g,y)=>({x:1-(f+g-i)/s,y:1-(h+y-r)/a,width:g/s,height:y/a});break;case"270":u=(f,h,g,y)=>({x:1-(h+y-r)/a,y:(f-i)/s,width:y/a,height:g/s});break;default:u=(f,h,g,y)=>({x:(f-i)/s,y:(h-r)/a,width:g/s,height:y/a});break}const c=[];for(let f=0,h=n.rangeCount;f<h;f++){const g=n.getRangeAt(f);if(!g.collapsed)for(const{x:y,y:S,width:T,height:C}of g.getClientRects())T===0||C===0||c.push(u(y,S,T,C))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:n}){(b(this,ef)||P(this,ef,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=b(this,ef))==null||n.delete(e)}renderAnnotationElement(e){var r;const n=(r=b(this,ef))==null?void 0:r.get(e.data.id);if(!n)return;const i=b(this,Ks).getRawValue(n);i&&(b(this,Nn)===Qe.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};Qc=new WeakMap,ki=new WeakMap,un=new WeakMap,Dn=new WeakMap,Zc=new WeakMap,Ks=new WeakMap,ef=new WeakMap,Rr=new WeakMap,tf=new WeakMap,Ll=new WeakMap,is=new WeakMap,Pr=new WeakMap,Ol=new WeakMap,dp=new WeakMap,hp=new WeakMap,rs=new WeakMap,nf=new WeakMap,ba=new WeakMap,ss=new WeakMap,y0=new WeakMap,Aa=new WeakMap,pp=new WeakMap,Fl=new WeakMap,mp=new WeakMap,rf=new WeakMap,Nn=new WeakMap,ft=new WeakMap,js=new WeakMap,Ul=new WeakMap,gp=new WeakMap,vp=new WeakMap,yp=new WeakMap,bp=new WeakMap,Ap=new WeakMap,Sp=new WeakMap,Tp=new WeakMap,Ep=new WeakMap,Cp=new WeakMap,_p=new WeakMap,xp=new WeakMap,wp=new WeakMap,Mp=new WeakMap,Sa=new WeakMap,os=new WeakMap,Xs=new WeakMap,Rp=new WeakMap,me=new WeakSet,jv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},ZO=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=N(this,me,jv).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(b(this,ss)||P(this,ss,new w4(this)),b(this,ss).show(i,r,this.direction==="ltr"))},e2=function(){var s,a,u;const e=document.getSelection();if(!e||e.isCollapsed){b(this,js)&&((s=b(this,ss))==null||s.hide(),P(this,js,null),N(this,me,Jn).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===b(this,js))return;if(!N(this,me,jv).call(this,e).closest(".textLayer")){b(this,js)&&((a=b(this,ss))==null||a.hide(),P(this,js,null),N(this,me,Jn).call(this,{hasSelectedText:!1}));return}if((u=b(this,ss))==null||u.hide(),P(this,js,n),N(this,me,Jn).call(this,{hasSelectedText:!0}),!(b(this,Nn)!==Qe.HIGHLIGHT&&b(this,Nn)!==Qe.NONE)&&(b(this,Nn)===Qe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),P(this,ba,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=this._signal,f=h=>{h.type==="pointerup"&&h.button!==0||(window.removeEventListener("pointerup",f),window.removeEventListener("blur",f),h.type==="pointerup"&&N(this,me,Xv).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:c}),window.addEventListener("blur",f,{signal:c})}},Xv=function(e=""){b(this,Nn)===Qe.HIGHLIGHT?this.highlightSelection(e):b(this,dp)&&N(this,me,ZO).call(this)},t2=function(){document.addEventListener("selectionchange",N(this,me,e2).bind(this),{signal:this._signal})},n2=function(){const e=this._signal;window.addEventListener("focus",b(this,yp),{signal:e}),window.addEventListener("blur",b(this,vp),{signal:e})},i2=function(){window.removeEventListener("focus",b(this,yp)),window.removeEventListener("blur",b(this,vp))},VE=function(){const e=this._signal;window.addEventListener("keydown",b(this,Tp),{signal:e}),window.addEventListener("keyup",b(this,Ep),{signal:e})},r2=function(){window.removeEventListener("keydown",b(this,Tp)),window.removeEventListener("keyup",b(this,Ep))},zE=function(){const e=this._signal;document.addEventListener("copy",b(this,bp),{signal:e}),document.addEventListener("cut",b(this,Ap),{signal:e}),document.addEventListener("paste",b(this,Sp),{signal:e})},GE=function(){document.removeEventListener("copy",b(this,bp)),document.removeEventListener("cut",b(this,Ap)),document.removeEventListener("paste",b(this,Sp))},s2=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Jn=function(e){Object.entries(e).some(([i,r])=>b(this,Mp)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(b(this,Mp),e)}),b(this,Nn)===Qe.HIGHLIGHT&&e.hasSelectedEditor===!1&&N(this,me,fa).call(this,[[Oe.HIGHLIGHT_FREE,!0]]))},fa=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},o2=function(){if(!b(this,Aa)){P(this,Aa,!0);for(const e of b(this,Dn).values())e.enable();for(const e of b(this,un).values())e.enable()}},a2=function(){if(this.unselectAll(),b(this,Aa)){P(this,Aa,!1);for(const e of b(this,Dn).values())e.disable();for(const e of b(this,un).values())e.disable()}},$E=function(e){const n=b(this,Dn).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},l2=function(){let e=null;for(e of b(this,ft));return e},Ph=function(){if(b(this,un).size===0)return!0;if(b(this,un).size===1)for(const e of b(this,un).values())return e.isEmpty();return!1},YE=function(e){for(const n of b(this,ft))n.unselect();b(this,ft).clear();for(const n of e)n.isEmpty()||(b(this,ft).add(n),n.select());N(this,me,Jn).call(this,{hasSelectedEditor:this.hasSelection})},Le(zc,"TRANSLATE_SMALL",1),Le(zc,"TRANSLATE_BIG",10);let Ru=zc;var Ws,Js,Dr,Qs,Li,sf,Nr,Pp,KE;const zs=class zs{constructor(e){L(this,Pp);L(this,Ws,"");L(this,Js,!1);L(this,Dr,null);L(this,Qs,null);L(this,Li,null);L(this,sf,!1);L(this,Nr,null);P(this,Nr,e)}static initialize(e){zs._l10nPromise||(zs._l10nPromise=e)}async render(){const e=P(this,Dr,document.createElement("button"));e.className="altText";const n=await zs._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=n,e.setAttribute("aria-label",n),e.tabIndex="0";const i=b(this,Nr)._uiManager._signal;e.addEventListener("contextmenu",Ai,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),b(this,Nr)._uiManager.editAltText(b(this,Nr))};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(P(this,sf,!0),r(s))},{signal:i}),await N(this,Pp,KE).call(this),e}finish(){b(this,Dr)&&(b(this,Dr).focus({focusVisible:b(this,sf)}),P(this,sf,!1))}isEmpty(){return!b(this,Ws)&&!b(this,Js)}get data(){return{altText:b(this,Ws),decorative:b(this,Js)}}set data({altText:e,decorative:n}){b(this,Ws)===e&&b(this,Js)===n||(P(this,Ws,e),P(this,Js,n),N(this,Pp,KE).call(this))}toggle(e=!1){b(this,Dr)&&(!e&&b(this,Li)&&(clearTimeout(b(this,Li)),P(this,Li,null)),b(this,Dr).disabled=!e)}destroy(){var e;(e=b(this,Dr))==null||e.remove(),P(this,Dr,null),P(this,Qs,null)}};Ws=new WeakMap,Js=new WeakMap,Dr=new WeakMap,Qs=new WeakMap,Li=new WeakMap,sf=new WeakMap,Nr=new WeakMap,Pp=new WeakSet,KE=async function(){var r;const e=b(this,Dr);if(!e)return;if(!b(this,Ws)&&!b(this,Js)){e.classList.remove("done"),(r=b(this,Qs))==null||r.remove();return}e.classList.add("done"),zs._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let n=b(this,Qs);if(!n){P(this,Qs,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const s=n.id=`alt-text-tooltip-${b(this,Nr).id}`;e.setAttribute("aria-describedby",s);const a=100,u=b(this,Nr)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(b(this,Li)),P(this,Li,null)},{once:!0}),e.addEventListener("mouseenter",()=>{P(this,Li,setTimeout(()=>{P(this,Li,null),b(this,Qs).classList.add("show"),b(this,Nr)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:u}),e.addEventListener("mouseleave",()=>{var c;b(this,Li)&&(clearTimeout(b(this,Li)),P(this,Li,null)),(c=b(this,Qs))==null||c.classList.remove("show")},{signal:u})}n.innerText=b(this,Js)?await zs._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):b(this,Ws),n.parentNode||e.append(n);const i=b(this,Nr).getImageForAltText();i==null||i.setAttribute("aria-describedby",n.id)},Le(zs,"_l10nPromise",null);let Ty=zs;var Bl,Ir,Yn,of,ql,In,Hl,af,lf,Kn,Dp,Vl,Ta,Np,zl,Zs,as,uf,cf,fr,Ip,b0,je,jE,kp,XE,WE,u2,c2,JE,QE,ZE,f2,d2,h2,p2,eC,Dh;const Et=class Et{constructor(e){L(this,je);L(this,Bl,null);L(this,Ir,null);L(this,Yn,null);L(this,of,!1);L(this,ql,!1);L(this,In,null);L(this,Hl,null);L(this,af,this.focusin.bind(this));L(this,lf,this.focusout.bind(this));L(this,Kn,null);L(this,Dp,"");L(this,Vl,!1);L(this,Ta,null);L(this,Np,!1);L(this,zl,!1);L(this,Zs,!1);L(this,as,null);L(this,uf,0);L(this,cf,0);L(this,fr,null);Le(this,"_initialOptions",Object.create(null));Le(this,"_isVisible",!0);Le(this,"_uiManager",null);Le(this,"_focusEventsAllowed",!0);Le(this,"_l10nPromise",null);L(this,Ip,!1);L(this,b0,Et._zIndex++);this.constructor===Et&&At("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];const[u,c]=this.parentDimensions;this.x=e.x/u,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Et.prototype._resizeWithKeyboard,n=Ru.TRANSLATE_SMALL,i=Ru.TRANSLATE_BIG;return Ze(this,"_resizerKeyboardManager",new Hm([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Et.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new D4({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n,i){if(Et._l10nPromise||(Et._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),i!=null&&i.strings)for(const s of i.strings)Et._l10nPromise.set(s,e.get(s));if(Et._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Et._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){At("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return b(this,Ip)}set _isDraggable(e){var n;P(this,Ip,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=b(this,b0)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):N(this,je,Dh).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(b(this,Vl)?P(this,Vl,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,i,r){const[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(n+r)/a,this.fixAndSetPosition()}translate(e,n){N(this,je,jE).call(this,this.parentDimensions,e,n)}translateInPage(e,n){b(this,Ta)||P(this,Ta,[this.x,this.y]),N(this,je,jE).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){b(this,Ta)||P(this,Ta,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=n/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[u,c]=this.getBaseTranslation();s+=u,a+=c,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!b(this,Ta)&&(b(this,Ta)[0]!==this.x||b(this,Ta)[1]!==this.y)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:i}=Et,r=i/e,s=i/n;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[n,i]=this.pageDimensions;let{x:r,y:s,width:a,height:u}=this;if(a*=n,u*=i,r*=n,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(n-a,r)),s=Math.max(0,Math.min(i-u,s));break;case 90:r=Math.max(0,Math.min(n-u,r)),s=Math.min(i,Math.max(a,s));break;case 180:r=Math.min(n,Math.max(a,r)),s=Math.min(i,Math.max(u,s));break;case 270:r=Math.min(n,Math.max(u,r)),s=Math.max(0,Math.min(i-a,s));break}this.x=r/=n,this.y=s/=i;const[c,f]=this.getBaseTranslation();r+=c,s+=f;const{style:h}=this.div;h.left=`${(100*r).toFixed(2)}%`,h.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var i;return N(i=Et,kp,XE).call(i,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var i;return N(i=Et,kp,XE).call(i,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,i]}=this,r=n*e,s=i*e;return gi.isCSSRoundSupported?[Math.round(r),Math.round(s)]:[r,s]}setDims(e,n){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,b(this,ql)||(this.div.style.height=`${(100*n/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:i}=e,r=i.endsWith("%"),s=!b(this,ql)&&n.endsWith("%");if(r&&s)return;const[a,u]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/a).toFixed(2)}%`),!b(this,ql)&&!s&&(e.height=`${(100*parseFloat(n)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=b(this,Yn))==null||e.finish()}async addEditToolbar(){return b(this,Kn)||b(this,zl)?b(this,Kn):(P(this,Kn,new FE(this)),this.div.append(b(this,Kn).render()),b(this,Yn)&&b(this,Kn).addAltTextButton(await b(this,Yn).render()),b(this,Kn))}removeEditToolbar(){var e;b(this,Kn)&&(b(this,Kn).remove(),P(this,Kn,null),(e=b(this,Yn))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){b(this,Yn)||(Ty.initialize(Et._l10nPromise),P(this,Yn,new Ty(this)),b(this,Bl)&&(b(this,Yn).data=b(this,Bl),P(this,Bl,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=b(this,Yn))==null?void 0:e.data}set altTextData(e){b(this,Yn)&&(b(this,Yn).data=e)}hasAltText(){var e;return!((e=b(this,Yn))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=b(this,of)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",b(this,af),{signal:e}),this.div.addEventListener("focusout",b(this,lf),{signal:e});const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/n).toFixed(2)}%`,this.div.style.maxHeight=`${(100*n/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),Sy(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:n}=gi.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(P(this,Vl,!0),this._isDraggable){N(this,je,f2).call(this,e);return}N(this,je,ZE).call(this,e)}moveInDOM(){b(this,as)&&clearTimeout(b(this,as)),P(this,as,setTimeout(()=>{var e;P(this,as,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,i){e.changeParent(this),this.x=n,this.y=i,this.fixAndSetPosition()}getRect(e,n,i=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[u,c]=this.pageTranslation,f=e/r,h=n/r,g=this.x*s,y=this.y*a,S=this.width*s,T=this.height*a;switch(i){case 0:return[g+f+u,a-y-h-T+c,g+f+S+u,a-y-h+c];case 90:return[g+h+u,a-y+f+c,g+h+T+u,a-y+f+S+c];case 180:return[g-f-S+u,a-y+h+c,g-f+u,a-y+h+T+c];case 270:return[g-h-T+u,a-y-f-S+c,g-h+u,a-y-f+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[i,r,s,a]=e,u=s-i,c=a-r;switch(this.rotation){case 0:return[i,n-a,u,c];case 90:return[i,n-r,c,u];case 180:return[s,n-r,u,c];case 270:return[s,n-a,c,u];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){P(this,zl,!0)}disableEditMode(){P(this,zl,!1)}isInEditMode(){return b(this,zl)}shouldGetKeyboardEvents(){return b(this,Zs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var n,i;const e=this._uiManager._signal;(n=this.div)==null||n.addEventListener("focusin",b(this,af),{signal:e}),(i=this.div)==null||i.addEventListener("focusout",b(this,lf),{signal:e})}rotate(e){}serialize(e=!1,n=null){At("An editor must be serializable")}static deserialize(e,n,i){const r=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:i});r.rotation=e.rotation,P(r,Bl,e.accessibilityData);const[s,a]=r.pageDimensions,[u,c,f,h]=r.getRectInCurrentCoords(e.rect,a);return r.x=u/s,r.y=c/a,r.width=f/s,r.height=h/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",b(this,af)),this.div.removeEventListener("focusout",b(this,lf)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),b(this,as)&&(clearTimeout(b(this,as)),P(this,as,null)),N(this,je,Dh).call(this),this.removeEditToolbar(),b(this,fr)){for(const e of b(this,fr).values())clearTimeout(e);P(this,fr,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(N(this,je,u2).call(this),b(this,In).classList.remove("hidden"),Sy(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),P(this,Hl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=b(this,In).children;if(!b(this,Ir)){P(this,Ir,Array.from(n));const a=N(this,je,d2).bind(this),u=N(this,je,h2).bind(this),c=this._uiManager._signal;for(const f of b(this,Ir)){const h=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",a,{signal:c}),f.addEventListener("blur",u,{signal:c}),f.addEventListener("focus",N(this,je,p2).bind(this,h),{signal:c}),Et._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(g=>f.setAttribute("aria-label",g))}}const i=b(this,Ir)[0];let r=0;for(const a of n){if(a===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(b(this,Ir).length/4);if(s!==r){if(s<r)for(let u=0;u<r-s;u++)b(this,In).append(b(this,In).firstChild);else if(s>r)for(let u=0;u<s-r;u++)b(this,In).firstChild.before(b(this,In).lastChild);let a=0;for(const u of n){const f=b(this,Ir)[a++].getAttribute("data-resizer-name");Et._l10nPromise.get(`pdfjs-editor-resizer-label-${f}`).then(h=>u.setAttribute("aria-label",h))}}N(this,je,eC).call(this,0),P(this,Zs,!0),b(this,In).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){b(this,Zs)&&N(this,je,QE).call(this,b(this,Dp),{movementX:e,movementY:n})}_stopResizingWithKeyboard(){N(this,je,Dh).call(this),this.div.focus()}select(){var e,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!b(this,Kn)){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=b(this,Kn))==null||r.show())});return}(n=b(this,Kn))==null||n.show()}unselect(){var e,n,i,r;(e=b(this,In))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=b(this,Kn))==null||r.hide()}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return b(this,Np)}set isEditing(e){P(this,Np,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){P(this,ql,!0);const i=e/n,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){b(this,fr)||P(this,fr,new Map);const{action:i}=e;let r=b(this,fr).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),b(this,fr).delete(i),b(this,fr).size===0&&P(this,fr,null)},Et._telemetryTimeout),b(this,fr).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),P(this,of,!1)}disable(){this.div&&(this.div.tabIndex=-1),P(this,of,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const i=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),i.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Bl=new WeakMap,Ir=new WeakMap,Yn=new WeakMap,of=new WeakMap,ql=new WeakMap,In=new WeakMap,Hl=new WeakMap,af=new WeakMap,lf=new WeakMap,Kn=new WeakMap,Dp=new WeakMap,Vl=new WeakMap,Ta=new WeakMap,Np=new WeakMap,zl=new WeakMap,Zs=new WeakMap,as=new WeakMap,uf=new WeakMap,cf=new WeakMap,fr=new WeakMap,Ip=new WeakMap,b0=new WeakMap,je=new WeakSet,jE=function([e,n],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/n,this.fixAndSetPosition()},kp=new WeakSet,XE=function(e,n,i){switch(i){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},WE=function(e){switch(e){case 90:{const[n,i]=this.pageDimensions;return[0,-n/i,i/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,i]=this.pageDimensions;return[0,n/i,-i/n,0]}default:return[1,0,0,1]}},u2=function(){if(b(this,In))return;P(this,In,document.createElement("div")),b(this,In).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const i of e){const r=document.createElement("div");b(this,In).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",N(this,je,c2).bind(this,i),{signal:n}),r.addEventListener("contextmenu",Ai,{signal:n}),r.tabIndex=-1}this.div.prepend(b(this,In))},c2=function(e,n){var C;n.preventDefault();const{isMac:i}=gi.platform;if(n.button!==0||n.ctrlKey&&i)return;(C=b(this,Yn))==null||C.toggle(!1);const r=N(this,je,QE).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,u={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",r,u),window.addEventListener("contextmenu",Ai,{signal:a});const c=this.x,f=this.y,h=this.width,g=this.height,y=this.parent.div.style.cursor,S=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const T=()=>{var _;this.parent.togglePointerEvents(!0),(_=b(this,Yn))==null||_.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",T),window.removeEventListener("blur",T),window.removeEventListener("pointermove",r,u),window.removeEventListener("contextmenu",Ai),this.parent.div.style.cursor=y,this.div.style.cursor=S,N(this,je,JE).call(this,c,f,h,g)};window.addEventListener("pointerup",T,{signal:a}),window.addEventListener("blur",T,{signal:a})},JE=function(e,n,i,r){const s=this.x,a=this.y,u=this.width,c=this.height;s===e&&a===n&&u===i&&c===r||this.addCommands({cmd:()=>{this.width=u,this.height=c,this.x=s,this.y=a;const[f,h]=this.parentDimensions;this.setDims(f*u,h*c),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=n;const[f,h]=this.parentDimensions;this.setDims(f*i,h*r),this.fixAndSetPosition()},mustExec:!0})},QE=function(e,n){const[i,r]=this.parentDimensions,s=this.x,a=this.y,u=this.width,c=this.height,f=Et.MIN_SIZE/i,h=Et.MIN_SIZE/r,g=J=>Math.round(J*1e4)/1e4,y=N(this,je,WE).call(this,this.rotation),S=(J,se)=>[y[0]*J+y[2]*se,y[1]*J+y[3]*se],T=N(this,je,WE).call(this,360-this.rotation),C=(J,se)=>[T[0]*J+T[2]*se,T[1]*J+T[3]*se];let _,x,R=!1,M=!1;switch(e){case"topLeft":R=!0,_=(J,se)=>[0,0],x=(J,se)=>[J,se];break;case"topMiddle":_=(J,se)=>[J/2,0],x=(J,se)=>[J/2,se];break;case"topRight":R=!0,_=(J,se)=>[J,0],x=(J,se)=>[0,se];break;case"middleRight":M=!0,_=(J,se)=>[J,se/2],x=(J,se)=>[0,se/2];break;case"bottomRight":R=!0,_=(J,se)=>[J,se],x=(J,se)=>[0,0];break;case"bottomMiddle":_=(J,se)=>[J/2,se],x=(J,se)=>[J/2,0];break;case"bottomLeft":R=!0,_=(J,se)=>[0,se],x=(J,se)=>[J,0];break;case"middleLeft":M=!0,_=(J,se)=>[0,se/2],x=(J,se)=>[J,se/2];break}const U=_(u,c),k=x(u,c);let F=S(...k);const q=g(s+F[0]),z=g(a+F[1]);let G=1,ee=1,[K,ie]=this.screenToPageTranslation(n.movementX,n.movementY);if([K,ie]=C(K/i,ie/r),R){const J=Math.hypot(u,c);G=ee=Math.max(Math.min(Math.hypot(k[0]-U[0]-K,k[1]-U[1]-ie)/J,1/u,1/c),f/u,h/c)}else M?G=Math.max(f,Math.min(1,Math.abs(k[0]-U[0]-K)))/u:ee=Math.max(h,Math.min(1,Math.abs(k[1]-U[1]-ie)))/c;const he=g(u*G),fe=g(c*ee);F=S(...x(he,fe));const de=q-F[0],Y=z-F[1];this.width=he,this.height=fe,this.x=de,this.y=Y,this.setDims(i*he,r*fe),this.fixAndSetPosition()},ZE=function(e){const{isMac:n}=gi.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},f2=function(e){const n=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i,r;const s=this._uiManager._signal;n&&(this.div.classList.add("moving"),i={passive:!0,capture:!0,signal:s},P(this,uf,e.clientX),P(this,cf,e.clientY),r=u=>{const{clientX:c,clientY:f}=u,[h,g]=this.screenToPageTranslation(c-b(this,uf),f-b(this,cf));P(this,uf,c),P(this,cf,f),this._uiManager.dragSelectedEditors(h,g)},window.addEventListener("pointermove",r,i));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),n&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,i)),P(this,Vl,!1),this._uiManager.endDragSession()||N(this,je,ZE).call(this,e)};window.addEventListener("pointerup",a,{signal:s}),window.addEventListener("blur",a,{signal:s})},d2=function(e){Et._resizerKeyboardManager.exec(this,e)},h2=function(e){var n;b(this,Zs)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==b(this,In)&&N(this,je,Dh).call(this)},p2=function(e){P(this,Dp,b(this,Zs)?e:"")},eC=function(e){if(b(this,Ir))for(const n of b(this,Ir))n.tabIndex=e},Dh=function(){if(P(this,Zs,!1),N(this,je,eC).call(this,-1),b(this,Hl)){const{savedX:e,savedY:n,savedWidth:i,savedHeight:r}=b(this,Hl);N(this,je,JE).call(this,e,n,i,r),P(this,Hl,null)}},L(Et,kp),Le(Et,"_borderLineWidth",-1),Le(Et,"_colorManager",new HE),Le(Et,"_zIndex",1),Le(Et,"_telemetryTimeout",1e3);let dt=Et;class D4 extends dt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const oD=3285377520,sr=4294901760,ts=65535;class m2{constructor(e){this.h1=e?e&4294967295:oD,this.h2=e?e&4294967295:oD}update(e){let n,i;if(typeof e=="string"){n=new Uint8Array(e.length*2),i=0;for(let C=0,_=e.length;C<_;C++){const x=e.charCodeAt(C);x<=255?n[i++]=x:(n[i++]=x>>>8,n[i++]=x&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),i=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,a=new Uint32Array(n.buffer,0,r);let u=0,c=0,f=this.h1,h=this.h2;const g=3432918353,y=461845907,S=g&ts,T=y&ts;for(let C=0;C<r;C++)C&1?(u=a[C],u=u*g&sr|u*S&ts,u=u<<15|u>>>17,u=u*y&sr|u*T&ts,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(c=a[C],c=c*g&sr|c*S&ts,c=c<<15|c>>>17,c=c*y&sr|c*T&ts,h^=c,h=h<<13|h>>>19,h=h*5+3864292196);switch(u=0,s){case 3:u^=n[r*4+2]<<16;case 2:u^=n[r*4+1]<<8;case 1:u^=n[r*4],u=u*g&sr|u*S&ts,u=u<<15|u>>>17,u=u*y&sr|u*T&ts,r&1?f^=u:h^=u}this.h1=f,this.h2=h}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&sr|e*36045&ts,n=n*4283543511&sr|((n<<16|e>>>16)*2950163797&sr)>>>16,e^=n>>>1,e=e*444984403&sr|e*60499&ts,n=n*3301882366&sr|((n<<16|e>>>16)*3120437893&sr)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const tC=Object.freeze({map:null,hash:"",transfer:void 0});var Gl,kn,A0,g2;class ix{constructor(){L(this,A0);L(this,Gl,!1);L(this,kn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const i=b(this,kn).get(e);return i===void 0?n:Object.assign(n,i)}getRawValue(e){return b(this,kn).get(e)}remove(e){if(b(this,kn).delete(e),b(this,kn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of b(this,kn).values())if(n instanceof dt)return;this.onAnnotationEditor(null)}}setValue(e,n){const i=b(this,kn).get(e);let r=!1;if(i!==void 0)for(const[s,a]of Object.entries(n))i[s]!==a&&(r=!0,i[s]=a);else r=!0,b(this,kn).set(e,n);r&&N(this,A0,g2).call(this),n instanceof dt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return b(this,kn).has(e)}getAll(){return b(this,kn).size>0?W_(b(this,kn)):null}setAll(e){for(const[n,i]of Object.entries(e))this.setValue(n,i)}get size(){return b(this,kn).size}resetModified(){b(this,Gl)&&(P(this,Gl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new v2(this)}get serializable(){if(b(this,kn).size===0)return tC;const e=new Map,n=new m2,i=[],r=Object.create(null);let s=!1;for(const[a,u]of b(this,kn)){const c=u instanceof dt?u.serialize(!1,r):u;c&&(e.set(a,c),n.update(`${a}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:i}:tC}get editorStats(){let e=null;const n=new Map;for(const i of b(this,kn).values()){if(!(i instanceof dt))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:s}=r;n.has(s)||n.set(s,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[u,c]of Object.entries(r)){if(u==="type")continue;let f=a.get(u);f||(f=new Map,a.set(u,f));const h=f.get(c)??0;f.set(c,h+1)}}for(const[i,r]of n)e[i]=r.computeTelemetryFinalData(e[i]);return e}}Gl=new WeakMap,kn=new WeakMap,A0=new WeakSet,g2=function(){b(this,Gl)||(P(this,Gl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Lp;class v2 extends ix{constructor(n){super();L(this,Lp);const{map:i,hash:r,transfer:s}=n.serializable,a=structuredClone(i,s?{transfer:s}:null);P(this,Lp,{map:a,hash:r,transfer:s})}get print(){At("Should not call PrintAnnotationStorage.print")}get serializable(){return b(this,Lp)}}Lp=new WeakMap;var ff;class N4{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){L(this,ff,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),b(this,ff).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||b(this,ff).has(e.loadedName))){if(hn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:s}=e,a=new FontFace(i,r,s);this.addNativeFontFace(a);try{await a.load(),b(this,ff).add(i),n==null||n(e)}catch{ze(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}At("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw ze(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Ze(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(jn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ze(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(hn(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:n,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ze(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function i(U,k){return U.charCodeAt(k)<<24|U.charCodeAt(k+1)<<16|U.charCodeAt(k+2)<<8|U.charCodeAt(k+3)&255}function r(U,k,F,q){const z=U.substring(0,k),G=U.substring(k+F);return z+q+G}let s,a;const u=this._document.createElement("canvas");u.width=1,u.height=1;const c=u.getContext("2d");let f=0;function h(U,k){if(++f>30){ze("Load test font never loaded."),k();return}if(c.font="30px "+U,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(h.bind(null,U,k))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,g.length,g);const T=16,C=1482184792;let _=i(y,T);for(s=0,a=g.length-3;s<a;s+=4)_=_-C+i(g,s)|0;s<g.length&&(_=_-C+i(g+"XXX",s)|0),y=r(y,T,4,m4(_));const x=`url(data:font/opentype;base64,${btoa(y)});`,R=`@font-face {font-family:"${g}";src:${x}}`;this.insertRule(R);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const U of[e.loadedName,g]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=U,M.append(k)}this._document.body.append(M),h(g,()=>{M.remove(),n.complete()})}}ff=new WeakMap;class I4{constructor(e,{disableFontFace:n=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=n===!0,this._inspectFont=i}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=UO(this.data),n=`url(data:${this.mimetype};base64,${btoa(e)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${n}}`}return(r=this._inspectFont)==null||r.call(this,this,n),i}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let i;try{i=e.get(this.loadedName+"_path_"+n)}catch(s){ze(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[n]=function(s,a){};const r=[];for(let s=0,a=i.length;s<a;)switch(i[s++]){case qs.BEZIER_CURVE_TO:{const[u,c,f,h,g,y]=i.slice(s,s+6);r.push(S=>S.bezierCurveTo(u,c,f,h,g,y)),s+=6}break;case qs.MOVE_TO:{const[u,c]=i.slice(s,s+2);r.push(f=>f.moveTo(u,c)),s+=2}break;case qs.LINE_TO:{const[u,c]=i.slice(s,s+2);r.push(f=>f.lineTo(u,c)),s+=2}break;case qs.QUADRATIC_CURVE_TO:{const[u,c,f,h]=i.slice(s,s+4);r.push(g=>g.quadraticCurveTo(u,c,f,h)),s+=4}break;case qs.RESTORE:r.push(u=>u.restore());break;case qs.SAVE:r.push(u=>u.save());break;case qs.SCALE:hn(r.length===2,"Scale command is only valid at the third position.");break;case qs.TRANSFORM:{const[u,c,f,h,g,y]=i.slice(s,s+6);r.push(S=>S.transform(u,c,f,h,g,y)),s+=6}break;case qs.TRANSLATE:{const[u,c]=i.slice(s,s+2);r.push(f=>f.translate(u,c)),s+=2}break}return this.compiledGlyphs[n]=function(a,u){r[0](a),r[1](a),a.scale(u,-u);for(let c=2,f=r.length;c<f;c++)r[c](a)}}}if(jn){var nC=Promise.withResolvers(),$h=null;(async()=>{const e=await Sv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Sv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Sv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Sv(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,a;return new Map(Object.entries({fs:e,http:n,https:i,url:r,canvas:s,path2d:a}))})().then(e=>{$h=e,nC.resolve()},e=>{ze(`loadPackages: ${e}`),$h=new Map,nC.resolve()})}class Ts{static get promise(){return nC.promise}static get(e){return $h==null?void 0:$h.get(e)}}const y2=function(t){return Ts.get("fs").promises.readFile(t).then(n=>new Uint8Array(n))};class k4 extends L0{}class L4 extends Ay{_createCanvas(e,n){return Ts.get("canvas").createCanvas(e,n)}}class O4 extends O0{_fetchData(e,n){return y2(e).then(i=>({cMapData:i,compressionType:n}))}}class F4 extends F0{_fetchData(e){return y2(e)}}const ei={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function iC(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],n,i),t.clip(r)}class Vm{constructor(){this.constructor===Vm&&At("Cannot initialize BaseShadingPattern.")}getPattern(){At("Abstract method `getPattern` called.")}}class U4 extends Vm{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)n.addColorStop(i[0],i[1]);return n}getPattern(e,n,i,r){let s;if(r===ei.STROKE||r===ei.FILL){const a=n.current.getClippedPathBoundingBox(r,qt(e))||[0,0,0,0],u=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,f=n.cachedCanvases.getCanvas("pattern",u,c,!0),h=f.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),i=Ce.transform(i,[1,0,0,1,a[0],a[1]]),h.transform(...n.baseTransform),this.matrix&&h.transform(...this.matrix),iC(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(i);s.setTransform(g)}else iC(e,this._bbox),s=this._createGradient(e);return s}}function VS(t,e,n,i,r,s,a,u){const c=e.coords,f=e.colors,h=t.data,g=t.width*4;let y;c[n+1]>c[i+1]&&(y=n,n=i,i=y,y=s,s=a,a=y),c[i+1]>c[r+1]&&(y=i,i=r,r=y,y=a,a=u,u=y),c[n+1]>c[i+1]&&(y=n,n=i,i=y,y=s,s=a,a=y);const S=(c[n]+e.offsetX)*e.scaleX,T=(c[n+1]+e.offsetY)*e.scaleY,C=(c[i]+e.offsetX)*e.scaleX,_=(c[i+1]+e.offsetY)*e.scaleY,x=(c[r]+e.offsetX)*e.scaleX,R=(c[r+1]+e.offsetY)*e.scaleY;if(T>=R)return;const M=f[s],U=f[s+1],k=f[s+2],F=f[a],q=f[a+1],z=f[a+2],G=f[u],ee=f[u+1],K=f[u+2],ie=Math.round(T),he=Math.round(R);let fe,de,Y,J,se,_e,H,ae;for(let ne=ie;ne<=he;ne++){if(ne<_){const $e=ne<T?0:(T-ne)/(T-_);fe=S-(S-C)*$e,de=M-(M-F)*$e,Y=U-(U-q)*$e,J=k-(k-z)*$e}else{let $e;ne>R?$e=1:_===R?$e=0:$e=(_-ne)/(_-R),fe=C-(C-x)*$e,de=F-(F-G)*$e,Y=q-(q-ee)*$e,J=z-(z-K)*$e}let ce;ne<T?ce=0:ne>R?ce=1:ce=(T-ne)/(T-R),se=S-(S-x)*ce,_e=M-(M-G)*ce,H=U-(U-ee)*ce,ae=k-(k-K)*ce;const be=Math.round(Math.min(fe,se)),Me=Math.round(Math.max(fe,se));let xe=g*ne+be*4;for(let $e=be;$e<=Me;$e++)ce=(fe-$e)/(fe-se),ce<0?ce=0:ce>1&&(ce=1),h[xe++]=de-(de-_e)*ce|0,h[xe++]=Y-(Y-H)*ce|0,h[xe++]=J-(J-ae)*ce|0,h[xe++]=255}}function B4(t,e,n){const i=e.coords,r=e.colors;let s,a;switch(e.type){case"lattice":const u=e.verticesPerRow,c=Math.floor(i.length/u)-1,f=u-1;for(s=0;s<c;s++){let h=s*u;for(let g=0;g<f;g++,h++)VS(t,n,i[h],i[h+1],i[h+u],r[h],r[h+1],r[h+u]),VS(t,n,i[h+u+1],i[h+1],i[h+u],r[h+u+1],r[h+1],r[h+u])}break;case"triangles":for(s=0,a=i.length;s<a;s+=3)VS(t,n,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class q4 extends Vm{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,i){const u=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,h=Math.ceil(this._bounds[3])-c,g=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),S=f/g,T=h/y,C={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-c,scaleX:1/S,scaleY:1/T},_=g+4,x=y+4,R=i.getCanvas("mesh",_,x,!1),M=R.context,U=M.createImageData(g,y);if(n){const F=U.data;for(let q=0,z=F.length;q<z;q+=4)F[q]=n[0],F[q+1]=n[1],F[q+2]=n[2],F[q+3]=255}for(const F of this._figures)B4(U,F,C);return M.putImageData(U,2,2),{canvas:R.canvas,offsetX:u-2*S,offsetY:c-2*T,scaleX:S,scaleY:T}}getPattern(e,n,i,r){iC(e,this._bbox);let s;if(r===ei.SHADING)s=Ce.singularValueDecompose2dScale(qt(e));else if(s=Ce.singularValueDecompose2dScale(n.baseTransform),this.matrix){const u=Ce.singularValueDecompose2dScale(this.matrix);s=[s[0]*u[0],s[1]*u[1]]}const a=this._createMeshCanvas(s,r===ei.SHADING?null:this._background,n.cachedCanvases);return r!==ei.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class H4 extends Vm{getPattern(){return"hotpink"}}function V4(t){switch(t[0]){case"RadialAxial":return new U4(t);case"Mesh":return new q4(t);case"Dummy":return new H4}throw new Error(`Unknown IR type: ${t[0]}`)}const aD={COLORED:1,UNCOLORED:2},S0=class S0{constructor(e,n,i,r,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const n=this.operatorList,i=this.bbox,r=this.xstep,s=this.ystep,a=this.paintType,u=this.tilingType,c=this.color,f=this.canvasGraphicsFactory;N0("TilingType: "+u);const h=i[0],g=i[1],y=i[2],S=i[3],T=Ce.singularValueDecompose2dScale(this.matrix),C=Ce.singularValueDecompose2dScale(this.baseTransform),_=[T[0]*C[0],T[1]*C[1]],x=this.getSizeAndScale(r,this.ctx.canvas.width,_[0]),R=this.getSizeAndScale(s,this.ctx.canvas.height,_[1]),M=e.cachedCanvases.getCanvas("pattern",x.size,R.size,!0),U=M.context,k=f.createCanvasGraphics(U);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,a,c);let F=h,q=g,z=y,G=S;return h<0&&(F=0,z+=Math.abs(h)),g<0&&(q=0,G+=Math.abs(g)),U.translate(-(x.scale*F),-(R.scale*q)),k.transform(x.scale,0,0,R.scale,0,0),U.save(),this.clipBbox(k,F,q,z,G),k.baseTransform=qt(k.ctx),k.executeOperatorList(n),k.endDrawing(),{canvas:M.canvas,scaleX:x.scale,scaleY:R.scale,offsetX:F,offsetY:q}}getSizeAndScale(e,n,i){e=Math.abs(e);const r=Math.max(S0.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,n,i,r,s){const a=r-n,u=s-i;e.ctx.rect(n,i,a,u),e.current.updateRectMinMax(qt(e.ctx),[n,i,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,i){const r=e.ctx,s=e.current;switch(n){case aD.COLORED:const a=this.ctx;r.fillStyle=a.fillStyle,r.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case aD.UNCOLORED:const u=Ce.makeHexColor(i[0],i[1],i[2]);r.fillStyle=u,r.strokeStyle=u,s.fillColor=u,s.strokeColor=u;break;default:throw new p4(`Unsupported paint type: ${n}`)}}getPattern(e,n,i,r){let s=i;r!==ei.SHADING&&(s=Ce.transform(s,n.baseTransform),this.matrix&&(s=Ce.transform(s,this.matrix)));const a=this.createPatternCanvas(n);let u=new DOMMatrix(s);u=u.translate(a.offsetX,a.offsetY),u=u.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(u),c}};Le(S0,"MAX_PATTERN_SIZE",3e3);let rC=S0;function z4({src:t,srcPos:e=0,dest:n,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const u=gi.isLittleEndian?4278190080:255,[c,f]=a?[s,u]:[u,s],h=i>>3,g=i&7,y=t.length;n=new Uint32Array(n.buffer);let S=0;for(let T=0;T<r;T++){for(const _=e+h;e<_;e++){const x=e<y?t[e]:255;n[S++]=x&128?f:c,n[S++]=x&64?f:c,n[S++]=x&32?f:c,n[S++]=x&16?f:c,n[S++]=x&8?f:c,n[S++]=x&4?f:c,n[S++]=x&2?f:c,n[S++]=x&1?f:c}if(g===0)continue;const C=e<y?t[e++]:255;for(let _=0;_<g;_++)n[S++]=C&1<<7-_?f:c}return{srcPos:e,destPos:S}}const lD=16,uD=100,G4=15,cD=10,fD=1e3,pi=16;function $4(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},t.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},t.transform=function(i,r,s,a,u,c){e.transform(i,r,s,a,u,c),this.__originalTransform(i,r,s,a,u,c)},t.setTransform=function(i,r,s,a,u,c){e.setTransform(i,r,s,a,u,c),this.__originalSetTransform(i,r,s,a,u,c)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(i){e.rotate(i),this.__originalRotate(i)},t.clip=function(i){e.clip(i),this.__originalClip(i)},t.moveTo=function(n,i){e.moveTo(n,i),this.__originalMoveTo(n,i)},t.lineTo=function(n,i){e.lineTo(n,i),this.__originalLineTo(n,i)},t.bezierCurveTo=function(n,i,r,s,a,u){e.bezierCurveTo(n,i,r,s,a,u),this.__originalBezierCurveTo(n,i,r,s,a,u)},t.rect=function(n,i,r,s){e.rect(n,i,r,s),this.__originalRect(n,i,r,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Y4{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,n,i)):(r=this.canvasFactory.create(n,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Tv(t,e,n,i,r,s,a,u,c,f){const[h,g,y,S,T,C]=qt(t);if(g===0&&y===0){const R=a*h+T,M=Math.round(R),U=u*S+C,k=Math.round(U),F=(a+c)*h+T,q=Math.abs(Math.round(F)-M)||1,z=(u+f)*S+C,G=Math.abs(Math.round(z)-k)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(S),M,k),t.drawImage(e,n,i,r,s,0,0,q,G),t.setTransform(h,g,y,S,T,C),[q,G]}if(h===0&&S===0){const R=u*y+T,M=Math.round(R),U=a*g+C,k=Math.round(U),F=(u+f)*y+T,q=Math.abs(Math.round(F)-M)||1,z=(a+c)*g+C,G=Math.abs(Math.round(z)-k)||1;return t.setTransform(0,Math.sign(g),Math.sign(y),0,M,k),t.drawImage(e,n,i,r,s,0,0,G,q),t.setTransform(h,g,y,S,T,C),[G,q]}t.drawImage(e,n,i,r,s,a,u,c,f);const _=Math.hypot(h,g),x=Math.hypot(y,S);return[_*c,x*f]}function K4(t){const{width:e,height:n}=t;if(e>fD||n>fD)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(n+1)),u,c,f;const h=e+7&-8;let g=new Uint8Array(h*n),y=0;for(const x of t.data){let R=128;for(;R>0;)g[y++]=x&R?0:255,R>>=1}let S=0;for(y=0,g[y]!==0&&(a[0]=1,++S),c=1;c<e;c++)g[y]!==g[y+1]&&(a[c]=g[y]?2:1,++S),y++;for(g[y]!==0&&(a[c]=2,++S),u=1;u<n;u++){y=u*h,f=u*s,g[y-h]!==g[y]&&(a[f]=g[y]?1:8,++S);let x=(g[y]?4:0)+(g[y-h]?8:0);for(c=1;c<e;c++)x=(x>>2)+(g[y+1]?4:0)+(g[y-h+1]?8:0),r[x]&&(a[f+c]=r[x],++S),y++;if(g[y-h]!==g[y]&&(a[f+c]=g[y]?2:4,++S),S>i)return null}for(y=h*(n-1),f=u*s,g[y]!==0&&(a[f]=8,++S),c=1;c<e;c++)g[y]!==g[y+1]&&(a[f+c]=g[y]?4:8,++S),y++;if(g[y]!==0&&(a[f+c]=4,++S),S>i)return null;const T=new Int32Array([0,s,-1,0,-s,0,0,0,1]),C=new Path2D;for(u=0;S&&u<=n;u++){let x=u*s;const R=x+e;for(;x<R&&!a[x];)x++;if(x===R)continue;C.moveTo(x%s,u);const M=x;let U=a[x];do{const k=T[U];do x+=k;while(!a[x]);const F=a[x];F!==5&&F!==10?(U=F,a[x]=0):(U=F&51*U>>4,a[x]&=U>>2|U<<2),C.lineTo(x%s,x/s|0),a[x]||--S}while(M!==x);--u}return g=null,a=null,function(x){x.save(),x.scale(1/e,-1/n),x.translate(0,-n),x.fill(C),x.beginPath(),x.restore()}}class dD{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=OO,this.textMatrixScale=1,this.fontMatrix=PE,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=zn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,i){[n,i]=Ce.applyTransform([n,i],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,n){const i=Ce.applyTransform(n,e),r=Ce.applyTransform(n.slice(2),e),s=Ce.applyTransform([n[0],n[3]],e),a=Ce.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],a[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],a[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],a[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],a[1])}updateScalingPathMinMax(e,n){Ce.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,i,r,s,a,u,c,f,h){const g=Ce.bezierBoundingBox(n,i,r,s,a,u,c,f,h);h||this.updateRectMinMax(e,g)}getPathBoundingBox(e=ei.FILL,n=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===ei.STROKE){n||At("Stroke bounding box must include transform.");const r=Ce.singularValueDecompose2dScale(n),s=r[0]*this.lineWidth/2,a=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=a,i[2]+=s,i[3]+=a}return i}updateClipFromPath(){const e=Ce.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=ei.FILL,n=null){return Ce.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function hD(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,i=e.width,r=n%pi,s=(n-r)/pi,a=r===0?s:s+1,u=t.createImageData(i,pi);let c=0,f;const h=e.data,g=u.data;let y,S,T,C;if(e.kind===Gv.GRAYSCALE_1BPP){const _=h.byteLength,x=new Uint32Array(g.buffer,0,g.byteLength>>2),R=x.length,M=i+7>>3,U=4294967295,k=gi.isLittleEndian?4278190080:255;for(y=0;y<a;y++){for(T=y<s?pi:r,f=0,S=0;S<T;S++){const F=_-c;let q=0;const z=F>M?i:F*8-7,G=z&-8;let ee=0,K=0;for(;q<G;q+=8)K=h[c++],x[f++]=K&128?U:k,x[f++]=K&64?U:k,x[f++]=K&32?U:k,x[f++]=K&16?U:k,x[f++]=K&8?U:k,x[f++]=K&4?U:k,x[f++]=K&2?U:k,x[f++]=K&1?U:k;for(;q<z;q++)ee===0&&(K=h[c++],ee=128),x[f++]=K&ee?U:k,ee>>=1}for(;f<R;)x[f++]=0;t.putImageData(u,0,y*pi)}}else if(e.kind===Gv.RGBA_32BPP){for(S=0,C=i*pi*4,y=0;y<s;y++)g.set(h.subarray(c,c+C)),c+=C,t.putImageData(u,0,S),S+=pi;y<a&&(C=i*r*4,g.set(h.subarray(c,c+C)),t.putImageData(u,0,S))}else if(e.kind===Gv.RGB_24BPP)for(T=pi,C=i*T,y=0;y<a;y++){for(y>=s&&(T=r,C=i*T),f=0,S=C;S--;)g[f++]=h[c++],g[f++]=h[c++],g[f++]=h[c++],g[f++]=255;t.putImageData(u,0,y*pi)}else throw new Error(`bad image kind: ${e.kind}`)}function pD(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,i=e.width,r=n%pi,s=(n-r)/pi,a=r===0?s:s+1,u=t.createImageData(i,pi);let c=0;const f=e.data,h=u.data;for(let g=0;g<a;g++){const y=g<s?pi:r;({srcPos:c}=z4({src:f,srcPos:c,dest:h,width:i,height:y,nonBlackColor:0})),t.putImageData(u,0,g*pi)}}function gh(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)t[i]!==void 0&&(e[i]=t[i]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Ev(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!jn){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function mD(t,e){if(e)return!0;const n=Ce.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*qa.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const j4=["butt","round","square"],X4=["miter","round","bevel"],W4={},gD={};var Ga,sC,oC;const Jw=class Jw{constructor(e,n,i,r,s,{optionalContentConfig:a,markedContentStack:u=null},c,f){L(this,Ga);this.ctx=e,this.current=new dD(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=a,this.cachedCanvases=new Y4(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=u,i){const c=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...qt(this.compositeCtx))}this.ctx.save(),Ev(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=qt(this.ctx)}executeOperatorList(e,n,i,r){const s=e.argsArray,a=e.fnArray;let u=n||0;const c=s.length;if(c===u)return u;const f=c-u>cD&&typeof i=="function",h=f?Date.now()+G4:0;let g=0;const y=this.commonObjs,S=this.objs;let T;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,i),u;if(T=a[u],T!==Mr.dependency)this[T].apply(this,s[u]);else for(const C of s[u]){const _=C.startsWith("g_")?y:S;if(!_.has(C))return _.get(C,i),u}if(u++,u===c)return u;if(f&&++g>cD){if(Date.now()>h)return i(),u;g=0}}}endDrawing(){N(this,Ga,sC).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),N(this,Ga,oC).call(this)}_scaleImage(e,n){const i=e.width,r=e.height;let s=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),u=i,c=r,f="prescale1",h,g;for(;s>2&&u>1||a>2&&c>1;){let y=u,S=c;s>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),s/=u/y),a>2&&c>1&&(S=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/S),h=this.cachedCanvases.getCanvas(f,y,S),g=h.context,g.clearRect(0,0,y,S),g.drawImage(e,0,0,u,c,0,0,y,S),e=h.canvas,u=y,c=S,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:c}}_createMaskCanvas(e){const n=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,a=this.current.patternFill,u=qt(n);let c,f,h,g;if((e.bitmap||e.data)&&e.count>1){const z=e.bitmap||e.data.buffer;f=JSON.stringify(a?u:[u.slice(0,4),s]),c=this._cachedBitmapsMap.get(z),c||(c=new Map,this._cachedBitmapsMap.set(z,c));const G=c.get(f);if(G&&!a){const ee=Math.round(Math.min(u[0],u[2])+u[4]),K=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:G,offsetX:ee,offsetY:K}}h=G}h||(g=this.cachedCanvases.getCanvas("maskCanvas",i,r),pD(g.context,e));let y=Ce.transform(u,[1/i,0,0,-1/r,0,0]);y=Ce.transform(y,[1,0,0,1,0,-r]);const[S,T,C,_]=Ce.getAxialAlignedBoundingBox([0,0,i,r],y),x=Math.round(C-S)||1,R=Math.round(_-T)||1,M=this.cachedCanvases.getCanvas("fillCanvas",x,R),U=M.context,k=S,F=T;U.translate(-k,-F),U.transform(...y),h||(h=this._scaleImage(g.canvas,Hs(U)),h=h.img,c&&a&&c.set(f,h)),U.imageSmoothingEnabled=mD(qt(U),e.interpolate),Tv(U,h,0,0,h.width,h.height,0,0,i,r),U.globalCompositeOperation="source-in";const q=Ce.transform(Hs(U),[1,0,0,1,-k,-F]);return U.fillStyle=a?s.getPattern(n,this,q,ei.FILL):s,U.fillRect(0,0,i,r),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(f,M.canvas)),{canvas:M.canvas,offsetX:Math.round(k),offsetY:Math.round(F)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=j4[e]}setLineJoin(e){this.ctx.lineJoin=X4[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,i]of e)switch(n){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx,this.ctx=r.context;const s=this.ctx;s.setTransform(...qt(this.suspendedCtx)),gh(this.suspendedCtx,s),$4(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,i,r){const s=r[0],a=r[1],u=r[2]-s,c=r[3]-a;u===0||c===0||(this.genericComposeSMask(n.context,i,u,c,n.subtype,n.backdrop,n.transferMap,s,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,n,i,r,s,a,u,c,f,h,g){let y=e.canvas,S=c-h,T=f-g;if(a){if(S<0||T<0||S+i>y.width||T+r>y.height){const _=this.cachedCanvases.getCanvas("maskExtension",i,r),x=_.context;x.drawImage(y,-S,-T),a.some(R=>R!==0)&&(x.globalCompositeOperation="destination-atop",x.fillStyle=Ce.makeHexColor(...a),x.fillRect(0,0,i,r),x.globalCompositeOperation="source-over"),y=_.canvas,S=T=0}else if(a.some(_=>_!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(S,T,i,r),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=Ce.makeHexColor(...a),e.fillRect(S,T,i,r),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&u?n.filter=this.filterFactory.addAlphaFilter(u):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(u));const C=new Path2D;C.rect(c,f,i,r),n.clip(C),n.globalCompositeOperation="destination-in",n.drawImage(y,S,T,i,r,c,f,i,r),n.restore()}save(){this.inSMaskMode?(gh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),gh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,i,r,s,a){this.ctx.transform(e,n,i,r,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,i){const r=this.ctx,s=this.current;let a=s.x,u=s.y,c,f;const h=qt(r),g=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,y=g?i.slice(0):null;for(let S=0,T=0,C=e.length;S<C;S++)switch(e[S]|0){case Mr.rectangle:a=n[T++],u=n[T++];const _=n[T++],x=n[T++],R=a+_,M=u+x;r.moveTo(a,u),_===0||x===0?r.lineTo(R,M):(r.lineTo(R,u),r.lineTo(R,M),r.lineTo(a,M)),g||s.updateRectMinMax(h,[a,u,R,M]),r.closePath();break;case Mr.moveTo:a=n[T++],u=n[T++],r.moveTo(a,u),g||s.updatePathMinMax(h,a,u);break;case Mr.lineTo:a=n[T++],u=n[T++],r.lineTo(a,u),g||s.updatePathMinMax(h,a,u);break;case Mr.curveTo:c=a,f=u,a=n[T+4],u=n[T+5],r.bezierCurveTo(n[T],n[T+1],n[T+2],n[T+3],a,u),s.updateCurvePathMinMax(h,c,f,n[T],n[T+1],n[T+2],n[T+3],a,u,y),T+=6;break;case Mr.curveTo2:c=a,f=u,r.bezierCurveTo(a,u,n[T],n[T+1],n[T+2],n[T+3]),s.updateCurvePathMinMax(h,c,f,a,u,n[T],n[T+1],n[T+2],n[T+3],y),a=n[T+2],u=n[T+3],T+=4;break;case Mr.curveTo3:c=a,f=u,a=n[T+2],u=n[T+3],r.bezierCurveTo(n[T],n[T+1],a,u,a,u),s.updateCurvePathMinMax(h,c,f,n[T],n[T+1],a,u,a,u,y),T+=4;break;case Mr.closePath:r.closePath();break}g&&s.updateScalingPathMinMax(h,y),s.setCurrentPoint(a,u)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,i=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(n.save(),n.strokeStyle=i.getPattern(n,this,Hs(n),ei.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let s=!1;r&&(n.save(),n.fillStyle=i.getPattern(n,this,Hs(n),ei.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),s&&n.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=W4}eoClip(){this.pendingClip=gD}beginText(){this.current.textMatrix=OO,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}n.save(),n.beginPath();for(const i of e)n.setTransform(...i.transform),n.translate(i.x,i.y),i.addToPath(n,i.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var h;const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||PE,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&ze("Invalid font matrix for font "+e),n<0?(n=-n,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const s=i.loadedName||"sans-serif",a=((h=i.systemFontInfo)==null?void 0:h.css)||`"${s}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const c=i.italic?"italic":"normal";let f=n;n<lD?f=lD:n>uD&&(f=uD),this.current.fontSizeScale=n/f,this.ctx.font=`${c} ${u} ${f}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,i,r,s,a){this.current.textMatrix=[e,n,i,r,s,a],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,i,r){const s=this.ctx,a=this.current,u=a.font,c=a.textRenderingMode,f=a.fontSize/a.fontSizeScale,h=c&zn.FILL_STROKE_MASK,g=!!(c&zn.ADD_TO_PATH_FLAG),y=a.patternFill&&!u.missingFile;let S;(u.disableFontFace||g||y)&&(S=u.getPathGenerator(this.commonObjs,e)),u.disableFontFace||y?(s.save(),s.translate(n,i),s.beginPath(),S(s,f),r&&s.setTransform(...r),(h===zn.FILL||h===zn.FILL_STROKE)&&s.fill(),(h===zn.STROKE||h===zn.FILL_STROKE)&&s.stroke(),s.restore()):((h===zn.FILL||h===zn.FILL_STROKE)&&s.fillText(e,n,i),(h===zn.STROKE||h===zn.FILL_STROKE)&&s.strokeText(e,n,i)),g&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:qt(s),x:n,y:i,fontSize:f,addToPath:S})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<n.length;r+=4)if(n[r]>0&&n[r]<255){i=!0;break}return Ze(this,"isFontSubpixelAAEnabled",i)}showText(e){const n=this.current,i=n.font;if(i.isType3Font)return this.showType3Text(e);const r=n.fontSize;if(r===0)return;const s=this.ctx,a=n.fontSizeScale,u=n.charSpacing,c=n.wordSpacing,f=n.fontDirection,h=n.textHScale*f,g=e.length,y=i.vertical,S=y?1:-1,T=i.defaultVMetrics,C=r*n.fontMatrix[0],_=n.textRenderingMode===zn.FILL&&!i.disableFontFace&&!n.patternFill;s.save(),s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),f>0?s.scale(h,-1):s.scale(h,1);let x;if(n.patternFill){s.save();const F=n.fillColor.getPattern(s,this,Hs(s),ei.FILL);x=qt(s),s.restore(),s.fillStyle=F}let R=n.lineWidth;const M=n.textMatrixScale;if(M===0||R===0){const F=n.textRenderingMode&zn.FILL_STROKE_MASK;(F===zn.STROKE||F===zn.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=M;if(a!==1&&(s.scale(a,a),R/=a),s.lineWidth=R,i.isInvalidPDFjsFont){const F=[];let q=0;for(const z of e)F.push(z.unicode),q+=z.width;s.fillText(F.join(""),0,0),n.x+=q*C*h,s.restore(),this.compose();return}let U=0,k;for(k=0;k<g;++k){const F=e[k];if(typeof F=="number"){U+=S*F*r/1e3;continue}let q=!1;const z=(F.isSpace?c:0)+u,G=F.fontChar,ee=F.accent;let K,ie,he=F.width;if(y){const de=F.vmetric||T,Y=-(F.vmetric?de[1]:he*.5)*C,J=de[2]*C;he=de?-de[0]:he,K=Y/a,ie=(U+J)/a}else K=U/a,ie=0;if(i.remeasure&&he>0){const de=s.measureText(G).width*1e3/r*a;if(he<de&&this.isFontSubpixelAAEnabled){const Y=he/de;q=!0,s.save(),s.scale(Y,1),K/=Y}else he!==de&&(K+=(he-de)/2e3*r/a)}if(this.contentVisible&&(F.isInFont||i.missingFile)){if(_&&!ee)s.fillText(G,K,ie);else if(this.paintChar(G,K,ie,x),ee){const de=K+r*ee.offset.x/a,Y=ie-r*ee.offset.y/a;this.paintChar(ee.fontChar,de,Y,x)}}const fe=y?he*C-z*f:he*C+z*f;U+=fe,q&&s.restore()}y?n.y-=U:n.x+=U*h,s.restore(),this.compose()}showType3Text(e){const n=this.ctx,i=this.current,r=i.font,s=i.fontSize,a=i.fontDirection,u=r.vertical?1:-1,c=i.charSpacing,f=i.wordSpacing,h=i.textHScale*a,g=i.fontMatrix||PE,y=e.length,S=i.textRenderingMode===zn.INVISIBLE;let T,C,_,x;if(!(S||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...i.textMatrix),n.translate(i.x,i.y),n.scale(h,a),T=0;T<y;++T){if(C=e[T],typeof C=="number"){x=u*C*s/1e3,this.ctx.translate(x,0),i.x+=x*h;continue}const R=(C.isSpace?f:0)+c,M=r.charProcOperatorList[C.operatorListId];if(!M){ze(`Type3 character "${C.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=C,this.save(),n.scale(s,s),n.transform(...g),this.executeOperatorList(M),this.restore()),_=Ce.applyTransform([C.width,0],g)[0]*s+R,n.translate(_,0),i.x+=_*h}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,i,r,s,a){this.ctx.rect(i,r,s-i,a-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const i=e[1],r=this.baseTransform||qt(this.ctx),s={createCanvasGraphics:a=>new Jw(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new rC(e,i,this.ctx,s,r)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,i){const r=Ce.makeHexColor(e,n,i);this.ctx.strokeStyle=r,this.current.strokeColor=r}setFillRGBColor(e,n,i){const r=Ce.makeHexColor(e,n,i);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}_getPattern(e,n=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=V4(this.getObject(e)),this.cachedPatterns.set(e,i)),n&&(i.matrix=n),i}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const i=this._getPattern(e);n.fillStyle=i.getPattern(n,this,Hs(n),ei.SHADING);const r=Hs(n);if(r){const{width:s,height:a}=n.canvas,[u,c,f,h]=Ce.getAxialAlignedBoundingBox([0,0,s,a],r);this.ctx.fillRect(u,c,f-u,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){At("Should not call beginInlineImage")}beginImageData(){At("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=qt(this.ctx),n)){const i=n[2]-n[0],r=n[3]-n[1];this.ctx.rect(n[0],n[1],i,r),this.current.updateRectMinMax(qt(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||N0("TODO: Support non-isolated groups."),e.knockout&&ze("Knockout groups not supported.");const i=qt(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Ce.getAxialAlignedBoundingBox(e.bbox,qt(n));const s=[0,0,n.canvas.width,n.canvas.height];r=Ce.intersect(r,s)||[0,0,0,0];const a=Math.floor(r[0]),u=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-a,1),f=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,c,f]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,c,f),y=g.context;y.translate(-a,-u),y.transform(...i),e.smask?this.smaskStack.push({canvas:g.canvas,context:y,offsetX:a,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(a,u),n.save()),gh(n,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=qt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const s=Ce.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],r);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,n,i,r,s){if(N(this,Ga,sC).call(this),Ev(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const a=n[2]-n[0],u=n[3]-n[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=a,n[3]=u;const[c,f]=Ce.singularValueDecompose2dScale(qt(this.ctx)),{viewportScale:h}=this,g=Math.ceil(a*this.outputScaleX*h),y=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(g,y);const{canvas:S,context:T}=this.annotationCanvas;this.annotationCanvasMap.set(e,S),this.annotationCanvas.savedCtx=this.ctx,this.ctx=T,this.ctx.save(),this.ctx.setTransform(c,0,0,-f,0,u*f),Ev(this.ctx)}else Ev(this.ctx),this.ctx.rect(n[0],n[1],a,u),this.ctx.clip(),this.endPath()}this.current=new dD(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),N(this,Ga,oC).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=K4(e)),r.compiled)){r.compiled(i);return}const s=this._createMaskCanvas(e),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,i=0,r=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const u=this.ctx;u.save();const c=qt(u);u.transform(n,i,r,s,0,0);const f=this._createMaskCanvas(e);u.setTransform(1,0,0,1,f.offsetX-c[4],f.offsetY-c[5]);for(let h=0,g=a.length;h<g;h+=2){const y=Ce.transform(c,[n,i,r,s,a[h],a[h+1]]),[S,T]=Ce.applyTransform([0,0],y);u.drawImage(f.canvas,S,T)}u.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const s of e){const{data:a,width:u,height:c,transform:f}=s,h=this.cachedCanvases.getCanvas("maskCanvas",u,c),g=h.context;g.save();const y=this.getObject(a,s);pD(g,y),g.globalCompositeOperation="source-in",g.fillStyle=r?i.getPattern(g,this,Hs(n),ei.FILL):i,g.fillRect(0,0,u,c),g.restore(),n.save(),n.transform(...f),n.scale(1,-1),Tv(n,h.canvas,0,0,u,c,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){ze("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,i,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){ze("Dependent image isn't ready yet");return}const a=s.width,u=s.height,c=[];for(let f=0,h=r.length;f<h;f+=2)c.push({transform:[n,0,0,i,r[f],r[f+1]],x:0,y:0,w:a,h:u});this.paintInlineImageXObjectGroup(s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,i=e.height,r=this.ctx;if(this.save(),!jn){const{filter:u}=r;u!=="none"&&u!==""&&(r.filter="none")}r.scale(1/n,-1/i);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",n,i).context;hD(c,e),s=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(s,Hs(r));r.imageSmoothingEnabled=mD(qt(r),e.interpolate),Tv(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-i,n,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const s=e.width,a=e.height,c=this.cachedCanvases.getCanvas("inlineImage",s,a).context;hD(c,e),r=this.applyTransferMapsToCanvas(c)}for(const s of n)i.save(),i.transform(...s.transform),i.scale(1,-1),Tv(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(n||(this.pendingClip===gD?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=qt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:i,c:r,d:s}=this.ctx.getTransform();let a,u;if(i===0&&r===0){const c=Math.abs(n),f=Math.abs(s);if(c===f)if(e===0)a=u=1/c;else{const h=c*e;a=u=h<1?1/h:1}else if(e===0)a=1/c,u=1/f;else{const h=c*e,g=f*e;a=h<1?1/h:1,u=g<1?1/g:1}}else{const c=Math.abs(n*s-i*r),f=Math.hypot(n,i),h=Math.hypot(r,s);if(e===0)a=h/c,u=f/c;else{const g=e*c;a=h>g?h/g:1,u=f>g?f/g:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(n.lineWidth=i||1,r===1&&s===1){n.stroke();return}const a=n.getLineDash();if(e&&n.save(),n.scale(r,s),a.length>0){const u=Math.max(r,s);n.setLineDash(a.map(c=>c/u)),n.lineDashOffset/=u}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Ga=new WeakSet,sC=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},oC=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}};let Gc=Jw;for(const t in Mr)Gc.prototype[t]!==void 0&&(Gc.prototype[Mr[t]]=Gc.prototype[t]);var Op,Fp;class To{static get workerPort(){return b(this,Op)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");P(this,Op,e)}static get workerSrc(){return b(this,Fp)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");P(this,Fp,e)}}Op=new WeakMap,Fp=new WeakMap,L(To,Op,null),L(To,Fp,"");const Cv={DATA:1,ERROR:2},Zt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Di(t){switch(t instanceof Error||typeof t=="object"&&t!==null||At('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Uu(t.message);case"MissingPDFException":return new Fu(t.message);case"PasswordException":return new NE(t.message,t.code);case"UnexpectedResponseException":return new I0(t.message,t.status);case"UnknownErrorException":return new IE(t.message,t.details);default:return new IE(t.message,t.toString())}}var As,b2,A2,Wv;class Nh{constructor(e,n,i){L(this,As);this.sourceName=e,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=r=>{const s=r.data;if(s.targetName!==this.sourceName)return;if(s.stream){N(this,As,A2).call(this,s);return}if(s.callback){const u=s.callbackId,c=this.callbackCapabilities[u];if(!c)throw new Error(`Cannot resolve callback ${u}`);if(delete this.callbackCapabilities[u],s.callback===Cv.DATA)c.resolve(s.data);else if(s.callback===Cv.ERROR)c.reject(Di(s.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[s.action];if(!a)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const u=this.sourceName,c=s.sourceName;new Promise(function(f){f(a(s.data))}).then(function(f){i.postMessage({sourceName:u,targetName:c,callback:Cv.DATA,callbackId:s.callbackId,data:f})},function(f){i.postMessage({sourceName:u,targetName:c,callback:Cv.ERROR,callbackId:s.callbackId,reason:Di(f)})});return}if(s.streamId){N(this,As,b2).call(this,s);return}a(s.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,n){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=n}send(e,n,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},i)}sendWithPromise(e,n,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:n},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,n,i,r){const s=this.streamId++,a=this.sourceName,u=this.targetName,c=this.comObj;return new ReadableStream({start:f=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:f,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:u,action:e,streamId:s,data:n,desiredSize:f.desiredSize},r),h.promise},pull:f=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,c.postMessage({sourceName:a,targetName:u,stream:Zt.PULL,streamId:s,desiredSize:f.desiredSize}),h.promise},cancel:f=>{hn(f instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:u,stream:Zt.CANCEL,streamId:s,reason:Di(f)}),h.promise}},i)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}As=new WeakSet,b2=function(e){const n=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this,u=this.actionHandler[e.action],c={enqueue(f,h=1,g){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=h,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:Zt.ENQUEUE,streamId:n,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Zt.CLOSE,streamId:n}),delete a.streamSinks[n])},error(f){hn(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Zt.ERROR,streamId:n,reason:Di(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,new Promise(function(f){f(u(e.data,c))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Zt.START_COMPLETE,streamId:n,success:!0})},function(f){s.postMessage({sourceName:i,targetName:r,stream:Zt.START_COMPLETE,streamId:n,reason:Di(f)})})},A2=function(e){const n=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[n],u=this.streamSinks[n];switch(e.stream){case Zt.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Di(e.reason));break;case Zt.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Di(e.reason));break;case Zt.PULL:if(!u){s.postMessage({sourceName:i,targetName:r,stream:Zt.PULL_COMPLETE,streamId:n,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,new Promise(function(c){var f;c((f=u.onPull)==null?void 0:f.call(u))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Zt.PULL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:Zt.PULL_COMPLETE,streamId:n,reason:Di(c)})});break;case Zt.ENQUEUE:if(hn(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Zt.CLOSE:if(hn(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),N(this,As,Wv).call(this,a,n);break;case Zt.ERROR:hn(a,"error should have stream controller"),a.controller.error(Di(e.reason)),N(this,As,Wv).call(this,a,n);break;case Zt.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Di(e.reason)),N(this,As,Wv).call(this,a,n);break;case Zt.CANCEL:if(!u)break;new Promise(function(c){var f;c((f=u.onCancel)==null?void 0:f.call(u,Di(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Zt.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:Zt.CANCEL_COMPLETE,streamId:n,reason:Di(c)})}),u.sinkCapability.reject(Di(e.reason)),u.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},Wv=async function(e,n){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[n]};var $l,Up;class J4{constructor({parsedData:e,rawData:n}){L(this,$l);L(this,Up);P(this,$l,e),P(this,Up,n)}getRaw(){return b(this,Up)}get(e){return b(this,$l).get(e)??null}getAll(){return W_(b(this,$l))}has(e){return b(this,$l).has(e)}}$l=new WeakMap,Up=new WeakMap;const da=Symbol("INTERNAL");var Bp,qp,Hp,df;class Q4{constructor(e,{name:n,intent:i,usage:r}){L(this,Bp,!1);L(this,qp,!1);L(this,Hp,!1);L(this,df,!0);P(this,Bp,!!(e&pr.DISPLAY)),P(this,qp,!!(e&pr.PRINT)),this.name=n,this.intent=i,this.usage=r}get visible(){if(b(this,Hp))return b(this,df);if(!b(this,df))return!1;const{print:e,view:n}=this.usage;return b(this,Bp)?(n==null?void 0:n.viewState)!=="OFF":b(this,qp)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,i=!1){e!==da&&At("Internal method `_setVisible` called."),P(this,Hp,i),P(this,df,n)}}Bp=new WeakMap,qp=new WeakMap,Hp=new WeakMap,df=new WeakMap;var Ea,bt,hf,pf,Vp,aC;class Z4{constructor(e,n=pr.DISPLAY){L(this,Vp);L(this,Ea,null);L(this,bt,new Map);L(this,hf,null);L(this,pf,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,P(this,pf,e.order);for(const i of e.groups)b(this,bt).set(i.id,new Q4(n,i));if(e.baseState==="OFF")for(const i of b(this,bt).values())i._setVisible(da,!1);for(const i of e.on)b(this,bt).get(i)._setVisible(da,!0);for(const i of e.off)b(this,bt).get(i)._setVisible(da,!1);P(this,hf,this.getHash())}}isVisible(e){if(b(this,bt).size===0)return!0;if(!e)return N0("Optional content group not defined."),!0;if(e.type==="OCG")return b(this,bt).has(e.id)?b(this,bt).get(e.id).visible:(ze(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return N(this,Vp,aC).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!b(this,bt).has(n))return ze(`Optional content group not found: ${n}`),!0;if(b(this,bt).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!b(this,bt).has(n))return ze(`Optional content group not found: ${n}`),!0;if(!b(this,bt).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!b(this,bt).has(n))return ze(`Optional content group not found: ${n}`),!0;if(!b(this,bt).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!b(this,bt).has(n))return ze(`Optional content group not found: ${n}`),!0;if(b(this,bt).get(n).visible)return!1}return!0}return ze(`Unknown optional content policy ${e.policy}.`),!0}return ze(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0){const i=b(this,bt).get(e);if(!i){ze(`Optional content group not found: ${e}`);return}i._setVisible(da,!!n,!0),P(this,Ea,null)}setOCGState({state:e,preserveRB:n}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=b(this,bt).get(r);if(s)switch(i){case"ON":s._setVisible(da,!0);break;case"OFF":s._setVisible(da,!1);break;case"Toggle":s._setVisible(da,!s.visible);break}}P(this,Ea,null)}get hasInitialVisibility(){return b(this,hf)===null||this.getHash()===b(this,hf)}getOrder(){return b(this,bt).size?b(this,pf)?b(this,pf).slice():[...b(this,bt).keys()]:null}getGroups(){return b(this,bt).size>0?W_(b(this,bt)):null}getGroup(e){return b(this,bt).get(e)||null}getHash(){if(b(this,Ea)!==null)return b(this,Ea);const e=new m2;for(const[n,i]of b(this,bt))e.update(`${n}:${i.visible}`);return P(this,Ea,e.hexdigest())}}Ea=new WeakMap,bt=new WeakMap,hf=new WeakMap,pf=new WeakMap,Vp=new WeakSet,aC=function(e){const n=e.length;if(n<2)return!0;const i=e[0];for(let r=1;r<n;r++){const s=e[r];let a;if(Array.isArray(s))a=N(this,Vp,aC).call(this,s);else if(b(this,bt).has(s))a=b(this,bt).get(s).visible;else return ze(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class eG{constructor(e,{disableRange:n=!1,disableStream:i=!1}){hn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=u,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,f)=>{this._onReceiveData({begin:c,chunk:f})}),e.addProgressListener((c,f)=>{this._onProgress({loaded:c,total:f})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});hn(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,i,r,s;e.total===void 0?(i=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||i.call(n,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){hn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new tG(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new nG(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class tG{constructor(e,n,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=tx(r)?r:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class nG{constructor(e,n,i){this._stream=e,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function iG(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let h=u(n);return h=unescape(h),h=c(h),h=f(h),s(h)}if(n=a(t),n){const h=f(n);return s(h)}if(n=i("filename","i").exec(t),n){n=n[1];let h=u(n);return h=f(h),s(h)}function i(h,g){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function r(h,g){if(h){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const y=new TextDecoder(h,{fatal:!0}),S=k0(g);g=y.decode(S),e=!1}catch{}}return g}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=r("utf-8",h),e&&(h=r("iso-8859-1",h))),h}function a(h){const g=[];let y;const S=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=S.exec(h))!==null;){let[,C,_,x]=y;if(C=parseInt(C,10),C in g){if(C===0)break;continue}g[C]=[_,x]}const T=[];for(let C=0;C<g.length&&C in g;++C){let[_,x]=g[C];x=u(x),_&&(x=unescape(x),C===0&&(x=c(x))),T.push(x)}return T.join("")}function u(h){if(h.startsWith('"')){const g=h.slice(1).split('\\"');for(let y=0;y<g.length;++y){const S=g[y].indexOf('"');S!==-1&&(g[y]=g[y].slice(0,S),g.length=y+1),g[y]=g[y].replaceAll(/\\(.)/g,"$1")}h=g.join('"')}return h}function c(h){const g=h.indexOf("'");if(g===-1)return h;const y=h.slice(0,g),T=h.slice(g+1).replace(/^[^']*'/,"");return r(y,T)}function f(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,y,S,T){if(S==="q"||S==="Q")return T=T.replaceAll("_"," "),T=T.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,_){return String.fromCharCode(parseInt(_,16))}),r(y,T);try{T=atob(T)}catch{}return r(y,T)})}return""}function rx({getResponseHeader:t,isHttp:e,rangeChunkSize:n,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*n)||i||!e||t("Accept-Ranges")!=="bytes"||(t("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function sx(t){const e=t("Content-Disposition");if(e){let n=iG(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(tx(n))return n}return null}function B0(t,e){return t===404||t===0&&e.startsWith("file:")?new Fu('Missing PDF "'+e+'".'):new I0(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function S2(t){return t===200||t===206}function T2(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function E2(t){const e=new Headers;for(const n in t){const i=t[n];i!==void 0&&e.append(n,i)}return e}function C2(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(ze(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class vD{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return hn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new rG(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new sG(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class rG{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._headers=E2(this._stream.httpHeaders);const i=n.url;fetch(i,T2(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!S2(r.status))throw B0(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const s=c=>r.headers.get(c),{allowRangeRequests:a,suggestedLength:u}=rx({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=u||this._contentLength,this._filename=sx(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Uu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:C2(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class sG{constructor(e,n,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=E2(this._stream.httpHeaders),this._headers.append("Range",`bytes=${n}-${i-1}`);const s=r.url;fetch(s,T2(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!S2(a.status))throw B0(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:C2(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const zS=200,GS=206;function oG(t){const e=t.response;return typeof e!="string"?e:k0(e).buffer}class aG{constructor(e,n={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,n,i){const r={begin:e,end:n};for(const s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const n=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const a=this.httpHeaders[s];a!==void 0&&n.setRequestHeader(s,a)}return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=GS):r.expectedStatus=zS,n.responseType="arraybuffer",e.onError&&(n.onerror=function(s){e.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,i),n.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,n.send(null),i}onProgress(e,n){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,n))}onStateChange(e,n){var c,f,h;const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(c=i.onError)==null||c.call(i,r.status);return}const s=r.status||zS;if(!(s===zS&&i.expectedStatus===GS)&&s!==i.expectedStatus){(f=i.onError)==null||f.call(i,r.status);return}const u=oG(r);if(s===GS){const g=r.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);i.onDone({begin:parseInt(y[1],10),chunk:u})}else u?i.onDone({begin:0,chunk:u}):(h=i.onError)==null||h.call(i,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class lG{constructor(e){this._source=e,this._manager=new aG(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return hn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new uG(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const i=new cG(this._manager,e,n);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class uG{constructor(e,n){this._manager=e;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e),i=a=>n.getResponseHeader(a),{allowRangeRequests:r,suggestedLength:s}=rx({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=sx(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=B0(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class cG{constructor(e,n,i){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=B0(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const _2=/^file:\/\/\/[a-zA-Z]:\//;function fG(t){const e=Ts.get("url"),n=e.parse(t);return n.protocol==="file:"||n.host?n:/^[a-z]:[/\\]/i.test(t)?e.parse(`file:///${t}`):(n.host||(n.protocol="file:"),n)}class dG{constructor(e){this.source=e,this.url=fG(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return hn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new mG(this):new hG(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=this.isFsUrl?new gG(this,e,n):new pG(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class x2{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Uu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class w2{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Ey(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class hG extends x2{constructor(e){super(e);const n=i=>{if(i.statusCode===404){const u=new Fu(`Missing PDF "${this._url}".`);this._storedError=u,this._headersCapability.reject(u);return}this._headersCapability.resolve(),this._setReadableStream(i);const r=u=>this._readableStream.headers[u.toLowerCase()],{allowRangeRequests:s,suggestedLength:a}=rx({getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=sx(r)};if(this._request=null,this._url.protocol==="http:"){const i=Ts.get("http");this._request=i.request(Ey(this._url,e.httpHeaders),n)}else{const i=Ts.get("https");this._request=i.request(Ey(this._url,e.httpHeaders),n)}this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class pG extends w2{constructor(e,n,i){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const a=e.httpHeaders[s];a!==void 0&&(this._httpHeaders[s]=a)}this._httpHeaders.Range=`bytes=${n}-${i-1}`;const r=s=>{if(s.statusCode===404){const a=new Fu(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Ts.get("http");this._request=s.request(Ey(this._url,this._httpHeaders),r)}else{const s=Ts.get("https");this._request=s.request(Ey(this._url,this._httpHeaders),r)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class mG extends x2{constructor(e){super(e);let n=decodeURIComponent(this._url.path);_2.test(this._url.href)&&(n=n.replace(/^\//,""));const i=Ts.get("fs");i.promises.lstat(n).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(n)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new Fu(`Missing PDF "${n}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class gG extends w2{constructor(e,n,i){super(e);let r=decodeURIComponent(this._url.path);_2.test(this._url.href)&&(r=r.replace(/^\//,""));const s=Ts.get("fs");this._setReadableStream(s.createReadStream(r,{start:n,end:i-1}))}}const vG=1e5,ci=30,yG=.8;var kO,Ca,hi,zp,Gp,Yl,eo,$p,Yp,Kl,mf,gf,_a,vf,Kp,yf,jl,jp,Xp,Xl,Wl,xa,bf,Io,M2,R2,lC,Ss,Jv,P2,D2;const $n=class $n{constructor({textContentSource:e,container:n,viewport:i}){L(this,Io);L(this,Ca,Promise.withResolvers());L(this,hi,null);L(this,zp,!1);L(this,Gp,!!((kO=globalThis.FontInspector)!=null&&kO.enabled));L(this,Yl,null);L(this,eo,null);L(this,$p,0);L(this,Yp,0);L(this,Kl,null);L(this,mf,null);L(this,gf,0);L(this,_a,0);L(this,vf,Object.create(null));L(this,Kp,[]);L(this,yf,null);L(this,jl,[]);L(this,jp,new WeakMap);L(this,Xp,null);var c;if(e instanceof ReadableStream)P(this,yf,e);else if(typeof e=="object")P(this,yf,new ReadableStream({start(f){f.enqueue(e),f.close()}}));else throw new Error('No "textContentSource" parameter specified.');P(this,hi,P(this,mf,n)),P(this,_a,i.scale*(globalThis.devicePixelRatio||1)),P(this,gf,i.rotation),P(this,eo,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:u}=i.rawDims;P(this,Xp,[1,0,0,-1,-a,u+s]),P(this,Yp,r),P(this,$p,s),N(c=$n,Ss,P2).call(c),Mu(n,i),b(this,Ca).promise.catch(()=>{}).then(()=>{b($n,bf).delete(this),P(this,eo,null),P(this,vf,null)})}render(){const e=()=>{b(this,Kl).read().then(({value:n,done:i})=>{if(i){b(this,Ca).resolve();return}b(this,Yl)??P(this,Yl,n.lang),Object.assign(b(this,vf),n.styles),N(this,Io,M2).call(this,n.items),e()},b(this,Ca).reject)};return P(this,Kl,b(this,yf).getReader()),b($n,bf).add(this),e(),b(this,Ca).promise}update({viewport:e,onBefore:n=null}){var s;const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==b(this,gf)&&(n==null||n(),P(this,gf,r),Mu(b(this,mf),{rotation:r})),i!==b(this,_a)){n==null||n(),P(this,_a,i);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:N(s=$n,Ss,Jv).call(s,b(this,Yl))};for(const u of b(this,jl))a.properties=b(this,jp).get(u),a.div=u,N(this,Io,lC).call(this,a)}}cancel(){var n;const e=new Uu("TextLayer task cancelled.");(n=b(this,Kl))==null||n.cancel(e).catch(()=>{}),P(this,Kl,null),b(this,Ca).reject(e)}get textDivs(){return b(this,jl)}get textContentItemsStr(){return b(this,Kp)}static cleanup(){if(!(b(this,bf).size>0)){b(this,Xl).clear();for(const{canvas:e}of b(this,Wl).values())e.remove();b(this,Wl).clear()}}};Ca=new WeakMap,hi=new WeakMap,zp=new WeakMap,Gp=new WeakMap,Yl=new WeakMap,eo=new WeakMap,$p=new WeakMap,Yp=new WeakMap,Kl=new WeakMap,mf=new WeakMap,gf=new WeakMap,_a=new WeakMap,vf=new WeakMap,Kp=new WeakMap,yf=new WeakMap,jl=new WeakMap,jp=new WeakMap,Xp=new WeakMap,Xl=new WeakMap,Wl=new WeakMap,xa=new WeakMap,bf=new WeakMap,Io=new WeakSet,M2=function(e){var r,s;if(b(this,zp))return;(s=b(this,eo)).ctx??(s.ctx=N(r=$n,Ss,Jv).call(r,b(this,Yl)));const n=b(this,jl),i=b(this,Kp);for(const a of e){if(n.length>vG){ze("Ignoring additional textDivs for performance reasons."),P(this,zp,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const u=b(this,hi);P(this,hi,document.createElement("span")),b(this,hi).classList.add("markedContent"),a.id!==null&&b(this,hi).setAttribute("id",`${a.id}`),u.append(b(this,hi))}else a.type==="endMarkedContent"&&P(this,hi,b(this,hi).parentNode);continue}i.push(a.str),N(this,Io,R2).call(this,a)}},R2=function(e){var C;const n=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};b(this,jl).push(n);const r=Ce.transform(b(this,Xp),e.transform);let s=Math.atan2(r[1],r[0]);const a=b(this,vf)[e.fontName];a.vertical&&(s+=Math.PI/2);const u=b(this,Gp)&&a.fontSubstitution||a.fontFamily,c=Math.hypot(r[2],r[3]),f=c*N(C=$n,Ss,D2).call(C,u,b(this,Yl));let h,g;s===0?(h=r[4],g=r[5]-f):(h=r[4]+f*Math.sin(s),g=r[5]-f*Math.cos(s));const y="calc(var(--scale-factor)*",S=n.style;b(this,hi)===b(this,mf)?(S.left=`${(100*h/b(this,Yp)).toFixed(2)}%`,S.top=`${(100*g/b(this,$p)).toFixed(2)}%`):(S.left=`${y}${h.toFixed(2)}px)`,S.top=`${y}${g.toFixed(2)}px)`),S.fontSize=`${y}${(b($n,xa)*c).toFixed(2)}px)`,S.fontFamily=u,i.fontSize=c,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,b(this,Gp)&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let T=!1;if(e.str.length>1)T=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);_!==x&&Math.max(_,x)/Math.min(_,x)>1.5&&(T=!0)}if(T&&(i.canvasWidth=a.vertical?e.height:e.width),b(this,jp).set(n,i),b(this,eo).div=n,b(this,eo).properties=i,N(this,Io,lC).call(this,b(this,eo)),i.hasText&&b(this,hi).append(n),i.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),b(this,hi).append(_)}},lC=function(e){const{div:n,properties:i,ctx:r,prevFontSize:s,prevFontFamily:a}=e,{style:u}=n;let c="";if(b($n,xa)>1&&(c=`scale(${1/b($n,xa)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:f}=u,{canvasWidth:h,fontSize:g}=i;(s!==g||a!==f)&&(r.font=`${g*b(this,_a)}px ${f}`,e.prevFontSize=g,e.prevFontFamily=f);const{width:y}=r.measureText(n.textContent);y>0&&(c=`scaleX(${h*b(this,_a)/y}) ${c}`)}i.angle!==0&&(c=`rotate(${i.angle}deg) ${c}`),c.length>0&&(u.transform=c)},Ss=new WeakSet,Jv=function(e=null){let n=b(this,Wl).get(e||(e=""));if(!n){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),n=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),b(this,Wl).set(e,n)}return n},P2=function(){if(b(this,xa)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),P(this,xa,e.getBoundingClientRect().height),e.remove()},D2=function(e,n){const i=b(this,Xl).get(e);if(i)return i;const r=N(this,Ss,Jv).call(this,n),s=r.font;r.canvas.width=r.canvas.height=ci,r.font=`${ci}px ${e}`;const a=r.measureText("");let u=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);if(u){const g=u/(u+c);return b(this,Xl).set(e,g),r.canvas.width=r.canvas.height=0,r.font=s,g}r.strokeStyle="red",r.clearRect(0,0,ci,ci),r.strokeText("g",0,0);let f=r.getImageData(0,0,ci,ci).data;c=0;for(let g=f.length-1-3;g>=0;g-=4)if(f[g]>0){c=Math.ceil(g/4/ci);break}r.clearRect(0,0,ci,ci),r.strokeText("A",0,ci),f=r.getImageData(0,0,ci,ci).data,u=0;for(let g=0,y=f.length;g<y;g+=4)if(f[g]>0){u=ci-Math.floor(g/4/ci);break}r.canvas.width=r.canvas.height=0,r.font=s;const h=u?u/(u+c):yG;return b(this,Xl).set(e,h),h},L($n,Ss),L($n,Xl,new Map),L($n,Wl,new Map),L($n,xa,null),L($n,bf,new Set);let jf=$n;function bG(){zO("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:t,container:e,viewport:n,...i}=arguments[0],r=Object.keys(i);r.length>0&&ze("Ignoring `renderTextLayer` parameters: "+r.join(", "));const s=new jf({textContentSource:t,container:e,viewport:n}),{textDivs:a,textContentItemsStr:u}=s;return{promise:s.render(),textDivs:a,textContentItemsStr:u}}function AG(){zO("`updateTextLayer`, please use `TextLayer` instead.")}class jh{static textContent(e){const n=[],i={items:n,styles:Object.create(null)};function r(s){var c;if(!s)return;let a=null;const u=s.name;if(u==="#text")a=s.value;else if(jh.shouldBuildText(u))(c=s==null?void 0:s.attributes)!=null&&c.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&n.push({str:a}),!!s.children)for(const f of s.children)r(f)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const SG=65536,TG=100,EG=5e3,CG=jn?L4:T4,_G=jn?O4:HO,xG=jn?k4:S4,wG=jn?F4:VO;function MG(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new uC,{docId:n}=e,i=t.url?RG(t.url):null,r=t.data?PG(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,u=t.password??null,c=t.range instanceof N2?t.range:null,f=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:SG;let h=t.worker instanceof $c?t.worker:null;const g=t.verbosity,y=typeof t.docBaseUrl=="string"&&!ex(t.docBaseUrl)?t.docBaseUrl:null,S=typeof t.cMapUrl=="string"?t.cMapUrl:null,T=t.cMapPacked!==!1,C=t.CMapReaderFactory||_G,_=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,x=t.StandardFontDataFactory||wG,R=t.stopAtErrors!==!0,M=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,U=t.isEvalSupported!==!1,k=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!jn,F=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,q=typeof t.disableFontFace=="boolean"?t.disableFontFace:jn,z=t.fontExtraProperties===!0,G=t.enableXfa===!0,ee=t.ownerDocument||globalThis.document,K=t.disableRange===!0,ie=t.disableStream===!0,he=t.disableAutoFetch===!0,fe=t.pdfBug===!0,de=t.enableHWA===!0,Y=c?c.length:t.length??NaN,J=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!jn&&!q,se=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:C===HO&&x===VO&&S&&_&&Rh(S,document.baseURI)&&Rh(_,document.baseURI),_e=t.canvasFactory||new CG({ownerDocument:ee,enableHWA:de}),H=t.filterFactory||new xG({docId:n,ownerDocument:ee}),ae=null;c4(g);const ne={canvasFactory:_e,filterFactory:H};if(se||(ne.cMapReaderFactory=new C({baseUrl:S,isCompressed:T}),ne.standardFontDataFactory=new x({baseUrl:_})),!h){const Me={verbosity:g,port:To.workerPort};h=Me.port?$c.fromPort(Me):new $c(Me),e._worker=h}const ce={docId:n,apiVersion:"4.4.168",data:r,password:u,disableAutoFetch:he,rangeChunkSize:f,length:Y,docBaseUrl:y,enableXfa:G,evaluatorOptions:{maxImageSize:M,disableFontFace:q,ignoreErrors:R,isEvalSupported:U,isOffscreenCanvasSupported:k,canvasMaxAreaInBytes:F,fontExtraProperties:z,useSystemFonts:J,cMapUrl:se?S:null,standardFontDataUrl:se?_:null}},be={disableFontFace:q,fontExtraProperties:z,ownerDocument:ee,pdfBug:fe,styleElement:ae,loadingParams:{disableAutoFetch:he,enableXfa:G}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Me=h.messageHandler.sendWithPromise("GetDocRequest",ce,r?[r.buffer]:null);let xe;if(c)xe=new eG(c,{disableRange:K,disableStream:ie});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");xe=(He=>jn?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Rh(He.url)?new vD(He):new dG(He):Rh(He.url)?new vD(He):new lG(He))({url:i,length:Y,httpHeaders:s,withCredentials:a,rangeChunkSize:f,disableRange:K,disableStream:ie})}return Me.then($e=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const He=new Nh(n,$e,h.port),pe=new kG(He,e,xe,be,ne);e._transport=pe,He.send("Ready",null)})}).catch(e._capability.reject),e}function RG(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(jn&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function PG(t){if(jn&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return k0(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function yD(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var T0;const E0=class E0{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Pi(E0,T0)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};T0=new WeakMap,L(E0,T0,0);let uC=E0;class N2{constructor(e,n,i=!1,r=null){this.length=e,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const i of this._rangeListeners)i(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){At("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class DG{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var wa,to,vr,Fc,Qv;class NG{constructor(e,n,i,r=!1){L(this,vr);L(this,wa,null);L(this,to,!1);this._pageIndex=e,this._pageInfo=n,this._transport=i,this._stats=r?new rD:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new I2,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new qm({viewBox:this.view,scale:e,rotation:n,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:i="display",annotationMode:r=ga.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:u=null,annotationCanvasMap:c=null,pageColors:f=null,printAnnotationStorage:h=null}){var M,U;(M=this._stats)==null||M.time("Overall");const g=this._transport.getRenderingIntent(i,r,h),{renderingIntent:y,cacheKey:S}=g;P(this,to,!1),N(this,vr,Qv).call(this),u||(u=this._transport.getOptionalContentConfig(y));let T=this._intentStates.get(S);T||(T=Object.create(null),this._intentStates.set(S,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const C=!!(y&pr.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(U=this._stats)==null||U.time("Page Request"),this._pumpOperatorList(g));const _=k=>{var F;T.renderTasks.delete(x),(this._maybeCleanupAfterRender||C)&&P(this,to,!0),N(this,vr,Fc).call(this,!C),k?(x.capability.reject(k),this._abortOperatorList({intentState:T,reason:k instanceof Error?k:new Error(k)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(F=globalThis.Stats)!=null&&F.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new fC({callback:_,params:{canvasContext:e,viewport:n,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:f});(T.renderTasks||(T.renderTasks=new Set)).add(x);const R=x.task;return Promise.all([T.displayReadyCapability.promise,u]).then(([k,F])=>{var q;if(this.destroyed){_();return}if((q=this._stats)==null||q.time("Rendering"),!(F.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:k,optionalContentConfig:F}),x.operatorListChanged()}).catch(_),R}getOperatorList({intent:e="display",annotationMode:n=ga.ENABLE,printAnnotationStorage:i=null}={}){var c;function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(u))}const s=this._transport.getRenderingIntent(e,n,i,!0);let a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let u;return a.opListReadCapability||(u=Object.create(null),u.operatorListChanged=r,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(u),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>jh.textContent(i));const n=this.streamTextContent(e);return new Promise(function(i,r){function s(){a.read().then(function({value:c,done:f}){if(f){i(u);return}u.lang??(u.lang=c.lang),Object.assign(u.styles,c.styles),u.items.push(...c.items),s()},r)}const a=n.getReader(),u={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),P(this,to,!1),N(this,vr,Qv).call(this),Promise.all(e)}cleanup(e=!1){P(this,to,!0);const n=N(this,vr,Fc).call(this,!1);return e&&n&&this._stats&&(this._stats=new rD),n}_startRenderPage(e,n){var r,s;const i=this._intentStates.get(n);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,n){for(let i=0,r=e.length;i<r;i++)n.operatorList.fnArray.push(e.fnArray[i]),n.operatorList.argsArray.push(e.argsArray[i]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();e.lastChunk&&N(this,vr,Fc).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:i}){const{map:r,transfer:s}=i,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:r},s).getReader(),c=this._intentStates.get(n);c.streamReader=u;const f=()=>{u.read().then(({value:h,done:g})=>{if(g){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),f())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const g of c.renderTasks)g.operatorListChanged();N(this,vr,Fc).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};f()}_abortOperatorList({intentState:e,reason:n,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof Z_){let r=TG;n.extraDelay>0&&n.extraDelay<1e3&&(r+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},r);return}}if(e.streamReader.cancel(new Uu(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}wa=new WeakMap,to=new WeakMap,vr=new WeakSet,Fc=function(e=!1){if(N(this,vr,Qv).call(this),!b(this,to)||this.destroyed)return!1;if(e)return P(this,wa,setTimeout(()=>{P(this,wa,null),N(this,vr,Fc).call(this,!1)},EG)),!1;for(const{renderTasks:n,operatorList:i}of this._intentStates.values())if(n.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),P(this,to,!1),!0},Qv=function(){b(this,wa)&&(clearTimeout(b(this,wa)),P(this,wa,null))};var Jl,C0;class IG{constructor(){L(this,Jl,new Set);L(this,C0,Promise.resolve())}postMessage(e,n){const i={data:structuredClone(e,n?{transfer:n}:null)};b(this,C0).then(()=>{for(const r of b(this,Jl))r.call(this,i)})}addEventListener(e,n){b(this,Jl).add(n)}removeEventListener(e,n){b(this,Jl).delete(n)}terminate(){b(this,Jl).clear()}}Jl=new WeakMap,C0=new WeakMap;const $s={isWorkerDisabled:!1,fakeWorkerId:0};jn&&($s.isWorkerDisabled=!0,To.workerSrc||(To.workerSrc="./pdf.worker.mjs")),$s.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(e,n);return n.origin===i.origin},$s.createCDNWrapper=function(t){const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Ql,Af,Zv,Sf,ey;const Ni=class Ni{constructor({name:e=null,port:n=null,verbosity:i=f4()}={}){L(this,Af);var r;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((r=b(Ni,Ql))!=null&&r.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(b(Ni,Ql)||P(Ni,Ql,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return jn?Promise.all([Ts.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Nh("main","worker",e),this._messageHandler.on("ready",function(){}),N(this,Af,Zv).call(this)}_initialize(){if($s.isWorkerDisabled||b(Ni,Sf,ey)){this._setupFakeWorker();return}let{workerSrc:e}=Ni;try{$s.isSameOrigin(window.location.href,e)||(e=$s.createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),i=new Nh("main","worker",n),r=()=>{s.abort(),i.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;n.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",u=>{if(s.abort(),this.destroyed||!u){r();return}this._messageHandler=i,this._port=n,this._webWorker=n,N(this,Af,Zv).call(this)}),i.on("ready",u=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};a();return}catch{N0("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){$s.isWorkerDisabled||(ze("Setting up fake worker."),$s.isWorkerDisabled=!0),Ni._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new IG;this._port=n;const i=`fake${$s.fakeWorkerId++}`,r=new Nh(i+"_worker",i,n);e.setup(r,n),this._messageHandler=new Nh(i,i+"_worker",n),N(this,Af,Zv).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=b(Ni,Ql))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(i=b(this,Ql))==null?void 0:i.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Ni(e)}static get workerSrc(){if(To.workerSrc)return To.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ze(this,"_setupFakeWorkerGlobal",(async()=>b(this,Sf,ey)?b(this,Sf,ey):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ql=new WeakMap,Af=new WeakSet,Zv=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Sf=new WeakSet,ey=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},L(Ni,Sf),L(Ni,Ql);let $c=Ni;var no,ls,Tf,Ef,us,Zl,Ih;class kG{constructor(e,n,i,r,s){L(this,Zl);L(this,no,new Map);L(this,ls,new Map);L(this,Tf,new Map);L(this,Ef,new Map);L(this,us,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new I2,this.fontLoader=new N4({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ze(this,"annotationStorage",new ix)}getRenderingIntent(e,n=ga.ENABLE,i=null,r=!1){let s=pr.DISPLAY,a=tC;switch(e){case"any":s=pr.ANY;break;case"display":break;case"print":s=pr.PRINT;break;default:ze(`getRenderingIntent - invalid intent: ${e}`)}switch(n){case ga.DISABLE:s+=pr.ANNOTATIONS_DISABLE;break;case ga.ENABLE:break;case ga.ENABLE_FORMS:s+=pr.ANNOTATIONS_FORMS;break;case ga.ENABLE_STORAGE:s+=pr.ANNOTATIONS_STORAGE,a=(s&pr.PRINT&&i instanceof v2?i:this.annotationStorage).serializable;break;default:ze(`getRenderingIntent - invalid annotationMode: ${n}`)}return r&&(s+=pr.OPLIST),{renderingIntent:s,cacheKey:`${s}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=b(this,us))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of b(this,ls).values())e.push(r._destroy());b(this,ls).clear(),b(this,Tf).clear(),b(this,Ef).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),b(this,no).clear(),this.filterFactory.destroy(),jf.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Uu("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(i,r)=>{hn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}hn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",i=>{const r=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var a;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((a=n.onProgress)==null||a.call(n,this._lastProgress)),s.onProgress=u=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:u.loaded,total:u.total})}),r.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",(i,r)=>{hn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:u}){if(u){r.close();return}hn(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new DG(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new NE(i.message,i.code);break;case"InvalidPDFException":r=new FO(i.message);break;case"MissingPDFException":r=new Fu(i.message);break;case"UnexpectedResponseException":r=new I0(i.message,i.status);break;case"UnknownErrorException":r=new IE(i.message,i.details);break;default:At("DocException - expected a valid Error.")}n._capability.reject(r)}),e.on("PasswordRequest",i=>{if(P(this,us,Promise.withResolvers()),n.onPassword){const r=s=>{s instanceof Error?b(this,us).reject(s):b(this,us).resolve({password:s})};try{n.onPassword(r,i.code)}catch(s){b(this,us).reject(s)}}else b(this,us).reject(new NE(i.message,i.code));return b(this,us).promise}),e.on("DataLoaded",i=>{var r;(r=n.onProgress)==null||r.call(n,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;b(this,ls).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:u,fontExtraProperties:c,pdfBug:f}=this._params;if("error"in s){const S=s.error;ze(`Error during font loading: ${S}`),this.commonObjs.resolve(i,S);break}const h=f&&((a=globalThis.FontInspector)!=null&&a.enabled)?(S,T)=>globalThis.FontInspector.fontAdded(S,T):null,g=new I4(s,{disableFontFace:u,inspectFont:h});this.fontLoader.bind(g).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!c&&g.data&&(g.data=null),this.commonObjs.resolve(i,g)});break;case"CopyLocalImage":const{imageRef:y}=s;hn(y,"The imageRef must be defined.");for(const S of b(this,ls).values())for(const[,T]of S.objs)if((T==null?void 0:T.ref)===y)return T.dataLen?(this.commonObjs.resolve(i,structuredClone(T)),T.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,a])=>{var c;if(this.destroyed)return;const u=b(this,ls).get(r);if(!u.objs.has(i)){if(u._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(s){case"Image":u.objs.resolve(i,a),(a==null?void 0:a.dataLen)>o4&&(u._maybeCleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=n.onProgress)==null||r.call(n,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ze("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,i=b(this,Tf).get(n);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&b(this,Ef).set(s.refStr,e);const a=new NG(n,s,this,this._params.pdfBug);return b(this,ls).set(n,a),a});return b(this,Tf).set(n,r),r}getPageIndex(e){return yD(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return N(this,Zl,Ih).call(this,"GetFieldObjects")}hasJSActions(){return N(this,Zl,Ih).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return N(this,Zl,Ih).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return N(this,Zl,Ih).call(this,"GetOptionalContentConfig").then(n=>new Z4(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=b(this,no).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new J4(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return b(this,no).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of b(this,ls).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),b(this,no).clear(),this.filterFactory.destroy(!0),jf.cleanup()}}cachedPageNumber(e){if(!yD(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return b(this,Ef).get(n)??null}}no=new WeakMap,ls=new WeakMap,Tf=new WeakMap,Ef=new WeakMap,us=new WeakMap,Zl=new WeakSet,Ih=function(e,n=null){const i=b(this,no).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,n);return b(this,no).set(e,r),r};const _v=Symbol("INITIAL_DATA");var kr,Wp,cC;class I2{constructor(){L(this,Wp);L(this,kr,Object.create(null))}get(e,n=null){if(n){const r=N(this,Wp,cC).call(this,e);return r.promise.then(()=>n(r.data)),null}const i=b(this,kr)[e];if(!i||i.data===_v)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const n=b(this,kr)[e];return!!n&&n.data!==_v}resolve(e,n=null){const i=N(this,Wp,cC).call(this,e);i.data=n,i.resolve()}clear(){var e;for(const n in b(this,kr)){const{data:i}=b(this,kr)[n];(e=i==null?void 0:i.bitmap)==null||e.close()}P(this,kr,Object.create(null))}*[Symbol.iterator](){for(const e in b(this,kr)){const{data:n}=b(this,kr)[e];n!==_v&&(yield[e,n])}}}kr=new WeakMap,Wp=new WeakSet,cC=function(e){var n;return(n=b(this,kr))[e]||(n[e]={...Promise.withResolvers(),data:_v})};var Ma;class LG{constructor(e){L(this,Ma,null);P(this,Ma,e),this.onContinue=null}get promise(){return b(this,Ma).capability.promise}cancel(e=0){b(this,Ma).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=b(this,Ma).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=b(this,Ma);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}Ma=new WeakMap;var Ra,eu;const Cl=class Cl{constructor({callback:e,params:n,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:u,canvasFactory:c,filterFactory:f,useRequestAnimationFrame:h=!1,pdfBug:g=!1,pageColors:y=null}){L(this,Ra,null);this.callback=e,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=u,this.canvasFactory=c,this.filterFactory=f,this._pdfBug=g,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new LG(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var u,c;if(this.cancelled)return;if(this._canvas){if(b(Cl,eu).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");b(Cl,eu).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:s,background:a}=this.params;this.gfx=new Gc(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),b(this,Ra)&&(window.cancelAnimationFrame(b(this,Ra)),P(this,Ra,null)),b(Cl,eu).delete(this._canvas),this.callback(e||new Z_(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?P(this,Ra,window.requestAnimationFrame(()=>{P(this,Ra,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),b(Cl,eu).delete(this._canvas),this.callback())))}};Ra=new WeakMap,eu=new WeakMap,L(Cl,eu,new WeakSet);let fC=Cl;const OG="4.4.168",FG="19fbc8998";function bD(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function vh(t){return Math.max(0,Math.min(255,255*t))}class AD{static CMYK_G([e,n,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*n+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=vh(e),[e,e,e]}static G_HTML([e]){const n=bD(e);return`#${n}${n}${n}`}static RGB_G([e,n,i]){return["G",.3*e+.59*n+.11*i]}static RGB_rgb(e){return e.map(vh)}static RGB_HTML(e){return`#${e.map(bD).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,n+r)]}static CMYK_rgb([e,n,i,r]){return[vh(1-Math.min(1,e+r)),vh(1-Math.min(1,i+r)),vh(1-Math.min(1,n+r))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,i]){const r=1-e,s=1-n,a=1-i,u=Math.min(r,s,a);return["CMYK",r,s,a,u]}}class k2{static setupStorage(e,n,i,r,s){const a=r.getValue(n,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",u=>{r.setValue(n,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",u=>{r.setValue(n,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",u=>{r.setValue(n,{value:u.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const u of i.children)u.attributes.value===a.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const c=u.target.options,f=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(n,{value:f})});break}}static setAttributes({html:e,element:n,storage:i=null,intent:r,linkService:s}){const{attributes:a}=n,u=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[c,f]of Object.entries(a))if(f!=null)switch(c){case"class":f.length&&e.setAttribute(c,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!u||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,f)}u&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,n,i)}static render(e){var g,y;const n=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});const u=s!=="richText",c=e.div;if(c.append(a),e.viewport){const S=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=S}u&&c.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const S=document.createTextNode(r.value);a.append(S),u&&jh.shouldBuildText(r.name)&&f.push(S)}return{textDivs:f}}const h=[[r,-1,a]];for(;h.length>0;){const[S,T,C]=h.at(-1);if(T+1===S.children.length){h.pop();continue}const _=S.children[++h.at(-1)[1]];if(_===null)continue;const{name:x}=_;if(x==="#text"){const M=document.createTextNode(_.value);f.push(M),C.append(M);continue}const R=(g=_==null?void 0:_.attributes)!=null&&g.xmlns?document.createElementNS(_.attributes.xmlns,x):document.createElement(x);if(C.append(R),_.attributes&&this.setAttributes({html:R,element:_,storage:n,intent:s,linkService:i}),((y=_.children)==null?void 0:y.length)>0)h.push([_,-1,R]);else if(_.value){const M=document.createTextNode(_.value);u&&jh.shouldBuildText(x)&&f.push(M),R.append(M)}}for(const S of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const zm=1e3,UG=9,Pu=new WeakSet;function Eo(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class BG{static create(e){switch(e.data.annotationType){case ln.LINK:return new L2(e);case ln.TEXT:return new qG(e);case ln.WIDGET:switch(e.data.fieldType){case"Tx":return new HG(e);case"Btn":return e.data.radioButton?new U2(e):e.data.checkBox?new zG(e):new GG(e);case"Ch":return new $G(e);case"Sig":return new VG(e)}return new Bu(e);case ln.POPUP:return new hC(e);case ln.FREETEXT:return new z2(e);case ln.LINE:return new KG(e);case ln.SQUARE:return new jG(e);case ln.CIRCLE:return new XG(e);case ln.POLYLINE:return new G2(e);case ln.CARET:return new JG(e);case ln.INK:return new $2(e);case ln.POLYGON:return new WG(e);case ln.HIGHLIGHT:return new QG(e);case ln.UNDERLINE:return new ZG(e);case ln.SQUIGGLY:return new e$(e);case ln.STRIKEOUT:return new t$(e);case ln.STAMP:return new Y2(e);case ln.FILEATTACHMENT:return new n$(e);default:return new jt(e)}}}var tu,Cf,_f,Jp,dC;const Qw=class Qw{constructor(e,{isRenderable:n=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){L(this,Jp);L(this,tu,null);L(this,Cf,!1);L(this,_f,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:i}){return!!(e!=null&&e.str||n!=null&&n.str||i!=null&&i.str)}get hasPopupData(){return Qw._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;b(this,tu)||P(this,tu,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&N(this,Jp,dC).call(this,n),(i=b(this,_f))==null||i.popup.updateEdited(e)}resetEdited(){var e;b(this,tu)&&(N(this,Jp,dC).call(this,b(this,tu).rect),(e=b(this,_f))==null||e.popup.resetEdited(),P(this,tu,null))}_createContainer(e){const{data:n,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),this instanceof Bu||(s.tabIndex=zm);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,n.popupRef&&s.setAttribute("aria-haspopup","dialog"),n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof hC){const{rotation:C}=n;return!n.hasOwnCanvas&&C!==0&&this.setRotation(C,s),s}const{width:u,height:c}=Eo(n.rect);if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const C=n.borderStyle.horizontalCornerRadius,_=n.borderStyle.verticalCornerRadius;if(C>0||_>0){const R=`calc(${C}px * var(--scale-factor)) / calc(${_}px * var(--scale-factor))`;a.borderRadius=R}else if(this instanceof U2){const R=`calc(${u}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;a.borderRadius=R}switch(n.borderStyle.style){case mh.SOLID:a.borderStyle="solid";break;case mh.DASHED:a.borderStyle="dashed";break;case mh.BEVELED:ze("Unimplemented border style: beveled");break;case mh.INSET:ze("Unimplemented border style: inset");break;case mh.UNDERLINE:a.borderBottomStyle="solid";break}const x=n.borderColor||null;x?(P(this,Cf,!0),a.borderColor=Ce.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const f=Ce.normalizeRect([n.rect[0],i.view[3]-n.rect[1]+i.view[1],n.rect[2],i.view[3]-n.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:g,pageX:y,pageY:S}=r.rawDims;a.left=`${100*(f[0]-y)/h}%`,a.top=`${100*(f[1]-S)/g}%`;const{rotation:T}=n;return n.hasOwnCanvas||T===0?(a.width=`${100*u/h}%`,a.height=`${100*c/g}%`):this.setRotation(T,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:a}=Eo(this.data.rect);let u,c;e%180===0?(u=100*s/i,c=100*a/r):(u=100*a/i,c=100*s/r),n.style.width=`${u}%`,n.style.height=`${c}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,i,r)=>{const s=r.detail[n],a=s[0],u=s.slice(1);r.target.style[i]=AD[`${a}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:AD[`${a}_rgb`](u)})};return Ze(this,"_commonActions",{display:n=>{const{display:i}=n.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:i}=n.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const i=n.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,n){const i=this._commonActions;for(const r of Object.keys(n.detail)){const s=e[r]||i[r];s==null||s(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const i=this._commonActions;for(const[r,s]of Object.entries(n)){const a=i[r];if(a){const u={detail:{[r]:s},target:e};a(u),delete n[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,i,r,s]=this.data.rect.map(C=>Math.fround(C));if(e.length===8){const[C,_,x,R]=e.subarray(2,6);if(r===C&&s===_&&n===x&&i===R)return}const{style:a}=this.container;let u;if(b(this,Cf)){const{borderColor:C,borderWidth:_}=a;a.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const c=r-n,f=s-i,{svgFactory:h}=this,g=h.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0);const y=h.createElement("defs");g.append(y);const S=h.createElement("clipPath"),T=`clippath_${this.data.id}`;S.setAttribute("id",T),S.setAttribute("clipPathUnits","objectBoundingBox"),y.append(S);for(let C=2,_=e.length;C<_;C+=8){const x=e[C],R=e[C+1],M=e[C+2],U=e[C+3],k=h.createElement("rect"),F=(M-n)/c,q=(s-R)/f,z=(x-M)/c,G=(R-U)/f;k.setAttribute("x",F),k.setAttribute("y",q),k.setAttribute("width",z),k.setAttribute("height",G),S.append(k),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${F}" y="${q}" width="${z}" height="${G}"/>`)}b(this,Cf)&&(u.push("</g></svg>')"),a.backgroundImage=u.join("")),this.container.append(g),this.container.style.clipPath=`url(#${T})`}_createPopup(){const{container:e,data:n}=this;e.setAttribute("aria-haspopup","dialog");const i=P(this,_f,new hC({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){At("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:a,exportValues:u}of r){if(s===-1||a===n)continue;const c=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${a}"]`);if(f&&!Pu.has(f)){ze(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:c,domElement:f})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==n&&Pu.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};tu=new WeakMap,Cf=new WeakMap,_f=new WeakMap,Jp=new WeakSet,dC=function(e){const{container:{style:n},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:u,pageY:c}}}}=this;i==null||i.splice(0,4,...e);const{width:f,height:h}=Eo(e);n.left=`${100*(e[0]-u)/s}%`,n.top=`${100*(a-e[3]+c)/a}%`,r===0?(n.width=`${100*f/s}%`,n.height=`${100*h/a}%`):this.setRotation(r)};let jt=Qw;var Vi,gl,O2,F2;class L2 extends jt{constructor(n,i=null){super(n,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});L(this,Vi);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",n.id);let s=!1;return n.url?(i.addLinkAttributes(r,n.url,n.newWindow),s=!0):n.action?(this._bindNamedAction(r,n.action),s=!0):n.attachment?(N(this,Vi,O2).call(this,r,n.attachment,n.attachmentDest),s=!0):n.setOCGState?(N(this,Vi,F2).call(this,r,n.setOCGState),s=!0):n.dest?(this._bindLink(r,n.dest),s=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,n),s=!0),n.resetForm?(this._bindResetFormAction(r,n.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(n,i){n.href=this.linkService.getDestinationHash(i),n.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&N(this,Vi,gl).call(this)}_bindNamedAction(n,i){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(i),!1),N(this,Vi,gl).call(this)}_bindJSAction(n,i){n.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const a=r.get(s);a&&(n[a]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}n.onclick||(n.onclick=()=>!1),N(this,Vi,gl).call(this)}_bindResetFormAction(n,i){const r=n.onclick;if(r||(n.href=this.linkService.getAnchorUrl("")),N(this,Vi,gl).call(this),!this._fieldObjects){ze('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(n.onclick=()=>!1);return}n.onclick=()=>{var g;r==null||r();const{fields:s,refs:a,include:u}=i,c=[];if(s.length!==0||a.length!==0){const y=new Set(a);for(const S of s){const T=this._fieldObjects[S]||[];for(const{id:C}of T)y.add(C)}for(const S of Object.values(this._fieldObjects))for(const T of S)y.has(T.id)===u&&c.push(T)}else for(const y of Object.values(this._fieldObjects))c.push(...y);const f=this.annotationStorage,h=[];for(const y of c){const{id:S}=y;switch(h.push(S),y.type){case"text":{const C=y.defaultValue||"";f.setValue(S,{value:C});break}case"checkbox":case"radiobutton":{const C=y.defaultValue===y.exportValues;f.setValue(S,{value:C});break}case"combobox":case"listbox":{const C=y.defaultValue||"";f.setValue(S,{value:C});break}default:continue}const T=document.querySelector(`[data-element-id="${S}"]`);if(T){if(!Pu.has(T)){ze(`_bindResetFormAction - element not allowed: ${S}`);continue}}else continue;T.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}Vi=new WeakSet,gl=function(){this.container.setAttribute("data-internal-link","")},O2=function(n,i,r=null){n.href=this.linkService.getAnchorUrl(""),i.description&&(n.title=i.description),n.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,r),!1},N(this,Vi,gl).call(this)},F2=function(n,i){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(i),!1),N(this,Vi,gl).call(this)};class qG extends jt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Bu extends jt{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return gi.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,i,r,s){i.includes("mouse")?e.addEventListener(i,a=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{var u;if(i==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(i==="focus"){if(n.focused)return;n.focused=!0}s&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(e,n,i,r){var s,a,u;for(const[c,f]of i)(f==="Action"||(s=this.data.actions)!=null&&s[f])&&((f==="Focus"||f==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,c,f,r),f==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,n,"blur","Blur",null):f==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Ce.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||UG,s=e.style;let a;const u=2,c=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),h=Math.round(f/(BS*r))||1,g=f/h;a=Math.min(r,c(g/BS))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);a=Math.min(r,c(f/BS))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=Ce.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class HG extends Bu{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,i,r){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=i),s.setValue(a.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(n,{value:this.data.fieldValue});let u=a.value||"";const c=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;c&&u.length>c&&(u=u.slice(0,c));let f=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;f&&this.data.comb&&(f=f.replaceAll(/\s+/g,""));const h={userValue:u,formattedValue:f,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=f??u,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",f??u),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Pu.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=zm,this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",y=>{e.setValue(n,{value:y.target.value}),this.setPropertyOnSiblings(i,"value",y.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",y=>{const S=this.data.defaultFieldValue??"";i.value=h.userValue=S,h.formattedValue=null});let g=y=>{const{formattedValue:S}=h;S!=null&&(y.target.value=S),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",S=>{var C;if(h.focused)return;const{target:T}=S;h.userValue&&(T.value=h.userValue),h.lastCommittedValue=T.value,h.commitKey=1,(C=this.data.actions)!=null&&C.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const T={value(C){h.userValue=C.detail.value??"",e.setValue(n,{value:h.userValue.toString()}),C.target.value=h.userValue},formattedValue(C){const{formattedValue:_}=C.detail;h.formattedValue=_,_!=null&&C.target!==document.activeElement&&(C.target.value=_),e.setValue(n,{formattedValue:_})},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{var M;const{charLimit:_}=C.detail,{target:x}=C;if(_===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",_);let R=h.userValue;!R||R.length<=_||(R=R.slice(0,_),x.value=h.userValue=R,e.setValue(n,{value:R}),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(T,S)}),i.addEventListener("keydown",S=>{var _;h.commitKey=1;let T=-1;if(S.key==="Escape"?T=0:S.key==="Enter"&&!this.data.multiLine?T=2:S.key==="Tab"&&(h.commitKey=3),T===-1)return;const{value:C}=S.target;h.lastCommittedValue!==C&&(h.lastCommittedValue=C,h.userValue=C,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:C,willCommit:!0,commitKey:T,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const y=g;g=null,i.addEventListener("blur",S=>{var C,_;if(!h.focused||!S.relatedTarget)return;(C=this.data.actions)!=null&&C.Blur||(h.focused=!1);const{value:T}=S.target;h.userValue=T,h.lastCommittedValue!==T&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:T,willCommit:!0,commitKey:h.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),y(S)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",S=>{var k;h.lastCommittedValue=null;const{data:T,target:C}=S,{value:_,selectionStart:x,selectionEnd:R}=C;let M=x,U=R;switch(S.inputType){case"deleteWordBackward":{const F=_.substring(0,x).match(/\w*[^\w]*$/);F&&(M-=F[0].length);break}case"deleteWordForward":{const F=_.substring(x).match(/^[^\w]*\w*/);F&&(U+=F[0].length);break}case"deleteContentBackward":x===R&&(M-=1);break;case"deleteContentForward":x===R&&(U+=1);break}S.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:_,change:T||"",willCommit:!1,selStart:M,selEnd:U}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(g&&i.addEventListener("blur",g),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${S}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class VG extends Bu{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class zG extends Bu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,i=n.id;let r=e.getValue(i,{value:n.exportValue===n.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Pu.add(s),s.setAttribute("data-element-id",i),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=zm,s.addEventListener("change",a=>{const{name:u,checked:c}=a.target;for(const f of this._getElementsByName(u,i)){const h=c&&f.exportValue===n.exportValue;f.domElement&&(f.domElement.checked=h),e.setValue(f.id,{value:h})}e.setValue(i,{value:c})}),s.addEventListener("resetform",a=>{const u=n.defaultFieldValue||"Off";a.target.checked=u===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const u={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(u,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class U2 extends Bu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,i=n.id;let r=e.getValue(i,{value:n.fieldValue===n.buttonValue}).value;if(typeof r=="string"&&(r=r!==n.buttonValue,e.setValue(i,{value:r})),r)for(const a of this._getElementsByName(n.fieldName,i))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Pu.add(s),s.setAttribute("data-element-id",i),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=zm,s.addEventListener("change",a=>{const{name:u,checked:c}=a.target;for(const f of this._getElementsByName(u,i))e.setValue(f.id,{value:!1});e.setValue(i,{value:c})}),s.addEventListener("resetform",a=>{const u=n.defaultFieldValue;a.target.checked=u!=null&&u===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;s.addEventListener("updatefromsandbox",u=>{const c={value:f=>{const h=a===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const y=h&&g.id===i;g.domElement&&(g.domElement.checked=y),e.setValue(g.id,{value:y})}}};this._dispatchEventFromSandbox(c,u)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class GG extends L2{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class $G extends Bu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,i=e.getValue(n,{value:this.data.fieldValue}),r=document.createElement("select");Pu.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=zm;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",h=>{const g=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===g});for(const h of this.data.options){const g=document.createElement("option");g.textContent=h.displayValue,g.value=h.exportValue,i.value.includes(h.exportValue)&&(g.setAttribute("selected",!0),s=!1),r.append(g)}let a=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),r.prepend(h),a=()=>{h.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const u=h=>{const g=h?"value":"textContent",{options:y,multiple:S}=r;return S?Array.prototype.filter.call(y,T=>T.selected).map(T=>T[g]):y.selectedIndex===-1?null:y[y.selectedIndex][g]};let c=u(!1);const f=h=>{const g=h.target.options;return Array.prototype.map.call(g,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",h=>{const g={value(y){a==null||a();const S=y.detail.value,T=new Set(Array.isArray(S)?S:[S]);for(const C of r.options)C.selected=T.has(C.value);e.setValue(n,{value:u(!0)}),c=u(!1)},multipleSelection(y){r.multiple=!0},remove(y){const S=r.options,T=y.detail.remove;S[T].selected=!1,r.remove(T),S.length>0&&Array.prototype.findIndex.call(S,_=>_.selected)===-1&&(S[0].selected=!0),e.setValue(n,{value:u(!0),items:f(y)}),c=u(!1)},clear(y){for(;r.length!==0;)r.remove(0);e.setValue(n,{value:null,items:[]}),c=u(!1)},insert(y){const{index:S,displayValue:T,exportValue:C}=y.detail.insert,_=r.children[S],x=document.createElement("option");x.textContent=T,x.value=C,_?_.before(x):r.append(x),e.setValue(n,{value:u(!0),items:f(y)}),c=u(!1)},items(y){const{items:S}=y.detail;for(;r.length!==0;)r.remove(0);for(const T of S){const{displayValue:C,exportValue:_}=T,x=document.createElement("option");x.textContent=C,x.value=_,r.append(x)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(n,{value:u(!0),items:f(y)}),c=u(!1)},indices(y){const S=new Set(y.detail.indices);for(const T of y.target.options)T.selected=S.has(T.index);e.setValue(n,{value:u(!0)}),c=u(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(g,h)}),r.addEventListener("input",h=>{var S;const g=u(!0),y=u(!1);e.setValue(n,{value:g}),h.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:c,change:y,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):r.addEventListener("input",function(h){e.setValue(n,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hC extends jt{constructor(e){const{data:n,elements:i}=e;super(e,{isRenderable:jt._hasPopupData(n)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new YG({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const i of this.elements)i.popup=e,n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${BO}${i}`).join(",")),this.container}}var xf,_0,x0,wf,nu,Gt,io,iu,Qp,Zp,Mf,ro,Lr,so,em,oo,tm,ru,su,St,ty,pC,B2,q2,H2,V2,ny,iy,mC;class YG{constructor({container:e,color:n,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:u,parent:c,rect:f,parentRect:h,open:g}){L(this,St);L(this,xf,N(this,St,H2).bind(this));L(this,_0,N(this,St,mC).bind(this));L(this,x0,N(this,St,iy).bind(this));L(this,wf,N(this,St,ny).bind(this));L(this,nu,null);L(this,Gt,null);L(this,io,null);L(this,iu,null);L(this,Qp,null);L(this,Zp,null);L(this,Mf,null);L(this,ro,!1);L(this,Lr,null);L(this,so,null);L(this,em,null);L(this,oo,null);L(this,tm,null);L(this,ru,null);L(this,su,!1);var y;P(this,Gt,e),P(this,tm,r),P(this,io,a),P(this,oo,u),P(this,Zp,c),P(this,nu,n),P(this,em,f),P(this,Mf,h),P(this,Qp,i),P(this,iu,GO.toDateObject(s)),this.trigger=i.flatMap(S=>S.getElementsToTriggerPopup());for(const S of this.trigger)S.addEventListener("click",b(this,wf)),S.addEventListener("mouseenter",b(this,x0)),S.addEventListener("mouseleave",b(this,_0)),S.classList.add("popupTriggerArea");for(const S of i)(y=S.container)==null||y.addEventListener("keydown",b(this,xf));b(this,Gt).hidden=!0,g&&N(this,St,ny).call(this)}render(){if(b(this,Lr))return;const e=P(this,Lr,document.createElement("div"));if(e.className="popup",b(this,nu)){const s=e.style.outlineColor=Ce.makeHexColor(...b(this,nu));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=Ce.makeHexColor(...b(this,nu).map(u=>Math.floor(.7*(255-u)+u)))}const n=document.createElement("span");n.className="header";const i=document.createElement("h1");if(n.append(i),{dir:i.dir,str:i.textContent}=b(this,tm),e.append(n),b(this,iu)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:b(this,iu).toLocaleDateString(),time:b(this,iu).toLocaleTimeString()})),n.append(s)}const r=b(this,St,ty);if(r)k2.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(b(this,io));e.append(s)}b(this,Gt).append(e)}_formatContents({str:e,dir:n}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const r=e.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){const u=r[s];i.append(document.createTextNode(u)),s<a-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:n}){var i;b(this,ru)||P(this,ru,{contentsObj:b(this,io),richText:b(this,oo)}),e&&P(this,so,null),n&&(P(this,oo,N(this,St,q2).call(this,n)),P(this,io,null)),(i=b(this,Lr))==null||i.remove(),P(this,Lr,null)}resetEdited(){var e;b(this,ru)&&({contentsObj:Pi(this,io)._,richText:Pi(this,oo)._}=b(this,ru),P(this,ru,null),(e=b(this,Lr))==null||e.remove(),P(this,Lr,null),P(this,so,null))}forceHide(){P(this,su,this.isVisible),b(this,su)&&(b(this,Gt).hidden=!0)}maybeShow(){b(this,su)&&(b(this,Lr)||N(this,St,iy).call(this),P(this,su,!1),b(this,Gt).hidden=!1)}get isVisible(){return b(this,Gt).hidden===!1}}xf=new WeakMap,_0=new WeakMap,x0=new WeakMap,wf=new WeakMap,nu=new WeakMap,Gt=new WeakMap,io=new WeakMap,iu=new WeakMap,Qp=new WeakMap,Zp=new WeakMap,Mf=new WeakMap,ro=new WeakMap,Lr=new WeakMap,so=new WeakMap,em=new WeakMap,oo=new WeakMap,tm=new WeakMap,ru=new WeakMap,su=new WeakMap,St=new WeakSet,ty=function(){const e=b(this,oo),n=b(this,io);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&b(this,oo).html||null},pC=function(){var e,n,i;return((i=(n=(e=b(this,St,ty))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:i.fontSize)||0},B2=function(){var e,n,i;return((i=(n=(e=b(this,St,ty))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:i.color)||null},q2=function(e){const n=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},r={style:{color:b(this,St,B2),fontSize:b(this,St,pC)?`calc(${b(this,St,pC)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:r});return i},H2=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&b(this,ro))&&N(this,St,ny).call(this)},V2=function(){if(b(this,so)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:s}}}=b(this,Zp);let a=!!b(this,Mf),u=a?b(this,Mf):b(this,em);for(const T of b(this,Qp))if(!u||Ce.intersect(T.data.rect,u)!==null){u=T.data.rect,a=!0;break}const c=Ce.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),h=a?u[2]-u[0]+5:0,g=c[0]+h,y=c[1];P(this,so,[100*(g-r)/n,100*(y-s)/i]);const{style:S}=b(this,Gt);S.left=`${b(this,so)[0]}%`,S.top=`${b(this,so)[1]}%`},ny=function(){P(this,ro,!b(this,ro)),b(this,ro)?(N(this,St,iy).call(this),b(this,Gt).addEventListener("click",b(this,wf)),b(this,Gt).addEventListener("keydown",b(this,xf))):(N(this,St,mC).call(this),b(this,Gt).removeEventListener("click",b(this,wf)),b(this,Gt).removeEventListener("keydown",b(this,xf)))},iy=function(){b(this,Lr)||this.render(),this.isVisible?b(this,ro)&&b(this,Gt).classList.add("focused"):(N(this,St,V2).call(this),b(this,Gt).hidden=!1,b(this,Gt).style.zIndex=parseInt(b(this,Gt).style.zIndex)+1e3)},mC=function(){b(this,Gt).classList.remove("focused"),!(b(this,ro)||!this.isVisible)&&(b(this,Gt).hidden=!0,b(this,Gt).style.zIndex=parseInt(b(this,Gt).style.zIndex)-1e3)};class z2 extends jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Qe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const i=document.createElement("span");i.textContent=n,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var nm;class KG extends jt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});L(this,nm,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:i,height:r}=Eo(n.rect),s=this.svgFactory.create(i,r,!0),a=P(this,nm,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),a.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),a.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),a.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),a.setAttribute("stroke-width",n.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,nm)}addHighlightArea(){this.container.classList.add("highlightArea")}}nm=new WeakMap;var im;class jG extends jt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});L(this,im,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:i,height:r}=Eo(n.rect),s=this.svgFactory.create(i,r,!0),a=n.borderStyle.width,u=P(this,im,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",a/2),u.setAttribute("y",a/2),u.setAttribute("width",i-a),u.setAttribute("height",r-a),u.setAttribute("stroke-width",a||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),s.append(u),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,im)}addHighlightArea(){this.container.classList.add("highlightArea")}}im=new WeakMap;var rm;class XG extends jt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});L(this,rm,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:i,height:r}=Eo(n.rect),s=this.svgFactory.create(i,r,!0),a=n.borderStyle.width,u=P(this,rm,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",i/2),u.setAttribute("cy",r/2),u.setAttribute("rx",i/2-a/2),u.setAttribute("ry",r/2-a/2),u.setAttribute("stroke-width",a||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),s.append(u),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,rm)}addHighlightArea(){this.container.classList.add("highlightArea")}}rm=new WeakMap;var sm;class G2 extends jt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});L(this,sm,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:i,borderStyle:r,popupRef:s}}=this;if(!i)return this.container;const{width:a,height:u}=Eo(n),c=this.svgFactory.create(a,u,!0);let f=[];for(let g=0,y=i.length;g<y;g+=2){const S=i[g]-n[0],T=n[3]-i[g+1];f.push(`${S},${T}`)}f=f.join(" ");const h=P(this,sm,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",f),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,sm)}addHighlightArea(){this.container.classList.add("highlightArea")}}sm=new WeakMap;class WG extends G2{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class JG extends jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var om;class $2 extends jt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});L(this,om,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Qe.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:i,borderStyle:r,popupRef:s}}=this,{width:a,height:u}=Eo(n),c=this.svgFactory.create(a,u,!0);for(const f of i){let h=[];for(let y=0,S=f.length;y<S;y+=2){const T=f[y]-n[0],C=n[3]-f[y+1];h.push(`${T},${C}`)}h=h.join(" ");const g=this.svgFactory.createElement(this.svgElementName);b(this,om).push(g),g.setAttribute("points",h),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),c.append(g)}return this.container.append(c),this.container}getElementsToTriggerPopup(){return b(this,om)}addHighlightArea(){this.container.classList.add("highlightArea")}}om=new WeakMap;class QG extends jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ZG extends jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class e$ extends jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class t$ extends jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Y2 extends jt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var am,lm,gC;class n$ extends jt{constructor(n){var r;super(n,{isRenderable:!0});L(this,lm);L(this,am,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",N(this,lm,gC).bind(this)),P(this,am,r);const{isMac:s}=gi.platform;return n.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&N(this,lm,gC).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),n.append(r),n}getElementsToTriggerPopup(){return b(this,am)}addHighlightArea(){this.container.classList.add("highlightArea")}}am=new WeakMap,lm=new WeakSet,gC=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var um,ou,Rf,Lu,K2,vC;class i${constructor({div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a}){L(this,Lu);L(this,um,null);L(this,ou,null);L(this,Rf,new Map);this.div=e,P(this,um,n),P(this,ou,i),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}async render(e){var a;const{annotations:n}=e,i=this.div;Mu(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Q_,annotationStorage:e.annotationStorage||new ix,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of n){if(u.noHTML)continue;const c=u.annotationType===ln.POPUP;if(c){const g=r.get(u.id);if(!g)continue;s.elements=g}else{const{width:g,height:y}=Eo(u.rect);if(g<=0||y<=0)continue}s.data=u;const f=BG.create(s);if(!f.isRenderable)continue;if(!c&&u.popupRef){const g=r.get(u.popupRef);g?g.push(f):r.set(u.popupRef,[f])}const h=f.render();u.hidden&&(h.style.visibility="hidden"),N(this,Lu,K2).call(this,h,u.id),f.annotationEditorType>0&&(b(this,Rf).set(f.data.id,f),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(f))}N(this,Lu,vC).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,Mu(n,{rotation:e.rotation}),N(this,Lu,vC).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(b(this,Rf).values())}getEditableAnnotation(e){return b(this,Rf).get(e)}}um=new WeakMap,ou=new WeakMap,Rf=new WeakMap,Lu=new WeakSet,K2=function(e,n){var r;const i=e.firstChild||e;i.id=`${BO}${n}`,this.div.append(e),(r=b(this,um))==null||r.moveElementInDOM(this.div,e,i,!1)},vC=function(){if(!b(this,ou))return;const e=this.div;for(const[n,i]of b(this,ou)){const r=e.querySelector(`[data-annotation-id="${n}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}b(this,ou).clear()};const xv=/\r\n?|\n/g;var cm,fm,dm,hm,pm,Or,Oi,mm,Fi,Pf,sn,j2,X2,W2,ry,wo,sy,oy,J2,bC,Q2;const Mt=class Mt extends dt{constructor(n){super({...n,name:"freeTextEditor"});L(this,sn);L(this,cm,this.editorDivBlur.bind(this));L(this,fm,this.editorDivFocus.bind(this));L(this,dm,this.editorDivInput.bind(this));L(this,hm,this.editorDivKeydown.bind(this));L(this,pm,this.editorDivPaste.bind(this));L(this,Or);L(this,Oi,"");L(this,mm,`${this.id}-editor`);L(this,Fi);L(this,Pf,null);P(this,Or,n.color||Mt._defaultColor||dt._defaultLineColor),P(this,Fi,n.fontSize||Mt._defaultFontSize)}static get _keyboardManager(){const n=Mt.prototype,i=a=>a.isEmpty(),r=Ru.TRANSLATE_SMALL,s=Ru.TRANSLATE_BIG;return Ze(this,"_keyboardManager",new Hm([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(n,i){dt.initialize(n,i,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,i){switch(n){case Oe.FREETEXT_SIZE:Mt._defaultFontSize=i;break;case Oe.FREETEXT_COLOR:Mt._defaultColor=i;break}}updateParams(n,i){switch(n){case Oe.FREETEXT_SIZE:N(this,sn,j2).call(this,i);break;case Oe.FREETEXT_COLOR:N(this,sn,X2).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Oe.FREETEXT_SIZE,Mt._defaultFontSize],[Oe.FREETEXT_COLOR,Mt._defaultColor||dt._defaultLineColor]]}get propertiesToUpdate(){return[[Oe.FREETEXT_SIZE,b(this,Fi)],[Oe.FREETEXT_COLOR,b(this,Or)]]}_translateEmpty(n,i){this._uiManager.translateSelectedEditors(n,i,!0)}getInitialTranslation(){const n=this.parentScale;return[-Mt._internalPadding*n,-(Mt._internalPadding+b(this,Fi))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Qe.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const n=this._uiManager._signal;this.editorDiv.addEventListener("keydown",b(this,hm),{signal:n}),this.editorDiv.addEventListener("focus",b(this,fm),{signal:n}),this.editorDiv.addEventListener("blur",b(this,cm),{signal:n}),this.editorDiv.addEventListener("input",b(this,dm),{signal:n}),this.editorDiv.addEventListener("paste",b(this,pm),{signal:n})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",b(this,mm)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",b(this,hm)),this.editorDiv.removeEventListener("focus",b(this,fm)),this.editorDiv.removeEventListener("blur",b(this,cm)),this.editorDiv.removeEventListener("input",b(this,dm)),this.editorDiv.removeEventListener("paste",b(this,pm)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var n;this.width||(this.enableEditMode(),this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=b(this,Oi),i=P(this,Oi,N(this,sn,W2).call(this).trimEnd());if(n===i)return;const r=s=>{if(P(this,Oi,s),!s){this.remove();return}N(this,sn,oy).call(this),this._uiManager.rebuild(this),N(this,sn,ry).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(n)},mustExec:!1}),N(this,sn,ry).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){Mt._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,i;this.width&&(n=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",b(this,mm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),dt._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${b(this,Fi)}px * var(--scale-factor))`,r.color=b(this,Or),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Sy(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:u}=b(this,Pf);let[c,f]=this.getInitialTranslation();[c,f]=this.pageTranslationToScreen(c,f);const[h,g]=this.pageDimensions,[y,S]=this.pageTranslation;let T,C;switch(this.rotation){case 0:T=n+(u[0]-y)/h,C=i+this.height-(u[1]-S)/g;break;case 90:T=n+(u[0]-y)/h,C=i-(u[1]-S)/g,[c,f]=[f,-c];break;case 180:T=n-this.width+(u[0]-y)/h,C=i-(u[1]-S)/g,[c,f]=[-c,-f];break;case 270:T=n+(u[0]-y-this.height*g)/h,C=i+(u[1]-S-this.width*h)/g,[c,f]=[-f,c];break}this.setAt(T*s,C*a,c,f)}else this.setAt(n*s,i*a,this.width*s,this.height*a);N(this,sn,oy).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var T,C,_;const i=n.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;n.preventDefault();const s=N(T=Mt,wo,bC).call(T,i.getData("text")||"").replaceAll(xv,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const u=a.getRangeAt(0);if(!s.includes(`
`)){u.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:f}=u,h=[],g=[];if(c.nodeType===Node.TEXT_NODE){const x=c.parentElement;if(g.push(c.nodeValue.slice(f).replaceAll(xv,"")),x!==this.editorDiv){let R=h;for(const M of this.editorDiv.childNodes){if(M===x){R=g;continue}R.push(N(C=Mt,wo,sy).call(C,M))}}h.push(c.nodeValue.slice(0,f).replaceAll(xv,""))}else if(c===this.editorDiv){let x=h,R=0;for(const M of this.editorDiv.childNodes)R++===f&&(x=g),x.push(N(_=Mt,wo,sy).call(_,M))}P(this,Oi,`${h.join(`
`)}${s}${g.join(`
`)}`),N(this,sn,oy).call(this);const y=new Range;let S=h.reduce((x,R)=>x+R.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const R=x.nodeValue.length;if(S<=R){y.setStart(x,S),y.setEnd(x,S);break}S-=R}a.removeAllRanges(),a.addRange(y)}get contentDiv(){return this.editorDiv}static deserialize(n,i,r){var u;let s=null;if(n instanceof z2){const{data:{defaultAppearanceData:{fontSize:c,fontColor:f},rect:h,rotation:g,id:y},textContent:S,textPosition:T,parent:{page:{pageNumber:C}}}=n;if(!S||S.length===0)return null;s=n={annotationType:Qe.FREETEXT,color:Array.from(f),fontSize:c,value:S.join(`
`),position:T,pageIndex:C-1,rect:h.slice(0),rotation:g,id:y,deleted:!1}}const a=super.deserialize(n,i,r);return P(a,Fi,n.fontSize),P(a,Or,Ce.makeHexColor(...n.color)),P(a,Oi,N(u=Mt,wo,bC).call(u,n.value)),a.annotationElementId=n.id||null,P(a,Pf,s),a}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const i=Mt._internalPadding*this.parentScale,r=this.getRect(i,i),s=dt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:b(this,Or)),a={annotationType:Qe.FREETEXT,color:s,fontSize:b(this,Fi),value:N(this,sn,J2).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?a:this.annotationElementId&&!N(this,sn,Q2).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(n){const i=super.renderAnnotationElement(n);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${b(this,Fi)}px * var(--scale-factor))`,r.color=b(this,Or),i.replaceChildren();for(const a of b(this,Oi).split(`
`)){const u=document.createElement("div");u.append(a?document.createTextNode(a):document.createElement("br")),i.append(u)}const s=Mt._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(s,s),popupContent:b(this,Oi)}),i}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};cm=new WeakMap,fm=new WeakMap,dm=new WeakMap,hm=new WeakMap,pm=new WeakMap,Or=new WeakMap,Oi=new WeakMap,mm=new WeakMap,Fi=new WeakMap,Pf=new WeakMap,sn=new WeakSet,j2=function(n){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-b(this,Fi))*this.parentScale),P(this,Fi,s),N(this,sn,ry).call(this)},r=b(this,Fi);this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Oe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},X2=function(n){const i=s=>{P(this,Or,this.editorDiv.style.color=s)},r=b(this,Or);this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Oe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},W2=function(){var i;const n=[];this.editorDiv.normalize();for(const r of this.editorDiv.childNodes)n.push(N(i=Mt,wo,sy).call(i,r));return n.join(`
`)},ry=function(){const[n,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,u=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=u,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/n,this.height=r.height/i):(this.width=r.height/n,this.height=r.width/i),this.fixAndSetPosition()},wo=new WeakSet,sy=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(xv,"")},oy=function(){if(this.editorDiv.replaceChildren(),!!b(this,Oi))for(const n of b(this,Oi).split(`
`)){const i=document.createElement("div");i.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(i)}},J2=function(){return b(this,Oi).replaceAll(" "," ")},bC=function(n){return n.replaceAll(" "," ")},Q2=function(n){const{value:i,fontSize:r,color:s,pageIndex:a}=b(this,Pf);return this._hasBeenMoved||n.value!==i||n.fontSize!==r||n.color.some((u,c)=>u!==s[c])||n.pageIndex!==a},L(Mt,wo),Le(Mt,"_freeTextDefaultContent",""),Le(Mt,"_internalPadding",0),Le(Mt,"_defaultColor",null),Le(Mt,"_defaultFontSize",10),Le(Mt,"_type","freetext"),Le(Mt,"_editorType",Qe.FREETEXT);let yC=Mt;var gm,Pa,Fr,ii,Z2,ay,eF,tF,SC;class AC{constructor(e,n=0,i=0,r=!0){L(this,ii);L(this,gm);L(this,Pa,[]);L(this,Fr,[]);let s=1/0,a=-1/0,u=1/0,c=-1/0;const f=10**-4;for(const{x:_,y:x,width:R,height:M}of e){const U=Math.floor((_-n)/f)*f,k=Math.ceil((_+R+n)/f)*f,F=Math.floor((x-n)/f)*f,q=Math.ceil((x+M+n)/f)*f,z=[U,F,q,!0],G=[k,F,q,!1];b(this,Pa).push(z,G),s=Math.min(s,U),a=Math.max(a,k),u=Math.min(u,F),c=Math.max(c,q)}const h=a-s+2*i,g=c-u+2*i,y=s-i,S=u-i,T=b(this,Pa).at(r?-1:-2),C=[T[0],T[2]];for(const _ of b(this,Pa)){const[x,R,M]=_;_[0]=(x-y)/h,_[1]=(R-S)/g,_[2]=(M-S)/g}P(this,gm,{x:y,y:S,width:h,height:g,lastPoint:C})}getOutlines(){b(this,Pa).sort((n,i)=>n[0]-i[0]||n[1]-i[1]||n[2]-i[2]);const e=[];for(const n of b(this,Pa))n[3]?(e.push(...N(this,ii,SC).call(this,n)),N(this,ii,eF).call(this,n)):(N(this,ii,tF).call(this,n),e.push(...N(this,ii,SC).call(this,n)));return N(this,ii,Z2).call(this,e)}}gm=new WeakMap,Pa=new WeakMap,Fr=new WeakMap,ii=new WeakSet,Z2=function(e){const n=[],i=new Set;for(const a of e){const[u,c,f]=a;n.push([u,c,a],[u,f,a])}n.sort((a,u)=>a[1]-u[1]||a[0]-u[0]);for(let a=0,u=n.length;a<u;a+=2){const c=n[a][2],f=n[a+1][2];c.push(f),f.push(c),i.add(c),i.add(f)}const r=[];let s;for(;i.size>0;){const a=i.values().next().value;let[u,c,f,h,g]=a;i.delete(a);let y=u,S=c;for(s=[u,f],r.push(s);;){let T;if(i.has(h))T=h;else if(i.has(g))T=g;else break;i.delete(T),[u,c,f,h,g]=T,y!==u&&(s.push(y,S,u,S===c?c:f),y=u),S=S===c?f:c}s.push(y,S)}return new r$(r,b(this,gm))},ay=function(e){const n=b(this,Fr);let i=0,r=n.length-1;for(;i<=r;){const s=i+r>>1,a=n[s][0];if(a===e)return s;a<e?i=s+1:r=s-1}return r+1},eF=function([,e,n]){const i=N(this,ii,ay).call(this,e);b(this,Fr).splice(i,0,[e,n])},tF=function([,e,n]){const i=N(this,ii,ay).call(this,e);for(let r=i;r<b(this,Fr).length;r++){const[s,a]=b(this,Fr)[r];if(s!==e)break;if(s===e&&a===n){b(this,Fr).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,a]=b(this,Fr)[r];if(s!==e)break;if(s===e&&a===n){b(this,Fr).splice(r,1);return}}},SC=function(e){const[n,i,r]=e,s=[[n,i,r]],a=N(this,ii,ay).call(this,r);for(let u=0;u<a;u++){const[c,f]=b(this,Fr)[u];for(let h=0,g=s.length;h<g;h++){const[,y,S]=s[h];if(!(f<=y||S<=c)){if(y>=c){if(S>f)s[h][1]=f;else{if(g===1)return[];s.splice(h,1),h--,g--}continue}s[h][2]=c,S>f&&s.push([n,f,S])}}}return s};class nF{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,n){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof EC}}var vm,Df;class r$ extends nF{constructor(n,i){super();L(this,vm);L(this,Df);P(this,Df,n),P(this,vm,i)}toSVGPath(){const n=[];for(const i of b(this,Df)){let[r,s]=i;n.push(`M${r} ${s}`);for(let a=2;a<i.length;a+=2){const u=i[a],c=i[a+1];u===r?(n.push(`V${c}`),s=c):c===s&&(n.push(`H${u}`),r=u)}n.push("Z")}return n.join(" ")}serialize([n,i,r,s],a){const u=[],c=r-n,f=s-i;for(const h of b(this,Df)){const g=new Array(h.length);for(let y=0;y<h.length;y+=2)g[y]=n+h[y]*c,g[y+1]=s-h[y+1]*f;u.push(g)}return u}get box(){return b(this,vm)}}vm=new WeakMap,Df=new WeakMap;var cs,ao,Nf,If,fs,We,au,lu,ym,bm,kf,Lf,Da,Am,w0,M0,Sm,TC;const Gs=class Gs{constructor({x:e,y:n},i,r,s,a,u=0){L(this,Sm);L(this,cs);L(this,ao,[]);L(this,Nf);L(this,If);L(this,fs,[]);L(this,We,new Float64Array(18));L(this,au);L(this,lu);L(this,ym);L(this,bm);L(this,kf);L(this,Lf);L(this,Da,[]);P(this,cs,i),P(this,Lf,s*r),P(this,If,a),b(this,We).set([NaN,NaN,NaN,NaN,e,n],6),P(this,Nf,u),P(this,bm,b(Gs,Am)*r),P(this,ym,b(Gs,M0)*r),P(this,kf,r),b(this,Da).push(e,n)}get free(){return!0}isEmpty(){return isNaN(b(this,We)[8])}add({x:e,y:n}){var G;P(this,au,e),P(this,lu,n);const[i,r,s,a]=b(this,cs);let[u,c,f,h]=b(this,We).subarray(8,12);const g=e-f,y=n-h,S=Math.hypot(g,y);if(S<b(this,ym))return!1;const T=S-b(this,bm),C=T/S,_=C*g,x=C*y;let R=u,M=c;u=f,c=h,f+=_,h+=x,(G=b(this,Da))==null||G.push(e,n);const U=-x/T,k=_/T,F=U*b(this,Lf),q=k*b(this,Lf);return b(this,We).set(b(this,We).subarray(2,8),0),b(this,We).set([f+F,h+q],4),b(this,We).set(b(this,We).subarray(14,18),12),b(this,We).set([f-F,h-q],16),isNaN(b(this,We)[6])?(b(this,fs).length===0&&(b(this,We).set([u+F,c+q],2),b(this,fs).push(NaN,NaN,NaN,NaN,(u+F-i)/s,(c+q-r)/a),b(this,We).set([u-F,c-q],14),b(this,ao).push(NaN,NaN,NaN,NaN,(u-F-i)/s,(c-q-r)/a)),b(this,We).set([R,M,u,c,f,h],6),!this.isEmpty()):(b(this,We).set([R,M,u,c,f,h],6),Math.abs(Math.atan2(M-c,R-u)-Math.atan2(x,_))<Math.PI/2?([u,c,f,h]=b(this,We).subarray(2,6),b(this,fs).push(NaN,NaN,NaN,NaN,((u+f)/2-i)/s,((c+h)/2-r)/a),[u,c,R,M]=b(this,We).subarray(14,18),b(this,ao).push(NaN,NaN,NaN,NaN,((R+u)/2-i)/s,((M+c)/2-r)/a),!0):([R,M,u,c,f,h]=b(this,We).subarray(0,6),b(this,fs).push(((R+5*u)/6-i)/s,((M+5*c)/6-r)/a,((5*u+f)/6-i)/s,((5*c+h)/6-r)/a,((u+f)/2-i)/s,((c+h)/2-r)/a),[f,h,u,c,R,M]=b(this,We).subarray(12,18),b(this,ao).push(((R+5*u)/6-i)/s,((M+5*c)/6-r)/a,((5*u+f)/6-i)/s,((5*c+h)/6-r)/a,((u+f)/2-i)/s,((c+h)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=b(this,fs),n=b(this,ao),i=b(this,We).subarray(4,6),r=b(this,We).subarray(16,18),[s,a,u,c]=b(this,cs),[f,h,g,y]=N(this,Sm,TC).call(this);if(isNaN(b(this,We)[6])&&!this.isEmpty())return`M${(b(this,We)[2]-s)/u} ${(b(this,We)[3]-a)/c} L${(b(this,We)[4]-s)/u} ${(b(this,We)[5]-a)/c} L${f} ${h} L${g} ${y} L${(b(this,We)[16]-s)/u} ${(b(this,We)[17]-a)/c} L${(b(this,We)[14]-s)/u} ${(b(this,We)[15]-a)/c} Z`;const S=[];S.push(`M${e[4]} ${e[5]}`);for(let T=6;T<e.length;T+=6)isNaN(e[T])?S.push(`L${e[T+4]} ${e[T+5]}`):S.push(`C${e[T]} ${e[T+1]} ${e[T+2]} ${e[T+3]} ${e[T+4]} ${e[T+5]}`);S.push(`L${(i[0]-s)/u} ${(i[1]-a)/c} L${f} ${h} L${g} ${y} L${(r[0]-s)/u} ${(r[1]-a)/c}`);for(let T=n.length-6;T>=6;T-=6)isNaN(n[T])?S.push(`L${n[T+4]} ${n[T+5]}`):S.push(`C${n[T]} ${n[T+1]} ${n[T+2]} ${n[T+3]} ${n[T+4]} ${n[T+5]}`);return S.push(`L${n[4]} ${n[5]} Z`),S.join(" ")}getOutlines(){var x;const e=b(this,fs),n=b(this,ao),i=b(this,We),r=i.subarray(4,6),s=i.subarray(16,18),[a,u,c,f]=b(this,cs),h=new Float64Array((((x=b(this,Da))==null?void 0:x.length)??0)+2);for(let R=0,M=h.length-2;R<M;R+=2)h[R]=(b(this,Da)[R]-a)/c,h[R+1]=(b(this,Da)[R+1]-u)/f;h[h.length-2]=(b(this,au)-a)/c,h[h.length-1]=(b(this,lu)-u)/f;const[g,y,S,T]=N(this,Sm,TC).call(this);if(isNaN(i[6])&&!this.isEmpty()){const R=new Float64Array(36);return R.set([NaN,NaN,NaN,NaN,(i[2]-a)/c,(i[3]-u)/f,NaN,NaN,NaN,NaN,(i[4]-a)/c,(i[5]-u)/f,NaN,NaN,NaN,NaN,g,y,NaN,NaN,NaN,NaN,S,T,NaN,NaN,NaN,NaN,(i[16]-a)/c,(i[17]-u)/f,NaN,NaN,NaN,NaN,(i[14]-a)/c,(i[15]-u)/f],0),new EC(R,h,b(this,cs),b(this,kf),b(this,Nf),b(this,If))}const C=new Float64Array(b(this,fs).length+24+b(this,ao).length);let _=e.length;for(let R=0;R<_;R+=2){if(isNaN(e[R])){C[R]=C[R+1]=NaN;continue}C[R]=e[R],C[R+1]=e[R+1]}C.set([NaN,NaN,NaN,NaN,(r[0]-a)/c,(r[1]-u)/f,NaN,NaN,NaN,NaN,g,y,NaN,NaN,NaN,NaN,S,T,NaN,NaN,NaN,NaN,(s[0]-a)/c,(s[1]-u)/f],_),_+=24;for(let R=n.length-6;R>=6;R-=6)for(let M=0;M<6;M+=2){if(isNaN(n[R+M])){C[_]=C[_+1]=NaN,_+=2;continue}C[_]=n[R+M],C[_+1]=n[R+M+1],_+=2}return C.set([NaN,NaN,NaN,NaN,n[4],n[5]],_),new EC(C,h,b(this,cs),b(this,kf),b(this,Nf),b(this,If))}};cs=new WeakMap,ao=new WeakMap,Nf=new WeakMap,If=new WeakMap,fs=new WeakMap,We=new WeakMap,au=new WeakMap,lu=new WeakMap,ym=new WeakMap,bm=new WeakMap,kf=new WeakMap,Lf=new WeakMap,Da=new WeakMap,Am=new WeakMap,w0=new WeakMap,M0=new WeakMap,Sm=new WeakSet,TC=function(){const e=b(this,We).subarray(4,6),n=b(this,We).subarray(16,18),[i,r,s,a]=b(this,cs);return[(b(this,au)+(e[0]-n[0])/2-i)/s,(b(this,lu)+(e[1]-n[1])/2-r)/a,(b(this,au)+(n[0]-e[0])/2-i)/s,(b(this,lu)+(n[1]-e[1])/2-r)/a]},L(Gs,Am,8),L(Gs,w0,2),L(Gs,M0,b(Gs,Am)+b(Gs,w0));let Cy=Gs;var Of,uu,lo,Tm,Ui,Em,Kt,bi,kh,Lh,iF;class EC extends nF{constructor(n,i,r,s,a,u){super();L(this,bi);L(this,Of);L(this,uu,null);L(this,lo);L(this,Tm);L(this,Ui);L(this,Em);L(this,Kt);P(this,Kt,n),P(this,Ui,i),P(this,Of,r),P(this,Em,s),P(this,lo,a),P(this,Tm,u),N(this,bi,iF).call(this,u);const{x:c,y:f,width:h,height:g}=b(this,uu);for(let y=0,S=n.length;y<S;y+=2)n[y]=(n[y]-c)/h,n[y+1]=(n[y+1]-f)/g;for(let y=0,S=i.length;y<S;y+=2)i[y]=(i[y]-c)/h,i[y+1]=(i[y+1]-f)/g}toSVGPath(){const n=[`M${b(this,Kt)[4]} ${b(this,Kt)[5]}`];for(let i=6,r=b(this,Kt).length;i<r;i+=6){if(isNaN(b(this,Kt)[i])){n.push(`L${b(this,Kt)[i+4]} ${b(this,Kt)[i+5]}`);continue}n.push(`C${b(this,Kt)[i]} ${b(this,Kt)[i+1]} ${b(this,Kt)[i+2]} ${b(this,Kt)[i+3]} ${b(this,Kt)[i+4]} ${b(this,Kt)[i+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,i,r,s],a){const u=r-n,c=s-i;let f,h;switch(a){case 0:f=N(this,bi,kh).call(this,b(this,Kt),n,s,u,-c),h=N(this,bi,kh).call(this,b(this,Ui),n,s,u,-c);break;case 90:f=N(this,bi,Lh).call(this,b(this,Kt),n,i,u,c),h=N(this,bi,Lh).call(this,b(this,Ui),n,i,u,c);break;case 180:f=N(this,bi,kh).call(this,b(this,Kt),r,i,-u,c),h=N(this,bi,kh).call(this,b(this,Ui),r,i,-u,c);break;case 270:f=N(this,bi,Lh).call(this,b(this,Kt),r,s,-u,-c),h=N(this,bi,Lh).call(this,b(this,Ui),r,s,-u,-c);break}return{outline:Array.from(f),points:[Array.from(h)]}}get box(){return b(this,uu)}getNewOutline(n,i){const{x:r,y:s,width:a,height:u}=b(this,uu),[c,f,h,g]=b(this,Of),y=a*h,S=u*g,T=r*h+c,C=s*g+f,_=new Cy({x:b(this,Ui)[0]*y+T,y:b(this,Ui)[1]*S+C},b(this,Of),b(this,Em),n,b(this,Tm),i??b(this,lo));for(let x=2;x<b(this,Ui).length;x+=2)_.add({x:b(this,Ui)[x]*y+T,y:b(this,Ui)[x+1]*S+C});return _.getOutlines()}}Of=new WeakMap,uu=new WeakMap,lo=new WeakMap,Tm=new WeakMap,Ui=new WeakMap,Em=new WeakMap,Kt=new WeakMap,bi=new WeakSet,kh=function(n,i,r,s,a){const u=new Float64Array(n.length);for(let c=0,f=n.length;c<f;c+=2)u[c]=i+n[c]*s,u[c+1]=r+n[c+1]*a;return u},Lh=function(n,i,r,s,a){const u=new Float64Array(n.length);for(let c=0,f=n.length;c<f;c+=2)u[c]=i+n[c+1]*s,u[c+1]=r+n[c]*a;return u},iF=function(n){const i=b(this,Kt);let r=i[4],s=i[5],a=r,u=s,c=r,f=s,h=r,g=s;const y=n?Math.max:Math.min;for(let x=6,R=i.length;x<R;x+=6){if(isNaN(i[x]))a=Math.min(a,i[x+4]),u=Math.min(u,i[x+5]),c=Math.max(c,i[x+4]),f=Math.max(f,i[x+5]),g<i[x+5]?(h=i[x+4],g=i[x+5]):g===i[x+5]&&(h=y(h,i[x+4]));else{const M=Ce.bezierBoundingBox(r,s,...i.slice(x,x+6));a=Math.min(a,M[0]),u=Math.min(u,M[1]),c=Math.max(c,M[2]),f=Math.max(f,M[3]),g<M[3]?(h=M[2],g=M[3]):g===M[3]&&(h=y(h,M[2]))}r=i[x+4],s=i[x+5]}const S=a-b(this,lo),T=u-b(this,lo),C=c-a+2*b(this,lo),_=f-u+2*b(this,lo);P(this,uu,{x:S,y:T,width:C,height:_,lastPoint:[h,g]})};var Cm,_m,Ur,cu,Ff,cn,xm,Uf,wm,Mm,Br,Bf,Ct,CC,_C,sF,vl,oF,ha,mr;let rF=(mr=class{constructor({editor:e=null,uiManager:n=null}){L(this,Ct);L(this,Cm,N(this,Ct,sF).bind(this));L(this,_m,N(this,Ct,oF).bind(this));L(this,Ur,null);L(this,cu,null);L(this,Ff);L(this,cn,null);L(this,xm,!1);L(this,Uf,!1);L(this,wm,null);L(this,Mm);L(this,Br,null);L(this,Bf);var i;e?(P(this,Uf,!1),P(this,Bf,Oe.HIGHLIGHT_COLOR),P(this,wm,e)):(P(this,Uf,!0),P(this,Bf,Oe.HIGHLIGHT_DEFAULT_COLOR)),P(this,Br,(e==null?void 0:e._uiManager)||n),P(this,Mm,b(this,Br)._eventBus),P(this,Ff,(e==null?void 0:e.color)||((i=b(this,Br))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Ze(this,"_keyboardManager",new Hm([[["Escape","mac+Escape"],mr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],mr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],mr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],mr.prototype._moveToPrevious],[["Home","mac+Home"],mr.prototype._moveToBeginning],[["End","mac+End"],mr.prototype._moveToEnd]]))}renderButton(){const e=P(this,Ur,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=b(this,Br)._signal;e.addEventListener("click",N(this,Ct,vl).bind(this),{signal:n}),e.addEventListener("keydown",b(this,Cm),{signal:n});const i=P(this,cu,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=b(this,Ff),e.append(i),e}renderMainDropdown(){const e=P(this,cn,N(this,Ct,CC).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===b(this,Ur)){N(this,Ct,vl).call(this,e);return}const n=e.target.getAttribute("data-color");n&&N(this,Ct,_C).call(this,n,e)}_moveToNext(e){var n,i;if(!b(this,Ct,ha)){N(this,Ct,vl).call(this,e);return}if(e.target===b(this,Ur)){(n=b(this,cn).firstChild)==null||n.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var n,i;if(e.target===((n=b(this,cn))==null?void 0:n.firstChild)||e.target===b(this,Ur)){b(this,Ct,ha)&&this._hideDropdownFromKeyboard();return}b(this,Ct,ha)||N(this,Ct,vl).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var n;if(!b(this,Ct,ha)){N(this,Ct,vl).call(this,e);return}(n=b(this,cn).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!b(this,Ct,ha)){N(this,Ct,vl).call(this,e);return}(n=b(this,cn).lastChild)==null||n.focus()}hideDropdown(){var e;(e=b(this,cn))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",b(this,_m))}_hideDropdownFromKeyboard(){var e;if(!b(this,Uf)){if(!b(this,Ct,ha)){(e=b(this,wm))==null||e.unselect();return}this.hideDropdown(),b(this,Ur).focus({preventScroll:!0,focusVisible:b(this,xm)})}}updateColor(e){if(b(this,cu)&&(b(this,cu).style.backgroundColor=e),!b(this,cn))return;const n=b(this,Br).highlightColors.values();for(const i of b(this,cn).children)i.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=b(this,Ur))==null||e.remove(),P(this,Ur,null),P(this,cu,null),(n=b(this,cn))==null||n.remove(),P(this,cn,null)}},Cm=new WeakMap,_m=new WeakMap,Ur=new WeakMap,cu=new WeakMap,Ff=new WeakMap,cn=new WeakMap,xm=new WeakMap,Uf=new WeakMap,wm=new WeakMap,Mm=new WeakMap,Br=new WeakMap,Bf=new WeakMap,Ct=new WeakSet,CC=function(){const e=document.createElement("div"),n=b(this,Br)._signal;e.addEventListener("contextmenu",Ai,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of b(this,Br).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${i}`);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.setAttribute("aria-selected",r===b(this,Ff)),s.addEventListener("click",N(this,Ct,_C).bind(this,r),{signal:n}),e.append(s)}return e.addEventListener("keydown",b(this,Cm),{signal:n}),e},_C=function(e,n){n.stopPropagation(),b(this,Mm).dispatch("switchannotationeditorparams",{source:this,type:b(this,Bf),value:e})},sF=function(e){mr._keyboardManager.exec(this,e)},vl=function(e){if(b(this,Ct,ha)){this.hideDropdown();return}if(P(this,xm,e.detail===0),window.addEventListener("pointerdown",b(this,_m),{signal:b(this,Br)._signal}),b(this,cn)){b(this,cn).classList.remove("hidden");return}const n=P(this,cn,N(this,Ct,CC).call(this));b(this,Ur).append(n)},oF=function(e){var n;(n=b(this,cn))!=null&&n.contains(e.target)||this.hideDropdown()},ha=function(){return b(this,cn)&&!b(this,cn).classList.contains("hidden")},mr);var qf,Rm,Na,fu,Hf,dr,Pm,Dm,du,qr,Qn,Bi,R0,Vf,hu,fn,zf,ds,Nm,Xe,xC,wC,aF,lF,uF,MC,Oh,yr,Uc,cF,ly,Fh,fF,dF,hF,pF;const ot=class ot extends dt{constructor(n){super({...n,name:"highlightEditor"});L(this,Xe);L(this,qf,null);L(this,Rm,0);L(this,Na);L(this,fu,null);L(this,Hf,null);L(this,dr,null);L(this,Pm,null);L(this,Dm,0);L(this,du,null);L(this,qr,null);L(this,Qn,null);L(this,Bi,!1);L(this,R0,N(this,Xe,cF).bind(this));L(this,Vf,null);L(this,hu);L(this,fn,null);L(this,zf,"");L(this,ds);L(this,Nm,"");this.color=n.color||ot._defaultColor,P(this,ds,n.thickness||ot._defaultThickness),P(this,hu,n.opacity||ot._defaultOpacity),P(this,Na,n.boxes||null),P(this,Nm,n.methodOfCreation||""),P(this,zf,n.text||""),this._isDraggable=!1,n.highlightId>-1?(P(this,Bi,!0),N(this,Xe,wC).call(this,n),N(this,Xe,Oh).call(this)):(P(this,qf,n.anchorNode),P(this,Rm,n.anchorOffset),P(this,Pm,n.focusNode),P(this,Dm,n.focusOffset),N(this,Xe,xC).call(this),N(this,Xe,Oh).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=ot.prototype;return Ze(this,"_keyboardManager",new Hm([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:b(this,Bi)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:b(this,ds),methodOfCreation:b(this,Nm)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,i){var r;dt.initialize(n,i),ot._defaultColor||(ot._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(n,i){switch(n){case Oe.HIGHLIGHT_DEFAULT_COLOR:ot._defaultColor=i;break;case Oe.HIGHLIGHT_THICKNESS:ot._defaultThickness=i;break}}translateInPage(n,i){}get toolbarPosition(){return b(this,Vf)}updateParams(n,i){switch(n){case Oe.HIGHLIGHT_COLOR:N(this,Xe,aF).call(this,i);break;case Oe.HIGHLIGHT_THICKNESS:N(this,Xe,lF).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Oe.HIGHLIGHT_DEFAULT_COLOR,ot._defaultColor],[Oe.HIGHLIGHT_THICKNESS,ot._defaultThickness]]}get propertiesToUpdate(){return[[Oe.HIGHLIGHT_COLOR,this.color||ot._defaultColor],[Oe.HIGHLIGHT_THICKNESS,b(this,ds)||ot._defaultThickness],[Oe.HIGHLIGHT_FREE,b(this,Bi)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(P(this,Hf,new rF({editor:this})),n.addColorPicker(b(this,Hf))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(N(this,Xe,Fh).call(this))}getBaseTranslation(){return[0,0]}getRect(n,i){return super.getRect(n,i,N(this,Xe,Fh).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){N(this,Xe,MC).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,Xe,Oh).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var r;let i=!1;this.parent&&!n?N(this,Xe,MC).call(this):n&&(N(this,Xe,Oh).call(this,n),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),i&&this.select()}rotate(n){var s,a,u;const{drawLayer:i}=this.parent;let r;b(this,Bi)?(n=(n-this.rotation+360)%360,r=N(s=ot,yr,Uc).call(s,b(this,qr).box,n)):r=N(a=ot,yr,Uc).call(a,this,n),i.rotate(b(this,Qn),n),i.rotate(b(this,fn),n),i.updateBox(b(this,Qn),r),i.updateBox(b(this,fn),N(u=ot,yr,Uc).call(u,b(this,dr).box,n))}render(){if(this.div)return this.div;const n=super.render();b(this,zf)&&(n.setAttribute("aria-label",b(this,zf)),n.setAttribute("role","mark")),b(this,Bi)?n.classList.add("free"):this.div.addEventListener("keydown",b(this,R0),{signal:this._uiManager._signal});const i=P(this,du,document.createElement("div"));n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=b(this,fu);const[r,s]=this.parentDimensions;return this.setDims(this.width*r,this.height*s),Sy(this,b(this,du),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.parent.drawLayer.addClass(b(this,fn),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(b(this,fn),"hovered")}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:N(this,Xe,ly).call(this,!0);break;case 1:case 3:N(this,Xe,ly).call(this,!1);break}}select(){var n,i;super.select(),b(this,fn)&&((n=this.parent)==null||n.drawLayer.removeClass(b(this,fn),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(b(this,fn),"selected"))}unselect(){var n;super.unselect(),b(this,fn)&&((n=this.parent)==null||n.drawLayer.removeClass(b(this,fn),"selected"),b(this,Bi)||N(this,Xe,ly).call(this,!1))}get _mustFixPosition(){return!b(this,Bi)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(b(this,Qn),n),this.parent.drawLayer.show(b(this,fn),n))}static startHighlighting(n,i,{target:r,x:s,y:a}){const{x:u,y:c,width:f,height:h}=r.getBoundingClientRect(),g=_=>{N(this,yr,hF).call(this,n,_)},y=n._signal,S={capture:!0,passive:!1,signal:y},T=_=>{_.preventDefault(),_.stopPropagation()},C=_=>{r.removeEventListener("pointermove",g),window.removeEventListener("blur",C),window.removeEventListener("pointerup",C),window.removeEventListener("pointerdown",T,S),window.removeEventListener("contextmenu",Ai),N(this,yr,pF).call(this,n,_)};window.addEventListener("blur",C,{signal:y}),window.addEventListener("pointerup",C,{signal:y}),window.addEventListener("pointerdown",T,S),window.addEventListener("contextmenu",Ai,{signal:y}),r.addEventListener("pointermove",g,{signal:y}),this._freeHighlight=new Cy({x:s,y:a},[u,c,f,h],n.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(n,i,r){var C;const s=super.deserialize(n,i,r),{rect:[a,u,c,f],color:h,quadPoints:g}=n;s.color=Ce.makeHexColor(...h),P(s,hu,n.opacity);const[y,S]=s.pageDimensions;s.width=(c-a)/y,s.height=(f-u)/S;const T=P(s,Na,[]);for(let _=0;_<g.length;_+=8)T.push({x:(g[4]-c)/y,y:(f-(1-g[_+5]))/S,width:(g[_+2]-g[_])/y,height:(g[_+5]-g[_+1])/S});return N(C=s,Xe,xC).call(C),s}serialize(n=!1){if(this.isEmpty()||n)return null;const i=this.getRect(0,0),r=dt._colorManager.convert(this.color);return{annotationType:Qe.HIGHLIGHT,color:r,opacity:b(this,hu),thickness:b(this,ds),quadPoints:N(this,Xe,fF).call(this),outlines:N(this,Xe,dF).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:N(this,Xe,Fh).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};qf=new WeakMap,Rm=new WeakMap,Na=new WeakMap,fu=new WeakMap,Hf=new WeakMap,dr=new WeakMap,Pm=new WeakMap,Dm=new WeakMap,du=new WeakMap,qr=new WeakMap,Qn=new WeakMap,Bi=new WeakMap,R0=new WeakMap,Vf=new WeakMap,hu=new WeakMap,fn=new WeakMap,zf=new WeakMap,ds=new WeakMap,Nm=new WeakMap,Xe=new WeakSet,xC=function(){const n=new AC(b(this,Na),.001);P(this,qr,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=b(this,qr).box;const i=new AC(b(this,Na),.0025,.001,this._uiManager.direction==="ltr");P(this,dr,i.getOutlines());const{lastPoint:r}=b(this,dr).box;P(this,Vf,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},wC=function({highlightOutlines:n,highlightId:i,clipPathId:r}){var g,y;if(P(this,qr,n),P(this,dr,n.getNewOutline(b(this,ds)/2+1.5,.0025)),i>=0)P(this,Qn,i),P(this,fu,r),this.parent.drawLayer.finalizeLine(i,n),P(this,fn,this.parent.drawLayer.highlightOutline(b(this,dr)));else if(this.parent){const S=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(b(this,Qn),n),this.parent.drawLayer.updateBox(b(this,Qn),N(g=ot,yr,Uc).call(g,b(this,qr).box,(S-this.rotation+360)%360)),this.parent.drawLayer.updateLine(b(this,fn),b(this,dr)),this.parent.drawLayer.updateBox(b(this,fn),N(y=ot,yr,Uc).call(y,b(this,dr).box,S))}const{x:a,y:u,width:c,height:f}=n.box;switch(this.rotation){case 0:this.x=a,this.y=u,this.width=c,this.height=f;break;case 90:{const[S,T]=this.parentDimensions;this.x=u,this.y=1-a,this.width=c*T/S,this.height=f*S/T;break}case 180:this.x=1-a,this.y=1-u,this.width=c,this.height=f;break;case 270:{const[S,T]=this.parentDimensions;this.x=1-u,this.y=a,this.width=c*T/S,this.height=f*S/T;break}}const{lastPoint:h}=b(this,dr).box;P(this,Vf,[(h[0]-a)/c,(h[1]-u)/f])},aF=function(n){const i=s=>{var a,u;this.color=s,(a=this.parent)==null||a.drawLayer.changeColor(b(this,Qn),s),(u=b(this,Hf))==null||u.updateColor(s)},r=this.color;this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Oe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},lF=function(n){const i=b(this,ds),r=s=>{P(this,ds,s),N(this,Xe,uF).call(this,s)};this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Oe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},uF=function(n){if(!b(this,Bi))return;N(this,Xe,wC).call(this,{highlightOutlines:b(this,qr).getNewOutline(n/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},MC=function(){b(this,Qn)===null||!this.parent||(this.parent.drawLayer.remove(b(this,Qn)),P(this,Qn,null),this.parent.drawLayer.remove(b(this,fn)),P(this,fn,null))},Oh=function(n=this.parent){b(this,Qn)===null&&({id:Pi(this,Qn)._,clipPathId:Pi(this,fu)._}=n.drawLayer.highlight(b(this,qr),this.color,b(this,hu)),P(this,fn,n.drawLayer.highlightOutline(b(this,dr))),b(this,du)&&(b(this,du).style.clipPath=b(this,fu)))},yr=new WeakSet,Uc=function({x:n,y:i,width:r,height:s},a){switch(a){case 90:return{x:1-i-s,y:n,width:s,height:r};case 180:return{x:1-n-r,y:1-i-s,width:r,height:s};case 270:return{x:i,y:1-n-r,width:s,height:r}}return{x:n,y:i,width:r,height:s}},cF=function(n){ot._keyboardManager.exec(this,n)},ly=function(n){if(!b(this,qf))return;const i=window.getSelection();n?i.setPosition(b(this,qf),b(this,Rm)):i.setPosition(b(this,Pm),b(this,Dm))},Fh=function(){return b(this,Bi)?this.rotation:0},fF=function(){if(b(this,Bi))return null;const[n,i]=this.pageDimensions,r=b(this,Na),s=new Float32Array(r.length*8);let a=0;for(const{x:u,y:c,width:f,height:h}of r){const g=u*n,y=(1-c-h)*i;s[a]=s[a+4]=g,s[a+1]=s[a+3]=y,s[a+2]=s[a+6]=g+f*n,s[a+5]=s[a+7]=y+h*i,a+=8}return s},dF=function(n){return b(this,qr).serialize(n,N(this,Xe,Fh).call(this))},hF=function(n,i){this._freeHighlight.add(i)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},pF=function(n,i){this._freeHighlight.isEmpty()?n.drawLayer.removeFreeHighlight(this._freeHighlightId):n.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},L(ot,yr),Le(ot,"_defaultColor",null),Le(ot,"_defaultOpacity",1),Le(ot,"_defaultThickness",12),Le(ot,"_l10nPromise"),Le(ot,"_type","highlight"),Le(ot,"_editorType",Qe.HIGHLIGHT),Le(ot,"_freeHighlightId",-1),Le(ot,"_freeHighlight",null),Le(ot,"_freeHighlightClipId","");let _y=ot;var pu,mu,Im,km,Lm,gu,hs,uo,hr,vu,yu,co,bu,Au,Ia,ge,mF,gF,vF,yF,PC,bF,DC,AF,SF,TF,EF,CF,yl,NC,uy,cy,Bc,IC,fy,ko,_F,kC,xF,wF,LC,dy,Uh;const Bt=class Bt extends dt{constructor(n){super({...n,name:"inkEditor"});L(this,ge);L(this,pu,0);L(this,mu,0);L(this,Im,this.canvasPointermove.bind(this));L(this,km,this.canvasPointerleave.bind(this));L(this,Lm,this.canvasPointerup.bind(this));L(this,gu,this.canvasPointerdown.bind(this));L(this,hs,null);L(this,uo,new Path2D);L(this,hr,!1);L(this,vu,!1);L(this,yu,!1);L(this,co,null);L(this,bu,0);L(this,Au,0);L(this,Ia,null);this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,i){dt.initialize(n,i)}static updateDefaultParams(n,i){switch(n){case Oe.INK_THICKNESS:Bt._defaultThickness=i;break;case Oe.INK_COLOR:Bt._defaultColor=i;break;case Oe.INK_OPACITY:Bt._defaultOpacity=i/100;break}}updateParams(n,i){switch(n){case Oe.INK_THICKNESS:N(this,ge,mF).call(this,i);break;case Oe.INK_COLOR:N(this,ge,gF).call(this,i);break;case Oe.INK_OPACITY:N(this,ge,vF).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Oe.INK_THICKNESS,Bt._defaultThickness],[Oe.INK_COLOR,Bt._defaultColor||dt._defaultLineColor],[Oe.INK_OPACITY,Math.round(Bt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Oe.INK_THICKNESS,this.thickness||Bt._defaultThickness],[Oe.INK_COLOR,this.color||Bt._defaultColor||dt._defaultLineColor],[Oe.INK_OPACITY,Math.round(100*(this.opacity??Bt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(N(this,ge,uy).call(this),N(this,ge,cy).call(this)),this.isAttachedToDOM||(this.parent.add(this),N(this,ge,Bc).call(this)),N(this,ge,Uh).call(this)))}remove(){var n;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,b(this,hs)&&(clearTimeout(b(this,hs)),P(this,hs,null)),(n=b(this,co))==null||n.disconnect(),P(this,co,null),super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,i]=this.parentDimensions,r=this.width*n,s=this.height*i;this.setDimensions(r,s)}enableEditMode(){b(this,hr)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",b(this,gu),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",b(this,gu)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){b(this,hr)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),P(this,hr,!0),this.div.classList.add("disabled"),N(this,ge,Uh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||b(this,hr)||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),N(this,ge,bF).call(this,n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),N(this,ge,DC).call(this,n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),N(this,ge,NC).call(this,n)}canvasPointerleave(n){N(this,ge,NC).call(this,n)}get isResizable(){return!this.isEmpty()&&b(this,hr)}render(){if(this.div)return this.div;let n,i;this.width&&(n=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,s,a,u]=N(this,ge,yF).call(this);if(this.setAt(r,s,0,0),this.setDims(a,u),N(this,ge,uy).call(this),this.width){const[c,f]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*f),this.setAt(n*c,i*f,this.width*c,this.height*f),P(this,yu,!0),N(this,ge,Bc).call(this),this.setDims(this.width*c,this.height*f),N(this,ge,yl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return N(this,ge,cy).call(this),this.div}setDimensions(n,i){const r=Math.round(n),s=Math.round(i);if(b(this,bu)===r&&b(this,Au)===s)return;P(this,bu,r),P(this,Au,s),this.canvas.style.visibility="hidden";const[a,u]=this.parentDimensions;this.width=n/a,this.height=i/u,this.fixAndSetPosition(),b(this,hr)&&N(this,ge,IC).call(this,n,i),N(this,ge,Bc).call(this),N(this,ge,yl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(n,i,r){var _,x,R;if(n instanceof $2)return null;const s=super.deserialize(n,i,r);s.thickness=n.thickness,s.color=Ce.makeHexColor(...n.color),s.opacity=n.opacity;const[a,u]=s.pageDimensions,c=s.width*a,f=s.height*u,h=s.parentScale,g=n.thickness/2;P(s,hr,!0),P(s,bu,Math.round(c)),P(s,Au,Math.round(f));const{paths:y,rect:S,rotation:T}=n;for(let{bezier:M}of y){M=N(_=Bt,ko,xF).call(_,M,S,T);const U=[];s.paths.push(U);let k=h*(M[0]-g),F=h*(M[1]-g);for(let z=2,G=M.length;z<G;z+=6){const ee=h*(M[z]-g),K=h*(M[z+1]-g),ie=h*(M[z+2]-g),he=h*(M[z+3]-g),fe=h*(M[z+4]-g),de=h*(M[z+5]-g);U.push([[k,F],[ee,K],[ie,he],[fe,de]]),k=fe,F=de}const q=N(this,ko,_F).call(this,U);s.bezierPath2D.push(q)}const C=N(x=s,ge,LC).call(x);return P(s,mu,Math.max(dt.MIN_SIZE,C[2]-C[0])),P(s,pu,Math.max(dt.MIN_SIZE,C[3]-C[1])),N(R=s,ge,IC).call(R,c,f),s}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),i=dt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Qe.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:N(this,ge,wF).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};pu=new WeakMap,mu=new WeakMap,Im=new WeakMap,km=new WeakMap,Lm=new WeakMap,gu=new WeakMap,hs=new WeakMap,uo=new WeakMap,hr=new WeakMap,vu=new WeakMap,yu=new WeakMap,co=new WeakMap,bu=new WeakMap,Au=new WeakMap,Ia=new WeakMap,ge=new WeakSet,mF=function(n){const i=s=>{this.thickness=s,N(this,ge,Uh).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Oe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},gF=function(n){const i=s=>{this.color=s,N(this,ge,yl).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Oe.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},vF=function(n){const i=s=>{this.opacity=s,N(this,ge,yl).call(this)};n/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Oe.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},yF=function(){const{parentRotation:n,parentDimensions:[i,r]}=this;switch(n){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},PC=function(){const{ctx:n,color:i,opacity:r,thickness:s,parentScale:a,scaleFactor:u}=this;n.lineWidth=s*a/u,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${i}${M4(r)}`},bF=function(n,i){const r=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Ai,{signal:r}),this.canvas.addEventListener("pointerleave",b(this,km),{signal:r}),this.canvas.addEventListener("pointermove",b(this,Im),{signal:r}),this.canvas.addEventListener("pointerup",b(this,Lm),{signal:r}),this.canvas.removeEventListener("pointerdown",b(this,gu)),this.isEditing=!0,b(this,yu)||(P(this,yu,!0),N(this,ge,Bc).call(this),this.thickness||(this.thickness=Bt._defaultThickness),this.color||(this.color=Bt._defaultColor||dt._defaultLineColor),this.opacity??(this.opacity=Bt._defaultOpacity)),this.currentPath.push([n,i]),P(this,vu,!1),N(this,ge,PC).call(this),P(this,Ia,()=>{N(this,ge,TF).call(this),b(this,Ia)&&window.requestAnimationFrame(b(this,Ia))}),window.requestAnimationFrame(b(this,Ia))},DC=function(n,i){const[r,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===r&&i===s)return;const a=this.currentPath;let u=b(this,uo);if(a.push([n,i]),P(this,vu,!0),a.length<=2){u.moveTo(...a[0]),u.lineTo(n,i);return}a.length===3&&(P(this,uo,u=new Path2D),u.moveTo(...a[0])),N(this,ge,EF).call(this,u,...a.at(-3),...a.at(-2),n,i)},AF=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);b(this,uo).lineTo(...n)},SF=function(n,i){P(this,Ia,null),n=Math.min(Math.max(n,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),N(this,ge,DC).call(this,n,i),N(this,ge,AF).call(this);let r;if(this.currentPath.length!==1)r=N(this,ge,CF).call(this);else{const f=[n,i];r=[[f,f.slice(),f.slice(),f]]}const s=b(this,uo),a=this.currentPath;this.currentPath=[],P(this,uo,new Path2D);const u=()=>{this.allRawPaths.push(a),this.paths.push(r),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(N(this,ge,uy).call(this),N(this,ge,cy).call(this)),N(this,ge,Uh).call(this))};this.addCommands({cmd:u,undo:c,mustExec:!0})},TF=function(){if(!b(this,vu))return;P(this,vu,!1);const n=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(u=>u[0]),s=i.map(u=>u[1]);Math.min(...r)-n,Math.max(...r)+n,Math.min(...s)-n,Math.max(...s)+n;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const u of this.bezierPath2D)a.stroke(u);a.stroke(b(this,uo)),a.restore()},EF=function(n,i,r,s,a,u,c){const f=(i+s)/2,h=(r+a)/2,g=(s+u)/2,y=(a+c)/2;n.bezierCurveTo(f+2*(s-f)/3,h+2*(a-h)/3,g+2*(s-g)/3,y+2*(a-y)/3,g,y)},CF=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const i=[];let r,[s,a]=n[0];for(r=1;r<n.length-2;r++){const[S,T]=n[r],[C,_]=n[r+1],x=(S+C)/2,R=(T+_)/2,M=[s+2*(S-s)/3,a+2*(T-a)/3],U=[x+2*(S-x)/3,R+2*(T-R)/3];i.push([[s,a],M,U,[x,R]]),[s,a]=[x,R]}const[u,c]=n[r],[f,h]=n[r+1],g=[s+2*(u-s)/3,a+2*(c-a)/3],y=[f+2*(u-f)/3,h+2*(c-h)/3];return i.push([[s,a],g,y,[f,h]]),i},yl=function(){if(this.isEmpty()){N(this,ge,fy).call(this);return}N(this,ge,PC).call(this);const{canvas:n,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,n.width,n.height),N(this,ge,fy).call(this);for(const r of this.bezierPath2D)i.stroke(r)},NC=function(n){this.canvas.removeEventListener("pointerleave",b(this,km)),this.canvas.removeEventListener("pointermove",b(this,Im)),this.canvas.removeEventListener("pointerup",b(this,Lm)),this.canvas.addEventListener("pointerdown",b(this,gu),{signal:this._uiManager._signal}),b(this,hs)&&clearTimeout(b(this,hs)),P(this,hs,setTimeout(()=>{P(this,hs,null),this.canvas.removeEventListener("contextmenu",Ai)},10)),N(this,ge,SF).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},uy=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},cy=function(){P(this,co,new ResizeObserver(n=>{const i=n[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),b(this,co).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=b(this,co))==null||n.disconnect(),P(this,co,null)},{once:!0})},Bc=function(){if(!b(this,yu))return;const[n,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*i),N(this,ge,fy).call(this)},IC=function(n,i){const r=N(this,ge,dy).call(this),s=(n-r)/b(this,mu),a=(i-r)/b(this,pu);this.scaleFactor=Math.min(s,a)},fy=function(){const n=N(this,ge,dy).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},ko=new WeakSet,_F=function(n){const i=new Path2D;for(let r=0,s=n.length;r<s;r++){const[a,u,c,f]=n[r];r===0&&i.moveTo(...a),i.bezierCurveTo(u[0],u[1],c[0],c[1],f[0],f[1])}return i},kC=function(n,i,r){const[s,a,u,c]=i;switch(r){case 0:for(let f=0,h=n.length;f<h;f+=2)n[f]+=s,n[f+1]=c-n[f+1];break;case 90:for(let f=0,h=n.length;f<h;f+=2){const g=n[f];n[f]=n[f+1]+s,n[f+1]=g+a}break;case 180:for(let f=0,h=n.length;f<h;f+=2)n[f]=u-n[f],n[f+1]+=a;break;case 270:for(let f=0,h=n.length;f<h;f+=2){const g=n[f];n[f]=u-n[f+1],n[f+1]=c-g}break;default:throw new Error("Invalid rotation")}return n},xF=function(n,i,r){const[s,a,u,c]=i;switch(r){case 0:for(let f=0,h=n.length;f<h;f+=2)n[f]-=s,n[f+1]=c-n[f+1];break;case 90:for(let f=0,h=n.length;f<h;f+=2){const g=n[f];n[f]=n[f+1]-a,n[f+1]=g-s}break;case 180:for(let f=0,h=n.length;f<h;f+=2)n[f]=u-n[f],n[f+1]-=a;break;case 270:for(let f=0,h=n.length;f<h;f+=2){const g=n[f];n[f]=c-n[f+1],n[f+1]=u-g}break;default:throw new Error("Invalid rotation")}return n},wF=function(n,i,r,s){var h,g;const a=[],u=this.thickness/2,c=n*i+u,f=n*r+u;for(const y of this.paths){const S=[],T=[];for(let C=0,_=y.length;C<_;C++){const[x,R,M,U]=y[C];if(x[0]===U[0]&&x[1]===U[1]&&_===1){const he=n*x[0]+c,fe=n*x[1]+f;S.push(he,fe),T.push(he,fe);break}const k=n*x[0]+c,F=n*x[1]+f,q=n*R[0]+c,z=n*R[1]+f,G=n*M[0]+c,ee=n*M[1]+f,K=n*U[0]+c,ie=n*U[1]+f;C===0&&(S.push(k,F),T.push(k,F)),S.push(q,z,G,ee,K,ie),T.push(q,z),C===_-1&&T.push(K,ie)}a.push({bezier:N(h=Bt,ko,kC).call(h,S,s,this.rotation),points:N(g=Bt,ko,kC).call(g,T,s,this.rotation)})}return a},LC=function(){let n=1/0,i=-1/0,r=1/0,s=-1/0;for(const a of this.paths)for(const[u,c,f,h]of a){const g=Ce.bezierBoundingBox(...u,...c,...f,...h);n=Math.min(n,g[0]),r=Math.min(r,g[1]),i=Math.max(i,g[2]),s=Math.max(s,g[3])}return[n,r,i,s]},dy=function(){return b(this,hr)?Math.ceil(this.thickness*this.parentScale):0},Uh=function(n=!1){if(this.isEmpty())return;if(!b(this,hr)){N(this,ge,yl).call(this);return}const i=N(this,ge,LC).call(this),r=N(this,ge,dy).call(this);P(this,mu,Math.max(dt.MIN_SIZE,i[2]-i[0])),P(this,pu,Math.max(dt.MIN_SIZE,i[3]-i[1]));const s=Math.ceil(r+b(this,mu)*this.scaleFactor),a=Math.ceil(r+b(this,pu)*this.scaleFactor),[u,c]=this.parentDimensions;this.width=s/u,this.height=a/c,this.setAspectRatio(s,a);const f=this.translationX,h=this.translationY;this.translationX=-i[0],this.translationY=-i[1],N(this,ge,Bc).call(this),N(this,ge,yl).call(this),P(this,bu,s),P(this,Au,a),this.setDims(s,a);const g=n?r/this.scaleFactor/2:0;this.translate(f-this.translationX-g,h-this.translationY-g)},L(Bt,ko),Le(Bt,"_defaultColor",null),Le(Bt,"_defaultOpacity",1),Le(Bt,"_defaultThickness",1),Le(Bt,"_type","ink"),Le(Bt,"_editorType",Qe.INK);let RC=Bt;var Ln,On,ka,fo,La,Gf,ps,ho,ms,Hr,Om,nt,Bh,qh,hy,FC,MF,RF,UC,py,PF;const Kh=class Kh extends dt{constructor(n){super({...n,name:"stampEditor"});L(this,nt);L(this,Ln,null);L(this,On,null);L(this,ka,null);L(this,fo,null);L(this,La,null);L(this,Gf,"");L(this,ps,null);L(this,ho,null);L(this,ms,null);L(this,Hr,!1);L(this,Om,!1);P(this,fo,n.bitmapUrl),P(this,La,n.bitmapFile)}static initialize(n,i){dt.initialize(n,i)}static get supportedTypes(){return Ze(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return Ze(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,i){i.pasteEditor(Qe.STAMP,{bitmapFile:n.getAsFile()})}remove(){var n,i;b(this,On)&&(P(this,Ln,null),this._uiManager.imageManager.deleteId(b(this,On)),(n=b(this,ps))==null||n.remove(),P(this,ps,null),(i=b(this,ho))==null||i.disconnect(),P(this,ho,null),b(this,ms)&&(clearTimeout(b(this,ms)),P(this,ms,null))),super.remove()}rebuild(){if(!this.parent){b(this,On)&&N(this,nt,hy).call(this);return}super.rebuild(),this.div!==null&&(b(this,On)&&b(this,ps)===null&&N(this,nt,hy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(b(this,ka)||b(this,Ln)||b(this,fo)||b(this,La)||b(this,On))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,i;if(this.width&&(n=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),b(this,Ln)?N(this,nt,FC).call(this):N(this,nt,hy).call(this),this.width){const[r,s]=this.parentDimensions;this.setAt(n*r,i*s,this.width*r,this.height*s)}return this.div}getImageForAltText(){return b(this,ps)}static deserialize(n,i,r){if(n instanceof Y2)return null;const s=super.deserialize(n,i,r),{rect:a,bitmapUrl:u,bitmapId:c,isSvg:f,accessibilityData:h}=n;c&&r.imageManager.isValidId(c)?P(s,On,c):P(s,fo,u),P(s,Hr,f);const[g,y]=s.pageDimensions;return s.width=(a[2]-a[0])/g,s.height=(a[3]-a[1])/y,h&&(s.altTextData=h),s}serialize(n=!1,i=null){if(this.isEmpty())return null;const r={annotationType:Qe.STAMP,bitmapId:b(this,On),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:b(this,Hr),structTreeParentId:this._structTreeParentId};if(n)return r.bitmapUrl=N(this,nt,py).call(this,!0),r.accessibilityData=this.altTextData,r;const{decorative:s,altText:a}=this.altTextData;if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),i===null)return r;i.stamps||(i.stamps=new Map);const u=b(this,Hr)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(b(this,On)))i.stamps.set(b(this,On),{area:u,serialized:r}),r.bitmap=N(this,nt,py).call(this,!1);else if(b(this,Hr)){const c=i.stamps.get(b(this,On));u>c.area&&(c.area=u,c.serialized.bitmap.close(),c.serialized.bitmap=N(this,nt,py).call(this,!1))}return r}};Ln=new WeakMap,On=new WeakMap,ka=new WeakMap,fo=new WeakMap,La=new WeakMap,Gf=new WeakMap,ps=new WeakMap,ho=new WeakMap,ms=new WeakMap,Hr=new WeakMap,Om=new WeakMap,nt=new WeakSet,Bh=function(n,i=!1){if(!n){this.remove();return}P(this,Ln,n.bitmap),i||(P(this,On,n.id),P(this,Hr,n.isSvg)),n.file&&P(this,Gf,n.file.name),N(this,nt,FC).call(this)},qh=function(){P(this,ka,null),this._uiManager.enableWaiting(!1),b(this,ps)&&this.div.focus()},hy=function(){if(b(this,On)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(b(this,On)).then(r=>N(this,nt,Bh).call(this,r,!0)).finally(()=>N(this,nt,qh).call(this));return}if(b(this,fo)){const r=b(this,fo);P(this,fo,null),this._uiManager.enableWaiting(!0),P(this,ka,this._uiManager.imageManager.getFromUrl(r).then(s=>N(this,nt,Bh).call(this,s)).finally(()=>N(this,nt,qh).call(this)));return}if(b(this,La)){const r=b(this,La);P(this,La,null),this._uiManager.enableWaiting(!0),P(this,ka,this._uiManager.imageManager.getFromFile(r).then(s=>N(this,nt,Bh).call(this,s)).finally(()=>N(this,nt,qh).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=Kh.supportedTypesStr;const i=this._uiManager._signal;P(this,ka,new Promise(r=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(n.files[0]);N(this,nt,Bh).call(this,s)}r()},{signal:i}),n.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>N(this,nt,qh).call(this))),n.click()},FC=function(){const{div:n}=this;let{width:i,height:r}=b(this,Ln);const[s,a]=this.pageDimensions,u=.75;if(this.width)i=this.width*s,r=this.height*a;else if(i>u*s||r>u*a){const g=Math.min(u*s/i,u*a/r);i*=g,r*=g}const[c,f]=this.parentDimensions;this.setDims(i*c/s,r*f/a),this._uiManager.enableWaiting(!1);const h=P(this,ps,document.createElement("canvas"));n.append(h),n.hidden=!1,N(this,nt,UC).call(this,i,r),N(this,nt,PF).call(this),b(this,Om)||(this.parent.addUndoableEditor(this),P(this,Om,!0)),this._reportTelemetry({action:"inserted_image"}),b(this,Gf)&&h.setAttribute("aria-label",b(this,Gf))},MF=function(n,i){var u;const[r,s]=this.parentDimensions;this.width=n/r,this.height=i/s,this.setDims(n,i),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,b(this,ms)!==null&&clearTimeout(b(this,ms)),P(this,ms,setTimeout(()=>{P(this,ms,null),N(this,nt,UC).call(this,n,i)},200))},RF=function(n,i){const{width:r,height:s}=b(this,Ln);let a=r,u=s,c=b(this,Ln);for(;a>2*n||u>2*i;){const f=a,h=u;a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),u>2*i&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const g=new OffscreenCanvas(a,u);g.getContext("2d").drawImage(c,0,0,f,h,0,0,a,u),c=g.transferToImageBitmap()}return c},UC=function(n,i){n=Math.ceil(n),i=Math.ceil(i);const r=b(this,ps);if(!r||r.width===n&&r.height===i)return;r.width=n,r.height=i;const s=b(this,Hr)?b(this,Ln):N(this,nt,RF).call(this,n,i);if(this._uiManager.hasMLManager&&!this.hasAltText()){const c=new OffscreenCanvas(n,i).getContext("2d");c.drawImage(s,0,0,s.width,s.height,0,0,n,i),this._uiManager.mlGuess({service:"image-to-text",request:{data:c.getImageData(0,0,n,i).data,width:n,height:i,channels:4}}).then(f=>{const h=(f==null?void 0:f.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})})}const a=r.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(s,0,0,s.width,s.height,0,0,n,i)},py=function(n){if(n){if(b(this,Hr)){const s=this._uiManager.imageManager.getSvgUrl(b(this,On));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=b(this,Ln),i.getContext("2d").drawImage(b(this,Ln),0,0),i.toDataURL()}if(b(this,Hr)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*qa.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*qa.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(s,a);return u.getContext("2d").drawImage(b(this,Ln),0,0,b(this,Ln).width,b(this,Ln).height,0,0,s,a),u.transferToImageBitmap()}return structuredClone(b(this,Ln))},PF=function(){this._uiManager._signal&&(P(this,ho,new ResizeObserver(n=>{const i=n[0].contentRect;i.width&&i.height&&N(this,nt,MF).call(this,i.width,i.height)})),b(this,ho).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=b(this,ho))==null||n.disconnect(),P(this,ho,null)},{once:!0}))},Le(Kh,"_type","stamp"),Le(Kh,"_editorType",Qe.STAMP);let OC=Kh;var Su,$f,gs,Tu,po,mo,go,qi,Oa,Yf,Kf,Zn,Re,Fa,Bn,DF,qC,HC,VC,my;const wr=class wr{constructor({uiManager:e,pageIndex:n,div:i,accessibilityManager:r,annotationLayer:s,drawLayer:a,textLayer:u,viewport:c,l10n:f}){L(this,Bn);L(this,Su);L(this,$f,!1);L(this,gs,null);L(this,Tu,null);L(this,po,null);L(this,mo,null);L(this,go,null);L(this,qi,new Map);L(this,Oa,!1);L(this,Yf,!1);L(this,Kf,!1);L(this,Zn,null);L(this,Re);const h=[...b(wr,Fa).values()];if(!wr._initialized){wr._initialized=!0;for(const g of h)g.initialize(f,e)}e.registerEditorTypes(h),P(this,Re,e),this.pageIndex=n,this.div=i,P(this,Su,r),P(this,gs,s),this.viewport=c,P(this,Zn,u),this.drawLayer=a,b(this,Re).addLayer(this)}get isEmpty(){return b(this,qi).size===0}get isInvisible(){return this.isEmpty&&b(this,Re).getMode()===Qe.NONE}updateToolbar(e){b(this,Re).updateToolbar(e)}updateMode(e=b(this,Re).getMode()){switch(N(this,Bn,my).call(this),e){case Qe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Qe.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Qe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const i of b(wr,Fa).values())n.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=b(this,Zn))==null?void 0:n.div)}addInkEditorIfNeeded(e){if(b(this,Re).getMode()!==Qe.INK)return;if(!e){for(const i of b(this,qi).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){b(this,Re).setEditingState(e)}addCommands(e){b(this,Re).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=b(this,gs))==null||n.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of b(this,qi).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(b(this,Re).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!b(this,gs))return;const n=b(this,gs).getEditableAnnotations();for(const i of n){if(i.hide(),b(this,Re).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;P(this,Kf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const s of b(this,qi).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else n.set(s.annotationElementId,s);(r=this.getEditableAnnotation(s.annotationElementId))==null||r.show(),s.remove()}if(b(this,gs)){const s=b(this,gs).getEditableAnnotations();for(const a of s){const{id:u}=a.data;if(b(this,Re).isDeletedAnnotationElement(u))continue;let c=n.get(u);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=e.get(u),c&&(b(this,Re).addChangedExistingAnnotation(c),c.renderAnnotationElement(a),c.show(!1)),a.show()}}N(this,Bn,my).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of b(wr,Fa).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),P(this,Kf,!1)}getEditableAnnotation(e){var n;return((n=b(this,gs))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){b(this,Re).getActive()!==e&&b(this,Re).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=b(this,Zn))!=null&&e.div&&!b(this,mo)&&(P(this,mo,N(this,Bn,DF).bind(this)),b(this,Zn).div.addEventListener("pointerdown",b(this,mo),{signal:b(this,Re)._signal}),b(this,Zn).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=b(this,Zn))!=null&&e.div&&b(this,mo)&&(b(this,Zn).div.removeEventListener("pointerdown",b(this,mo)),P(this,mo,null),b(this,Zn).div.classList.remove("highlighting"))}enableClick(){if(b(this,po))return;const e=b(this,Re)._signal;P(this,po,this.pointerdown.bind(this)),P(this,Tu,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",b(this,po),{signal:e}),this.div.addEventListener("pointerup",b(this,Tu),{signal:e})}disableClick(){b(this,po)&&(this.div.removeEventListener("pointerdown",b(this,po)),this.div.removeEventListener("pointerup",b(this,Tu)),P(this,po,null),P(this,Tu,null))}attach(e){b(this,qi).set(e.id,e);const{annotationElementId:n}=e;n&&b(this,Re).isDeletedAnnotationElement(n)&&b(this,Re).removeDeletedAnnotationElement(e)}detach(e){var n;b(this,qi).delete(e.id),(n=b(this,Su))==null||n.removePointerInTextLayer(e.contentDiv),!b(this,Kf)&&e.annotationElementId&&b(this,Re).addDeletedAnnotationElement(e)}remove(e){this.detach(e),b(this,Re).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,b(this,Yf)||this.addInkEditorIfNeeded(!1)}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(b(this,Re).addDeletedAnnotationElement(e.annotationElementId),dt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),b(this,Re).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),b(this,Re).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!b(this,go)&&(e._focusEventsAllowed=!1,P(this,go,setTimeout(()=>{P(this,go,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:b(this,Re)._signal}),n.focus())},0))),e._structTreeParentId=(i=b(this,Su))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:n,undo:i,mustExec:!1})}getNextId(){return b(this,Re).getId()}get _signal(){return b(this,Re)._signal}canCreateNewEmptyEditor(){var e;return(e=b(this,Bn,qC))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){b(this,Re).updateToolbar(e),b(this,Re).updateMode(e);const{offsetX:i,offsetY:r}=N(this,Bn,VC).call(this),s=this.getNextId(),a=N(this,Bn,HC).call(this,{parent:this,id:s,x:i,y:r,uiManager:b(this,Re),isCentered:!0,...n});a&&this.add(a)}deserialize(e){var n;return((n=b(wr,Fa).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,b(this,Re)))||null}createAndAddNewEditor(e,n,i={}){const r=this.getNextId(),s=N(this,Bn,HC).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:b(this,Re),isCentered:n,...i});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(N(this,Bn,VC).call(this),!0)}setSelected(e){b(this,Re).setSelected(e)}toggleSelected(e){b(this,Re).toggleSelected(e)}isSelected(e){return b(this,Re).isSelected(e)}unselect(e){b(this,Re).unselect(e)}pointerup(e){const{isMac:n}=gi.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&b(this,Oa)){if(P(this,Oa,!1),!b(this,$f)){P(this,$f,!0);return}if(b(this,Re).getMode()===Qe.STAMP){b(this,Re).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(b(this,Re).getMode()===Qe.HIGHLIGHT&&this.enableTextSelection(),b(this,Oa)){P(this,Oa,!1);return}const{isMac:n}=gi.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;P(this,Oa,!0);const i=b(this,Re).getActive();P(this,$f,!i||i.isEmpty())}findNewParent(e,n,i){const r=b(this,Re).findParent(n,i);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,n;((e=b(this,Re).getActive())==null?void 0:e.parent)===this&&(b(this,Re).commitOrRemove(),b(this,Re).setActiveEditor(null)),b(this,go)&&(clearTimeout(b(this,go)),P(this,go,null));for(const i of b(this,qi).values())(n=b(this,Su))==null||n.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,b(this,qi).clear(),b(this,Re).removeLayer(this)}render({viewport:e}){this.viewport=e,Mu(this.div,e);for(const n of b(this,Re).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){b(this,Re).commitOrRemove(),N(this,Bn,my).call(this);const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Mu(this.div,{rotation:i}),n!==i)for(const r of b(this,qi).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return b(this,Re).viewParameters.realScale}};Su=new WeakMap,$f=new WeakMap,gs=new WeakMap,Tu=new WeakMap,po=new WeakMap,mo=new WeakMap,go=new WeakMap,qi=new WeakMap,Oa=new WeakMap,Yf=new WeakMap,Kf=new WeakMap,Zn=new WeakMap,Re=new WeakMap,Fa=new WeakMap,Bn=new WeakSet,DF=function(e){if(b(this,Re).unselectAll(),e.target===b(this,Zn).div){const{isMac:n}=gi.platform;if(e.button!==0||e.ctrlKey&&n)return;b(this,Re).showAllEditors("highlight",!0,!0),b(this,Zn).div.classList.add("free"),_y.startHighlighting(this,b(this,Re).direction==="ltr",e),b(this,Zn).div.addEventListener("pointerup",()=>{b(this,Zn).div.classList.remove("free")},{once:!0,signal:b(this,Re)._signal}),e.preventDefault()}},qC=function(){return b(wr,Fa).get(b(this,Re).getMode())},HC=function(e){const n=b(this,Bn,qC);return n?new n.prototype.constructor(e):null},VC=function(){const{x:e,y:n,width:i,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,n),u=Math.min(window.innerWidth,e+i),c=Math.min(window.innerHeight,n+r),f=(s+u)/2-e,h=(a+c)/2-n,[g,y]=this.viewport.rotation%180===0?[f,h]:[h,f];return{offsetX:g,offsetY:y}},my=function(){P(this,Yf,!0);for(const e of b(this,qi).values())e.isEmpty()&&e.remove();P(this,Yf,!1)},Le(wr,"_initialized",!1),L(wr,Fa,new Map([yC,RC,OC,_y].map(e=>[e._editorType,e])));let BC=wr;var vs,Fm,dn,Ua,Um,GC,Ou,$C,NF;const Pn=class Pn{constructor({pageIndex:e}){L(this,Ou);L(this,vs,null);L(this,Fm,0);L(this,dn,new Map);L(this,Ua,new Map);this.pageIndex=e}setParent(e){if(!b(this,vs)){P(this,vs,e);return}if(b(this,vs)!==e){if(b(this,dn).size>0)for(const n of b(this,dn).values())n.remove(),e.append(n);P(this,vs,e)}}static get _svgFactory(){return Ze(this,"_svgFactory",new Q_)}highlight(e,n,i,r=!1){const s=Pi(this,Fm)._++,a=N(this,Ou,$C).call(this,e.box);a.classList.add("highlight"),e.free&&a.classList.add("free");const u=Pn._svgFactory.createElement("defs");a.append(u);const c=Pn._svgFactory.createElement("path");u.append(c);const f=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",f),c.setAttribute("d",e.toSVGPath()),r&&b(this,Ua).set(s,c);const h=N(this,Ou,NF).call(this,u,f),g=Pn._svgFactory.createElement("use");return a.append(g),a.setAttribute("fill",n),a.setAttribute("fill-opacity",i),g.setAttribute("href",`#${f}`),b(this,dn).set(s,a),{id:s,clipPathId:`url(#${h})`}}highlightOutline(e){const n=Pi(this,Fm)._++,i=N(this,Ou,$C).call(this,e.box);i.classList.add("highlightOutline");const r=Pn._svgFactory.createElement("defs");i.append(r);const s=Pn._svgFactory.createElement("path");r.append(s);const a=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",a),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let u;if(e.free){i.classList.add("free");const h=Pn._svgFactory.createElement("mask");r.append(h),u=`mask_p${this.pageIndex}_${n}`,h.setAttribute("id",u),h.setAttribute("maskUnits","objectBoundingBox");const g=Pn._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const y=Pn._svgFactory.createElement("use");h.append(y),y.setAttribute("href",`#${a}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const c=Pn._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${a}`),u&&c.setAttribute("mask",`url(#${u})`);const f=c.cloneNode();return i.append(f),c.classList.add("mainOutline"),f.classList.add("secondaryOutline"),b(this,dn).set(n,i),n}finalizeLine(e,n){const i=b(this,Ua).get(e);b(this,Ua).delete(e),this.updateBox(e,n.box),i.setAttribute("d",n.toSVGPath())}updateLine(e,n){b(this,dn).get(e).firstChild.firstChild.setAttribute("d",n.toSVGPath())}removeFreeHighlight(e){this.remove(e),b(this,Ua).delete(e)}updatePath(e,n){b(this,Ua).get(e).setAttribute("d",n.toSVGPath())}updateBox(e,n){var i;N(i=Pn,Um,GC).call(i,b(this,dn).get(e),n)}show(e,n){b(this,dn).get(e).classList.toggle("hidden",!n)}rotate(e,n){b(this,dn).get(e).setAttribute("data-main-rotation",n)}changeColor(e,n){b(this,dn).get(e).setAttribute("fill",n)}changeOpacity(e,n){b(this,dn).get(e).setAttribute("fill-opacity",n)}addClass(e,n){b(this,dn).get(e).classList.add(n)}removeClass(e,n){b(this,dn).get(e).classList.remove(n)}remove(e){b(this,vs)!==null&&(b(this,dn).get(e).remove(),b(this,dn).delete(e))}destroy(){P(this,vs,null);for(const e of b(this,dn).values())e.remove();b(this,dn).clear()}};vs=new WeakMap,Fm=new WeakMap,dn=new WeakMap,Ua=new WeakMap,Um=new WeakSet,GC=function(e,{x:n=0,y:i=0,width:r=1,height:s=1}={}){const{style:a}=e;a.top=`${100*i}%`,a.left=`${100*n}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},Ou=new WeakSet,$C=function(e){var i;const n=Pn._svgFactory.create(1,1,!0);return b(this,vs).append(n),n.setAttribute("aria-hidden",!0),N(i=Pn,Um,GC).call(i,n,e),n},NF=function(e,n){const i=Pn._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${n}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Pn._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),r},L(Pn,Um);let zC=Pn;ke.AbortException;ke.AnnotationEditorLayer;ke.AnnotationEditorParamsType;ke.AnnotationEditorType;ke.AnnotationEditorUIManager;ke.AnnotationLayer;ke.AnnotationMode;ke.CMapCompressionType;ke.ColorPicker;ke.DOMSVGFactory;ke.DrawLayer;ke.FeatureTest;var IF=ke.GlobalWorkerOptions;ke.ImageKind;ke.InvalidPDFException;ke.MissingPDFException;ke.OPS;ke.Outliner;ke.PDFDataRangeTransport;ke.PDFDateString;ke.PDFWorker;ke.PasswordResponses;ke.PermissionFlag;ke.PixelsPerInch;ke.RenderingCancelledException;ke.TextLayer;ke.UnexpectedResponseException;ke.Util;ke.VerbosityLevel;ke.XfaLayer;ke.build;ke.createValidAbsoluteUrl;ke.fetchData;var kF=ke.getDocument;ke.getFilenameFromUrl;ke.getPdfFilenameFromUrl;ke.getXfaPageViewport;ke.isDataScheme;ke.isPdfFile;ke.noContextMenu;ke.normalizeUnicode;ke.renderTextLayer;ke.setLayerDimensions;ke.shadow;ke.updateTextLayer;ke.version;const s$=["#ef4444","#f97316","#eab308","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#3b82f6","#6366f1","#8b5cf6","#d946ef","#ec4899","#f43f5e"],tt={folder:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),deck:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})}),quiz:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-1 1v1a1 1 0 102 0V8a1 1 0 00-1-1zm-1 4a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})}),plus:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),moon:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),sun:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),sparkles:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm6 0a1 1 0 011 1v1h1a1 1 0 010 2h-1v1a1 1 0 01-2 0V6h-1a1 1 0 010-2h1V3a1 1 0 011-1zM3.293 10.293a1 1 0 010 1.414l-1 1a1 1 0 01-1.414-1.414l1-1a1 1 0 011.414 0zm12 0a1 1 0 011.414 0l1 1a1 1 0 01-1.414 1.414l-1-1a1 1 0 010-1.414zM10 15a1 1 0 011 1v1h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 011-1z",clipRule:"evenodd"})}),x:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),upload:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),document:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A1 1 0 0111.293 2.707l4 4A1 1 0 0115.707 8H16a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),trash:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})}),chevronRight:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),brain:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),edit:I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[I.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),I.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),dotsVertical:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})}),dashboard:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),import:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),export:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),menu:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})};function LF(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=LF(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Xt(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=LF(t))&&(i&&(i+=" "),i+=e);return i}var $S={},YS={},SD;function o$(){return SD||(SD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(YS)),YS}var KS={},TD;function OF(){return TD||(TD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(KS)),KS}var jS={},ED;function FF(){return ED||(ED=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;return typeof n=="string"||typeof n=="symbol"?n:Object.is((i=n==null?void 0:n.valueOf)==null?void 0:i.call(n),-0)?"-0":String(n)}t.toKey=e})(jS)),jS}var XS={},CD;function ox(){return CD||(CD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const i=[],r=n.length;if(r===0)return i;let s=0,a="",u="",c=!1;for(n.charCodeAt(0)===46&&(i.push(""),s++);s<r;){const f=n[s];u?f==="\\"&&s+1<r?(s++,a+=n[s]):f===u?u="":a+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,i.push(a),a=""):a+=f:f==="["?(c=!0,a&&(i.push(a),a="")):f==="."?a&&(i.push(a),a=""):a+=f,s++}return a&&i.push(a),i}t.toPath=e})(XS)),XS}var _D;function ax(){return _D||(_D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o$(),n=OF(),i=FF(),r=ox();function s(u,c,f){if(u==null)return f;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?n.isDeepKey(c)?s(u,r.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=i.toKey(c));const h=u[c];return h===void 0?f:h}default:{if(Array.isArray(c))return a(u,c,f);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?f:h}}}function a(u,c,f){if(c.length===0)return f;let h=u;for(let g=0;g<c.length;g++){if(h==null||e.isUnsafeProperty(c[g]))return f;h=h[c[g]]}return h===void 0?f:h}t.get=s})($S)),$S}var WS,xD;function a$(){return xD||(xD=1,WS=ax().get),WS}var l$=a$();const Xh=Cs(l$);var JS={exports:{}},yt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wD;function u$(){if(wD)return yt;wD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function T(C){if(typeof C=="object"&&C!==null){var _=C.$$typeof;switch(_){case t:switch(C=C.type,C){case n:case r:case i:case c:case f:case y:return C;default:switch(C=C&&C.$$typeof,C){case a:case u:case g:case h:return C;case s:return C;default:return _}}case e:return _}}}return yt.ContextConsumer=s,yt.ContextProvider=a,yt.Element=t,yt.ForwardRef=u,yt.Fragment=n,yt.Lazy=g,yt.Memo=h,yt.Portal=e,yt.Profiler=r,yt.StrictMode=i,yt.Suspense=c,yt.SuspenseList=f,yt.isContextConsumer=function(C){return T(C)===s},yt.isContextProvider=function(C){return T(C)===a},yt.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},yt.isForwardRef=function(C){return T(C)===u},yt.isFragment=function(C){return T(C)===n},yt.isLazy=function(C){return T(C)===g},yt.isMemo=function(C){return T(C)===h},yt.isPortal=function(C){return T(C)===e},yt.isProfiler=function(C){return T(C)===r},yt.isStrictMode=function(C){return T(C)===i},yt.isSuspense=function(C){return T(C)===c},yt.isSuspenseList=function(C){return T(C)===f},yt.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===r||C===i||C===c||C===f||typeof C=="object"&&C!==null&&(C.$$typeof===g||C.$$typeof===h||C.$$typeof===a||C.$$typeof===s||C.$$typeof===u||C.$$typeof===S||C.getModuleId!==void 0)},yt.typeOf=T,yt}var MD;function c$(){return MD||(MD=1,JS.exports=u$()),JS.exports}var f$=c$(),vi=t=>t===0?0:t>0?1:-1,Yr=t=>typeof t=="number"&&t!=+t,_l=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Be=t=>(typeof t=="number"||t instanceof Number)&&!Yr(t),Mo=t=>Be(t)||typeof t=="string",d$=0,Wh=t=>{var e=++d$;return"".concat(t||"").concat(e)},$i=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(e)&&typeof e!="string")return i;var s;if(_l(e)){if(n==null)return i;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Yr(s)&&(s=i),r&&n!=null&&s>n&&(s=n),s},UF=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},i=0;i<e;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1};function Vr(t,e,n){return Be(t)&&Be(e)?t+n*(e-t):e}function h$(t,e,n){if(!(!t||!t.length))return t.find(i=>i&&(typeof e=="function"?e(i):Xh(i,e))===n)}var Ki=t=>t===null||typeof t>"u",Gm=t=>Ki(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),p$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function lx(t){if(typeof t!="string")return!1;var e=p$;return e.includes(t)}var m$=["viewBox","children"],RD=["points","pathLength"],QS={svg:m$,polygon:RD,polyline:RD},g$=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(r=>{lx(r)&&(i[r]=(s=>n[r](n,s)))}),i},v$=(t,e,n)=>i=>(t(e,n,i),null),BF=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var i=null;return Object.keys(t).forEach(r=>{var s=t[r];lx(r)&&typeof s=="function"&&(i||(i={}),i[r]=v$(s,e,n))}),i},y$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function qF(t){if(typeof t!="string")return!1;var e=y$;return e.includes(t)}function q0(t){var e=Object.entries(t).filter(n=>{var[i]=n;return qF(i)});return Object.fromEntries(e)}var PD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",DD=null,ZS=null,HF=t=>{if(t===DD&&Array.isArray(ZS))return ZS;var e=[];return O.Children.forEach(t,n=>{Ki(n)||(f$.isFragment(n)?e=e.concat(HF(n.props.children)):e.push(n))}),ZS=e,DD=t,e};function VF(t,e){var n=[],i=[];return Array.isArray(e)?i=e.map(r=>PD(r)):i=[PD(e)],HF(t).forEach(r=>{var s=Xh(r,"type.displayName")||Xh(r,"type.name");i.indexOf(s)!==-1&&n.push(r)}),n}var b$=(t,e,n,i)=>{var r;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(r=i&&(QS==null?void 0:QS[i]))!==null&&r!==void 0?r:[],a=e.startsWith("data-"),u=typeof t!="function"&&(!!i&&s.includes(e)||qF(e)),c=!!n&&lx(e);return a||u||c},ri=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(O.isValidElement(t)&&(i=t.props),typeof i!="object"&&typeof i!="function")return null;var r={};return Object.keys(i).forEach(s=>{var a;b$((a=i)===null||a===void 0?void 0:a[s],s,e,n)&&(r[s]=i[s])}),r},A$=["children","width","height","viewBox","className","style","title","desc"];function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},YC.apply(null,arguments)}function S$(t,e){if(t==null)return{};var n,i,r=T$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T$(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var ux=O.forwardRef((t,e)=>{var{children:n,width:i,height:r,viewBox:s,className:a,style:u,title:c,desc:f}=t,h=S$(t,A$),g=s||{width:i,height:r,x:0,y:0},y=Xt("recharts-surface",a);return O.createElement("svg",YC({},ri(h,!0,"svg"),{className:y,width:i,height:r,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),O.createElement("title",null,c),O.createElement("desc",null,f),n)}),E$=["children","className"];function KC(){return KC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},KC.apply(null,arguments)}function C$(t,e){if(t==null)return{};var n,i,r=_$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _$(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Ha=O.forwardRef((t,e)=>{var{children:n,className:i}=t,r=C$(t,E$),s=Xt("recharts-layer",i);return O.createElement("g",KC({className:s},ri(r,!0),{ref:e}),n)}),zF=LO(),GF=O.createContext(null),x$=()=>O.useContext(GF);function Rt(t){return function(){return t}}const $F=Math.cos,xy=Math.sin,jr=Math.sqrt,wy=Math.PI,H0=2*wy,jC=Math.PI,XC=2*jC,bl=1e-6,w$=XC-bl;function YF(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function M$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return YF;const n=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class R${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?YF:M$(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,r){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,n,i,r,s,a){this._append`C${+e},${+n},${+i},${+r},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,i,r,s){if(e=+e,n=+n,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,u=this._y1,c=i-e,f=r-n,h=a-e,g=u-n,y=h*h+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>bl)if(!(Math.abs(g*c-f*h)>bl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let S=i-a,T=r-u,C=c*c+f*f,_=S*S+T*T,x=Math.sqrt(C),R=Math.sqrt(y),M=s*Math.tan((jC-Math.acos((C+y-_)/(2*x*R)))/2),U=M/R,k=M/x;Math.abs(U-1)>bl&&this._append`L${e+U*h},${n+U*g}`,this._append`A${s},${s},0,0,${+(g*S>h*T)},${this._x1=e+k*c},${this._y1=n+k*f}`}}arc(e,n,i,r,s,a){if(e=+e,n=+n,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let u=i*Math.cos(r),c=i*Math.sin(r),f=e+u,h=n+c,g=1^a,y=a?r-s:s-r;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>bl||Math.abs(this._y1-h)>bl)&&this._append`L${f},${h}`,i&&(y<0&&(y=y%XC+XC),y>w$?this._append`A${i},${i},0,1,${g},${e-u},${n-c}A${i},${i},0,1,${g},${this._x1=f},${this._y1=h}`:y>bl&&this._append`A${i},${i},0,${+(y>=jC)},${g},${this._x1=e+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`)}rect(e,n,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function cx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new R$(e)}function fx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KF(t){this._context=t}KF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function V0(t){return new KF(t)}function jF(t){return t[0]}function XF(t){return t[1]}function WF(t,e){var n=Rt(!0),i=null,r=V0,s=null,a=cx(u);t=typeof t=="function"?t:t===void 0?jF:Rt(t),e=typeof e=="function"?e:e===void 0?XF:Rt(e);function u(c){var f,h=(c=fx(c)).length,g,y=!1,S;for(i==null&&(s=r(S=a())),f=0;f<=h;++f)!(f<h&&n(g=c[f],f,c))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(g,f,c),+e(g,f,c));if(S)return s=null,S+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Rt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Rt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Rt(!!c),u):n},u.curve=function(c){return arguments.length?(r=c,i!=null&&(s=r(i)),u):r},u.context=function(c){return arguments.length?(c==null?i=s=null:s=r(i=c),u):i},u}function wv(t,e,n){var i=null,r=Rt(!0),s=null,a=V0,u=null,c=cx(f);t=typeof t=="function"?t:t===void 0?jF:Rt(+t),e=typeof e=="function"?e:Rt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?XF:Rt(+n);function f(g){var y,S,T,C=(g=fx(g)).length,_,x=!1,R,M=new Array(C),U=new Array(C);for(s==null&&(u=a(R=c())),y=0;y<=C;++y){if(!(y<C&&r(_=g[y],y,g))===x)if(x=!x)S=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=y-1;T>=S;--T)u.point(M[T],U[T]);u.lineEnd(),u.areaEnd()}x&&(M[y]=+t(_,y,g),U[y]=+e(_,y,g),u.point(i?+i(_,y,g):M[y],n?+n(_,y,g):U[y]))}if(R)return u=null,R+""||null}function h(){return WF().defined(r).curve(a).context(s)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:Rt(+g),i=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Rt(+g),f):t},f.x1=function(g){return arguments.length?(i=g==null?null:typeof g=="function"?g:Rt(+g),f):i},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:Rt(+g),n=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Rt(+g),f):e},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Rt(+g),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(i).y(e)},f.defined=function(g){return arguments.length?(r=typeof g=="function"?g:Rt(!!g),f):r},f.curve=function(g){return arguments.length?(a=g,s!=null&&(u=a(s)),f):a},f.context=function(g){return arguments.length?(g==null?s=u=null:u=a(s=g),f):s},f}class JF{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function P$(t){return new JF(t,!0)}function D$(t){return new JF(t,!1)}const dx={draw(t,e){const n=jr(e/wy);t.moveTo(n,0),t.arc(0,0,n,0,H0)}},N$={draw(t,e){const n=jr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},QF=jr(1/3),I$=QF*2,k$={draw(t,e){const n=jr(e/I$),i=n*QF;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},L$={draw(t,e){const n=jr(e),i=-n/2;t.rect(i,i,n,n)}},O$=.8908130915292852,ZF=xy(wy/10)/xy(7*wy/10),F$=xy(H0/10)*ZF,U$=-$F(H0/10)*ZF,B$={draw(t,e){const n=jr(e*O$),i=F$*n,r=U$*n;t.moveTo(0,-n),t.lineTo(i,r);for(let s=1;s<5;++s){const a=H0*s/5,u=$F(a),c=xy(a);t.lineTo(c*n,-u*n),t.lineTo(u*i-c*r,c*i+u*r)}t.closePath()}},eT=jr(3),q$={draw(t,e){const n=-jr(e/(eT*3));t.moveTo(0,n*2),t.lineTo(-eT*n,-n),t.lineTo(eT*n,-n),t.closePath()}},or=-.5,ar=jr(3)/2,WC=1/jr(12),H$=(WC/2+1)*3,V$={draw(t,e){const n=jr(e/H$),i=n/2,r=n*WC,s=i,a=n*WC+n,u=-s,c=a;t.moveTo(i,r),t.lineTo(s,a),t.lineTo(u,c),t.lineTo(or*i-ar*r,ar*i+or*r),t.lineTo(or*s-ar*a,ar*s+or*a),t.lineTo(or*u-ar*c,ar*u+or*c),t.lineTo(or*i+ar*r,or*r-ar*i),t.lineTo(or*s+ar*a,or*a-ar*s),t.lineTo(or*u+ar*c,or*c-ar*u),t.closePath()}};function z$(t,e){let n=null,i=cx(r);t=typeof t=="function"?t:Rt(t||dx),e=typeof e=="function"?e:Rt(e===void 0?64:+e);function r(){let s;if(n||(n=s=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return r.type=function(s){return arguments.length?(t=typeof s=="function"?s:Rt(s),r):t},r.size=function(s){return arguments.length?(e=typeof s=="function"?s:Rt(+s),r):e},r.context=function(s){return arguments.length?(n=s??null,r):n},r}function My(){}function Ry(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function eU(t){this._context=t}eU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ry(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ry(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function G$(t){return new eU(t)}function tU(t){this._context=t}tU.prototype={areaStart:My,areaEnd:My,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ry(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $$(t){return new tU(t)}function nU(t){this._context=t}nU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Ry(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Y$(t){return new nU(t)}function iU(t){this._context=t}iU.prototype={areaStart:My,areaEnd:My,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function K$(t){return new iU(t)}function ND(t){return t<0?-1:1}function ID(t,e,n){var i=t._x1-t._x0,r=e-t._x1,s=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),u=(s*r+a*i)/(i+r);return(ND(s)+ND(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(u))||0}function kD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function tT(t,e,n){var i=t._x0,r=t._y0,s=t._x1,a=t._y1,u=(s-i)/3;t._context.bezierCurveTo(i+u,r+u*e,s-u,a-u*n,s,a)}function Py(t){this._context=t}Py.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tT(this,this._t0,kD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,tT(this,kD(this,n=ID(this,t,e)),n);break;default:tT(this,this._t0,n=ID(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function rU(t){this._context=new sU(t)}(rU.prototype=Object.create(Py.prototype)).point=function(t,e){Py.prototype.point.call(this,e,t)};function sU(t){this._context=t}sU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,s){this._context.bezierCurveTo(e,t,i,n,s,r)}};function j$(t){return new Py(t)}function X$(t){return new rU(t)}function oU(t){this._context=t}oU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=LD(t),r=LD(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function LD(t){var e,n=t.length-1,i,r=new Array(n),s=new Array(n),a=new Array(n);for(r[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=r[e]/s[e-1],s[e]-=i,a[e]-=i*a[e-1];for(r[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)r[e]=(a[e]-r[e+1])/s[e];for(s[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-r[e+1];return[r,s]}function W$(t){return new oU(t)}function z0(t,e){this._context=t,this._t=e}z0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function J$(t){return new z0(t,.5)}function Q$(t){return new z0(t,0)}function Z$(t){return new z0(t,1)}function Xf(t,e){if((a=t.length)>1)for(var n=1,i,r,s=t[e[0]],a,u=s.length;n<a;++n)for(r=s,s=t[e[n]],i=0;i<u;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function JC(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function e6(t,e){return t[e]}function t6(t){const e=[];return e.key=t,e}function n6(){var t=Rt([]),e=JC,n=Xf,i=e6;function r(s){var a=Array.from(t.apply(this,arguments),t6),u,c=a.length,f=-1,h;for(const g of s)for(u=0,++f;u<c;++u)(a[u][f]=[0,+i(g,a[u].key,f,s)]).data=g;for(u=0,h=fx(e(a));u<c;++u)a[h[u]].index=u;return n(a,h),a}return r.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Rt(Array.from(s)),r):t},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:Rt(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?JC:typeof s=="function"?s:Rt(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(n=s??Xf,r):n},r}function i6(t,e){if((i=t.length)>0){for(var n,i,r=0,s=t[0].length,a;r<s;++r){for(a=n=0;n<i;++n)a+=t[n][r][1]||0;if(a)for(n=0;n<i;++n)t[n][r][1]/=a}Xf(t,e)}}function r6(t,e){if((r=t.length)>0){for(var n=0,i=t[e[0]],r,s=i.length;n<s;++n){for(var a=0,u=0;a<r;++a)u+=t[a][n][1]||0;i[n][1]+=i[n][0]=-u/2}Xf(t,e)}}function s6(t,e){if(!(!((a=t.length)>0)||!((s=(r=t[e[0]]).length)>0))){for(var n=0,i=1,r,s,a;i<s;++i){for(var u=0,c=0,f=0;u<a;++u){for(var h=t[e[u]],g=h[i][1]||0,y=h[i-1][1]||0,S=(g-y)/2,T=0;T<u;++T){var C=t[e[T]],_=C[i][1]||0,x=C[i-1][1]||0;S+=_-x}c+=g,f+=S*g}r[i-1][1]+=r[i-1][0]=n,c&&(n-=f/c)}r[i-1][1]+=r[i-1][0]=n,Xf(t,e)}}var o6=["type","size","sizeType"];function QC(){return QC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},QC.apply(null,arguments)}function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function FD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(i){a6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function a6(t,e,n){return(e=l6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l6(t){var e=u6(t,"string");return typeof e=="symbol"?e:e+""}function u6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c6(t,e){if(t==null)return{};var n,i,r=f6(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f6(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var aU={symbolCircle:dx,symbolCross:N$,symbolDiamond:k$,symbolSquare:L$,symbolStar:B$,symbolTriangle:q$,symbolWye:V$},d6=Math.PI/180,h6=t=>{var e="symbol".concat(Gm(t));return aU[e]||dx},p6=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*d6;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},m6=(t,e)=>{aU["symbol".concat(Gm(t))]=e},hx=t=>{var{type:e="circle",size:n=64,sizeType:i="area"}=t,r=c6(t,o6),s=FD(FD({},r),{},{type:e,size:n,sizeType:i}),a="circle";typeof e=="string"&&(a=e);var u=()=>{var y=h6(a),S=z$().type(y).size(p6(n,i,a));return S()},{className:c,cx:f,cy:h}=s,g=ri(s,!0);return f===+f&&h===+h&&n===+n?O.createElement("path",QC({},g,{className:Xt("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};hx.registerSymbol=m6;function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ZC.apply(null,arguments)}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function g6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(i){px(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function px(t,e,n){return(e=v6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v6(t){var e=y6(t,"string");return typeof e=="symbol"?e:e+""}function y6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lr=32;class mx extends O.PureComponent{renderIcon(e,n){var{inactiveColor:i}=this.props,r=lr/2,s=lr/6,a=lr/3,u=e.inactive?i:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:lr,y2:r,className:"recharts-legend-icon"});if(c==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(r,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(r,`
            H`).concat(lr,"M").concat(2*a,",").concat(r,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if(c==="rect")return O.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(lr/8,"h").concat(lr,"v").concat(lr*3/4,"h").concat(-lr,"z"),className:"recharts-legend-icon"});if(O.isValidElement(e.legendIcon)){var f=g6({},e);return delete f.legendIcon,O.cloneElement(e.legendIcon,f)}return O.createElement(hx,{fill:u,cx:r,cy:r,size:lr,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:n,layout:i,formatter:r,inactiveColor:s,iconType:a}=this.props,u={x:0,y:0,width:lr,height:lr},c={display:i==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,g)=>{var y=h.formatter||r,S=Xt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var T=h.inactive?s:h.color,C=y?y(h.value,h,g):h.value;return O.createElement("li",ZC({className:S,style:c,key:"legend-item-".concat(g)},BF(this.props,h,g)),O.createElement(ux,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(C," legend icon")},this.renderIcon(h,a)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},C))})}render(){var{payload:e,layout:n,align:i}=this.props;if(!e||!e.length)return null;var r={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}px(mx,"displayName","Legend");px(mx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var nT={},iT={},BD;function b6(){return BD||(BD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){const r=new Map;for(let s=0;s<n.length;s++){const a=n[s],u=i(a);r.has(u)||r.set(u,a)}return Array.from(r.values())}t.uniqBy=e})(iT)),iT}var rT={},qD;function lU(){return qD||(qD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(rT)),rT}var sT={},oT={},aT={},HD;function A6(){return HD||(HD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(aT)),aT}var VD;function gx(){return VD||(VD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A6();function n(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}t.isArrayLike=n})(oT)),oT}var lT={},zD;function S6(){return zD||(zD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(lT)),lT}var GD;function T6(){return GD||(GD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gx(),n=S6();function i(r){return n.isObjectLike(r)&&e.isArrayLike(r)}t.isArrayLikeObject=i})(sT)),sT}var uT={},cT={},$D;function E6(){return $D||($D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ax();function n(i){return function(r){return e.get(r,i)}}t.property=n})(cT)),cT}var fT={},dT={},hT={},pT={},YD;function uU(){return YD||(YD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(pT)),pT}var mT={},KD;function cU(){return KD||(KD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(mT)),mT}var gT={},jD;function fU(){return jD||(jD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}t.eq=e})(gT)),gT}var XD;function C6(){return XD||(XD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vx(),n=uU(),i=cU(),r=fU();function s(g,y,S){return typeof S!="function"?e.isMatch(g,y):a(g,y,function T(C,_,x,R,M,U){const k=S(C,_,x,R,M,U);return k!==void 0?!!k:a(C,_,T,U)},new Map)}function a(g,y,S,T){if(y===g)return!0;switch(typeof y){case"object":return u(g,y,S,T);case"function":return Object.keys(y).length>0?a(g,{...y},S,T):r.eq(g,y);default:return n.isObject(g)?typeof y=="string"?y==="":!0:r.eq(g,y)}}function u(g,y,S,T){if(y==null)return!0;if(Array.isArray(y))return f(g,y,S,T);if(y instanceof Map)return c(g,y,S,T);if(y instanceof Set)return h(g,y,S,T);const C=Object.keys(y);if(g==null)return C.length===0;if(C.length===0)return!0;if(T&&T.has(y))return T.get(y)===g;T&&T.set(y,g);try{for(let _=0;_<C.length;_++){const x=C[_];if(!i.isPrimitive(g)&&!(x in g)||y[x]===void 0&&g[x]!==void 0||y[x]===null&&g[x]!==null||!S(g[x],y[x],x,g,y,T))return!1}return!0}finally{T&&T.delete(y)}}function c(g,y,S,T){if(y.size===0)return!0;if(!(g instanceof Map))return!1;for(const[C,_]of y.entries()){const x=g.get(C);if(S(x,_,C,g,y,T)===!1)return!1}return!0}function f(g,y,S,T){if(y.length===0)return!0;if(!Array.isArray(g))return!1;const C=new Set;for(let _=0;_<y.length;_++){const x=y[_];let R=!1;for(let M=0;M<g.length;M++){if(C.has(M))continue;const U=g[M];let k=!1;if(S(U,x,_,g,y,T)&&(k=!0),k){C.add(M),R=!0;break}}if(!R)return!1}return!0}function h(g,y,S,T){return y.size===0?!0:g instanceof Set?f([...g],[...y],S,T):!1}t.isMatchWith=s,t.isSetMatch=h})(hT)),hT}var WD;function vx(){return WD||(WD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C6();function n(i,r){return e.isMatchWith(i,r,()=>{})}t.isMatch=n})(dT)),dT}var vT={},yT={},bT={},JD;function _6(){return JD||(JD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}t.getSymbols=e})(bT)),bT}var AT={},QD;function dU(){return QD||(QD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(AT)),AT}var ST={},ZD;function hU(){return ZD||(ZD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",i="[object Number]",r="[object Boolean]",s="[object Arguments]",a="[object Symbol]",u="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",g="[object Function]",y="[object ArrayBuffer]",S="[object Object]",T="[object Error]",C="[object DataView]",_="[object Uint8Array]",x="[object Uint8ClampedArray]",R="[object Uint16Array]",M="[object Uint32Array]",U="[object BigUint64Array]",k="[object Int8Array]",F="[object Int16Array]",q="[object Int32Array]",z="[object BigInt64Array]",G="[object Float32Array]",ee="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=y,t.arrayTag=h,t.bigInt64ArrayTag=z,t.bigUint64ArrayTag=U,t.booleanTag=r,t.dataViewTag=C,t.dateTag=u,t.errorTag=T,t.float32ArrayTag=G,t.float64ArrayTag=ee,t.functionTag=g,t.int16ArrayTag=F,t.int32ArrayTag=q,t.int8ArrayTag=k,t.mapTag=c,t.numberTag=i,t.objectTag=S,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=R,t.uint32ArrayTag=M,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=x})(ST)),ST}var TT={},eN;function x6(){return eN||(eN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(TT)),TT}var tN;function pU(){return tN||(tN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_6(),n=dU(),i=hU(),r=cU(),s=x6();function a(h,g){return u(h,void 0,h,new Map,g)}function u(h,g,y,S=new Map,T=void 0){const C=T==null?void 0:T(h,g,y,S);if(C!==void 0)return C;if(r.isPrimitive(h))return h;if(S.has(h))return S.get(h);if(Array.isArray(h)){const _=new Array(h.length);S.set(h,_);for(let x=0;x<h.length;x++)_[x]=u(h[x],x,y,S,T);return Object.hasOwn(h,"index")&&(_.index=h.index),Object.hasOwn(h,"input")&&(_.input=h.input),_}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const _=new RegExp(h.source,h.flags);return _.lastIndex=h.lastIndex,_}if(h instanceof Map){const _=new Map;S.set(h,_);for(const[x,R]of h)_.set(x,u(R,x,y,S,T));return _}if(h instanceof Set){const _=new Set;S.set(h,_);for(const x of h)_.add(u(x,void 0,y,S,T));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const _=new(Object.getPrototypeOf(h)).constructor(h.length);S.set(h,_);for(let x=0;x<h.length;x++)_[x]=u(h[x],x,y,S,T);return _}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const _=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return S.set(h,_),c(_,h,y,S,T),_}if(typeof File<"u"&&h instanceof File){const _=new File([h],h.name,{type:h.type});return S.set(h,_),c(_,h,y,S,T),_}if(h instanceof Blob){const _=new Blob([h],{type:h.type});return S.set(h,_),c(_,h,y,S,T),_}if(h instanceof Error){const _=new h.constructor;return S.set(h,_),_.message=h.message,_.name=h.name,_.stack=h.stack,_.cause=h.cause,c(_,h,y,S,T),_}if(typeof h=="object"&&f(h)){const _=Object.create(Object.getPrototypeOf(h));return S.set(h,_),c(_,h,y,S,T),_}return h}function c(h,g,y=h,S,T){const C=[...Object.keys(g),...e.getSymbols(g)];for(let _=0;_<C.length;_++){const x=C[_],R=Object.getOwnPropertyDescriptor(h,x);(R==null||R.writable)&&(h[x]=u(g[x],x,y,S,T))}}function f(h){switch(n.getTag(h)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=u,t.copyProperties=c})(yT)),yT}var nN;function w6(){return nN||(nN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pU();function n(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}t.cloneDeep=n})(vT)),vT}var iN;function M6(){return iN||(iN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vx(),n=w6();function i(r){return r=n.cloneDeep(r),s=>e.isMatch(s,r)}t.matches=i})(fT)),fT}var ET={},CT={},_T={},rN;function R6(){return rN||(rN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pU(),n=hU();function i(r,s){return e.cloneDeepWith(r,(a,u,c,f)=>{const h=s==null?void 0:s(a,u,c,f);if(h!==void 0)return h;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new r.constructor(r==null?void 0:r.valueOf());return e.copyProperties(g,r),g}case n.argumentsTag:{const g={};return e.copyProperties(g,r),g.length=r.length,g[Symbol.iterator]=r[Symbol.iterator],g}default:return}})}t.cloneDeepWith=i})(_T)),_T}var sN;function P6(){return sN||(sN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R6();function n(i){return e.cloneDeepWith(i)}t.cloneDeep=n})(CT)),CT}var xT={},wT={},oN;function mU(){return oN||(oN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}t.isIndex=n})(wT)),wT}var MT={},aN;function D6(){return aN||(aN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dU();function n(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}t.isArguments=n})(MT)),MT}var lN;function N6(){return lN||(lN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OF(),n=mU(),i=D6(),r=ox();function s(a,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(a==null?void 0:a[u])==null?c=r.toPath(u):c=[u],c.length===0)return!1;let f=a;for(let h=0;h<c.length;h++){const g=c[h];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||i.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}t.has=s})(xT)),xT}var uN;function I6(){return uN||(uN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vx(),n=FF(),i=P6(),r=ax(),s=N6();function a(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=i.cloneDeep(c),function(f){const h=r.get(f,u);return h===void 0?s.has(f,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=a})(ET)),ET}var cN;function k6(){return cN||(cN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lU(),n=E6(),i=M6(),r=I6();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?r.matchesProperty(a[0],a[1]):i.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(uT)),uT}var fN;function L6(){return fN||(fN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b6(),n=lU(),i=T6(),r=k6();function s(a,u=n.identity){return i.isArrayLikeObject(a)?e.uniqBy(Array.from(a),r.iteratee(u)):[]}t.uniqBy=s})(nT)),nT}var RT,dN;function O6(){return dN||(dN=1,RT=L6().uniqBy),RT}var F6=O6();const hN=Cs(F6);function gU(t,e,n){return e===!0?hN(t,n):typeof e=="function"?hN(t,e):t}var PT={exports:{}},DT={},NT={exports:{}},IT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN;function U6(){if(pN)return IT;pN=1;var t=nd();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function u(g,y){var S=y(),T=i({inst:{value:S,getSnapshot:y}}),C=T[0].inst,_=T[1];return s(function(){C.value=S,C.getSnapshot=y,c(C)&&_({inst:C})},[g,S,y]),r(function(){return c(C)&&_({inst:C}),g(function(){c(C)&&_({inst:C})})},[g]),a(S),S}function c(g){var y=g.getSnapshot;g=g.value;try{var S=y();return!n(g,S)}catch{return!0}}function f(g,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return IT.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,IT}var mN;function B6(){return mN||(mN=1,NT.exports=U6()),NT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN;function q6(){if(gN)return DT;gN=1;var t=nd(),e=B6();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,u=t.useMemo,c=t.useDebugValue;return DT.useSyncExternalStoreWithSelector=function(f,h,g,y,S){var T=s(null);if(T.current===null){var C={hasValue:!1,value:null};T.current=C}else C=T.current;T=u(function(){function x(F){if(!R){if(R=!0,M=F,F=y(F),S!==void 0&&C.hasValue){var q=C.value;if(S(q,F))return U=q}return U=F}if(q=U,i(M,F))return q;var z=y(F);return S!==void 0&&S(q,z)?(M=F,q):(M=F,U=z)}var R=!1,M,U,k=g===void 0?null:g;return[function(){return x(h())},k===null?void 0:function(){return x(k())}]},[h,g,y,S]);var _=r(f,T[0],T[1]);return a(function(){C.hasValue=!0,C.value=_},[_]),c(_),_},DT}var vN;function H6(){return vN||(vN=1,PT.exports=q6()),PT.exports}var V6=H6(),yx=O.createContext(null),z6=t=>t,En=()=>{var t=O.useContext(yx);return t?t.store.dispatch:z6},gy=()=>{},G6=()=>gy,$6=(t,e)=>t===e;function qe(t){var e=O.useContext(yx);return V6.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:G6,e?e.store.getState:gy,e?e.store.getState:gy,e?t:gy,$6)}function Y6(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function K6(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function j6(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var yN=t=>Array.isArray(t)?t:[t];function X6(t){const e=Array.isArray(t[0])?t[0]:t;return j6(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function W6(t,e){const n=[],{length:i}=t;for(let r=0;r<i;r++)n.push(t[r].apply(null,e));return n}var J6=class{constructor(t){this.value=t}deref(){return this.value}},Q6=typeof WeakRef<"u"?WeakRef:J6,Z6=0,bN=1;function Mv(){return{s:Z6,v:void 0,o:null,p:null}}function vU(t,e={}){let n=Mv();const{resultEqualityCheck:i}=e;let r,s=0;function a(){var g;let u=n;const{length:c}=arguments;for(let y=0,S=c;y<S;y++){const T=arguments[y];if(typeof T=="function"||typeof T=="object"&&T!==null){let C=u.o;C===null&&(u.o=C=new WeakMap);const _=C.get(T);_===void 0?(u=Mv(),C.set(T,u)):u=_}else{let C=u.p;C===null&&(u.p=C=new Map);const _=C.get(T);_===void 0?(u=Mv(),C.set(T,u)):u=_}}const f=u;let h;if(u.s===bN)h=u.v;else if(h=t.apply(null,arguments),s++,i){const y=((g=r==null?void 0:r.deref)==null?void 0:g.call(r))??r;y!=null&&i(y,h)&&(h=y,s!==0&&s--),r=typeof h=="object"&&h!==null||typeof h=="function"?new Q6(h):h}return f.s=bN,f.v=h,h}return a.clearCache=()=>{n=Mv(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function e5(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,i=(...r)=>{let s=0,a=0,u,c={},f=r.pop();typeof f=="object"&&(c=f,f=r.pop()),Y6(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:g,memoizeOptions:y=[],argsMemoize:S=vU,argsMemoizeOptions:T=[]}=h,C=yN(y),_=yN(T),x=X6(r),R=g(function(){return s++,f.apply(null,arguments)},...C),M=S(function(){a++;const k=W6(x,arguments);return u=R.apply(null,k),u},..._);return Object.assign(M,{resultFunc:f,memoizedResultFunc:R,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:S})};return Object.assign(i,{withTypes:()=>i}),i}var Z=e5(vU),t5=Object.assign((t,e=Z)=>{K6(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(s=>t[s]);return e(i,(...s)=>s.reduce((a,u,c)=>(a[n[c]]=u,a),{}))},{withTypes:()=>t5}),kT={},LT={},OT={},AN;function n5(){return AN||(AN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,r,s)=>{if(i!==r){const a=e(i),u=e(r);if(a===u&&a===0){if(i<r)return s==="desc"?1:-1;if(i>r)return s==="desc"?-1:1}return s==="desc"?u-a:a-u}return 0};t.compareValues=n})(OT)),OT}var FT={},UT={},SN;function yU(){return SN||(SN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(UT)),UT}var TN;function i5(){return TN||(TN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=r})(FT)),FT}var EN;function r5(){return EN||(EN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n5(),n=i5(),i=ox();function r(s,a,u,c){if(s==null)return[];u=c?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(S=>String(S));const f=(S,T)=>{let C=S;for(let _=0;_<T.length&&C!=null;++_)C=C[T[_]];return C},h=(S,T)=>T==null||S==null?T:typeof S=="object"&&"key"in S?Object.hasOwn(T,S.key)?T[S.key]:f(T,S.path):typeof S=="function"?S(T):Array.isArray(S)?f(T,S):typeof T=="object"?T[S]:T,g=a.map(S=>(Array.isArray(S)&&S.length===1&&(S=S[0]),S==null||typeof S=="function"||Array.isArray(S)||n.isKey(S)?S:{key:S,path:i.toPath(S)}));return s.map(S=>({original:S,criteria:g.map(T=>h(T,S))})).slice().sort((S,T)=>{for(let C=0;C<g.length;C++){const _=e.compareValues(S.criteria[C],T.criteria[C],u[C]);if(_!==0)return _}return 0}).map(S=>S.original)}t.orderBy=r})(LT)),LT}var BT={},CN;function s5(){return CN||(CN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i=1){const r=[],s=Math.floor(i),a=(u,c)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&c<s?a(h,c+1):r.push(h)}};return a(n,0),r}t.flatten=e})(BT)),BT}var qT={},_N;function bU(){return _N||(_N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mU(),n=gx(),i=uU(),r=fU();function s(a,u,c){return i.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?r.eq(c[u],a):!1}t.isIterateeCall=s})(qT)),qT}var xN;function o5(){return xN||(xN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r5(),n=s5(),i=bU();function r(s,...a){const u=a.length;return u>1&&i.isIterateeCall(s,a[0],a[1])?a=[]:u>2&&i.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=r})(kT)),kT}var HT,wN;function a5(){return wN||(wN=1,HT=o5().sortBy),HT}var l5=a5();const G0=Cs(l5);var AU=t=>t.legend.settings,u5=t=>t.legend.size,c5=t=>t.legend.payload,f5=Z([c5,AU],(t,e)=>{var{itemSorter:n}=e,i=t.flat(1);return n?G0(i,n):i});function d5(){return qe(f5)}var Rv=1;function SU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=O.useState({height:0,left:0,top:0,width:0}),i=O.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Rv||Math.abs(a.left-e.left)>Rv||Math.abs(a.top-e.top)>Rv||Math.abs(a.width-e.width)>Rv)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,i]}function Fn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var h5=typeof Symbol=="function"&&Symbol.observable||"@@observable",MN=h5,VT=()=>Math.random().toString(36).substring(7).split("").join("."),p5={INIT:`@@redux/INIT${VT()}`,REPLACE:`@@redux/REPLACE${VT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${VT()}`},Dy=p5;function bx(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function TU(t,e,n){if(typeof t!="function")throw new Error(Fn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Fn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Fn(1));return n(TU)(t,e)}let i=t,r=e,s=new Map,a=s,u=0,c=!1;function f(){a===s&&(a=new Map,s.forEach((_,x)=>{a.set(x,_)}))}function h(){if(c)throw new Error(Fn(3));return r}function g(_){if(typeof _!="function")throw new Error(Fn(4));if(c)throw new Error(Fn(5));let x=!0;f();const R=u++;return a.set(R,_),function(){if(x){if(c)throw new Error(Fn(6));x=!1,f(),a.delete(R),s=null}}}function y(_){if(!bx(_))throw new Error(Fn(7));if(typeof _.type>"u")throw new Error(Fn(8));if(typeof _.type!="string")throw new Error(Fn(17));if(c)throw new Error(Fn(9));try{c=!0,r=i(r,_)}finally{c=!1}return(s=a).forEach(R=>{R()}),_}function S(_){if(typeof _!="function")throw new Error(Fn(10));i=_,y({type:Dy.REPLACE})}function T(){const _=g;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Fn(11));function R(){const U=x;U.next&&U.next(h())}return R(),{unsubscribe:_(R)}},[MN](){return this}}}return y({type:Dy.INIT}),{dispatch:y,subscribe:g,getState:h,replaceReducer:S,[MN]:T}}function m5(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Dy.INIT})>"u")throw new Error(Fn(12));if(typeof n(void 0,{type:Dy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fn(13))})}function EU(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const i=Object.keys(n);let r;try{m5(n)}catch(s){r=s}return function(a={},u){if(r)throw r;let c=!1;const f={};for(let h=0;h<i.length;h++){const g=i[h],y=n[g],S=a[g],T=y(S,u);if(typeof T>"u")throw u&&u.type,new Error(Fn(14));f[g]=T,c=c||T!==S}return c=c||i.length!==Object.keys(a).length,c?f:a}}function Ny(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function g5(...t){return e=>(n,i)=>{const r=e(n,i);let s=()=>{throw new Error(Fn(15))};const a={getState:r.getState,dispatch:(c,...f)=>s(c,...f)},u=t.map(c=>c(a));return s=Ny(...u)(r.dispatch),{...r,dispatch:s}}}function CU(t){return bx(t)&&"type"in t&&typeof t.type=="string"}var _U=Symbol.for("immer-nothing"),RN=Symbol.for("immer-draftable"),ji=Symbol.for("immer-state");function zr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Wf=Object.getPrototypeOf;function Du(t){return!!t&&!!t[ji]}function Ro(t){var e;return t?xU(t)||Array.isArray(t)||!!t[RN]||!!((e=t.constructor)!=null&&e[RN])||$m(t)||Y0(t):!1}var v5=Object.prototype.constructor.toString();function xU(t){if(!t||typeof t!="object")return!1;const e=Wf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===v5}function Iy(t,e){$0(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function $0(t){const e=t[ji];return e?e.type_:Array.isArray(t)?1:$m(t)?2:Y0(t)?3:0}function e_(t,e){return $0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function wU(t,e,n){const i=$0(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function y5(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function $m(t){return t instanceof Map}function Y0(t){return t instanceof Set}function Al(t){return t.copy_||t.base_}function t_(t,e){if($m(t))return new Map(t);if(Y0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=xU(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[ji];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const a=r[s],u=i[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(i[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[a]})}return Object.create(Wf(t),i)}else{const i=Wf(t);if(i!==null&&n)return{...t};const r=Object.create(i);return Object.assign(r,t)}}function Ax(t,e=!1){return K0(t)||Du(t)||!Ro(t)||($0(t)>1&&Object.defineProperties(t,{set:{value:Pv},add:{value:Pv},clear:{value:Pv},delete:{value:Pv}}),Object.freeze(t),e&&Object.values(t).forEach(n=>Ax(n,!0))),t}function Pv(){zr(2)}function K0(t){return Object.isFrozen(t)}var b5={};function Nu(t){const e=b5[t];return e||zr(0,t),e}var Jh;function MU(){return Jh}function A5(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function PN(t,e){e&&(Nu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function n_(t){i_(t),t.drafts_.forEach(S5),t.drafts_=null}function i_(t){t===Jh&&(Jh=t.parent_)}function DN(t){return Jh=A5(Jh,t)}function S5(t){const e=t[ji];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function NN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ji].modified_&&(n_(e),zr(4)),Ro(t)&&(t=ky(e,t),e.parent_||Ly(e,t)),e.patches_&&Nu("Patches").generateReplacementPatches_(n[ji].base_,t,e.patches_,e.inversePatches_)):t=ky(e,n,[]),n_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==_U?t:void 0}function ky(t,e,n){if(K0(e))return e;const i=e[ji];if(!i)return Iy(e,(r,s)=>IN(t,i,e,r,s,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Ly(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let s=r,a=!1;i.type_===3&&(s=new Set(r),r.clear(),a=!0),Iy(s,(u,c)=>IN(t,i,r,u,c,n,a)),Ly(t,r,!1),n&&t.patches_&&Nu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function IN(t,e,n,i,r,s,a){if(Du(r)){const u=s&&e&&e.type_!==3&&!e_(e.assigned_,i)?s.concat(i):void 0,c=ky(t,r,u);if(wU(n,i,c),Du(c))t.canAutoFreeze_=!1;else return}else a&&n.add(r);if(Ro(r)&&!K0(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ky(t,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&($m(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&Ly(t,r)}}function Ly(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Ax(e,n)}function T5(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:MU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=Sx;n&&(r=[i],s=Qh);const{revoke:a,proxy:u}=Proxy.revocable(r,s);return i.draft_=u,i.revoke_=a,u}var Sx={get(t,e){if(e===ji)return t;const n=Al(t);if(!e_(n,e))return E5(t,n,e);const i=n[e];return t.finalized_||!Ro(i)?i:i===zT(t.base_,e)?(GT(t),t.copy_[e]=s_(i,t)):i},has(t,e){return e in Al(t)},ownKeys(t){return Reflect.ownKeys(Al(t))},set(t,e,n){const i=RU(Al(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=zT(Al(t),e),s=r==null?void 0:r[ji];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(y5(n,r)&&(n!==void 0||e_(t.base_,e)))return!0;GT(t),r_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return zT(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,GT(t),r_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Al(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){zr(11)},getPrototypeOf(t){return Wf(t.base_)},setPrototypeOf(){zr(12)}},Qh={};Iy(Sx,(t,e)=>{Qh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Qh.deleteProperty=function(t,e){return Qh.set.call(this,t,e,void 0)};Qh.set=function(t,e,n){return Sx.set.call(this,t[0],e,n,t[0])};function zT(t,e){const n=t[ji];return(n?Al(n):t)[e]}function E5(t,e,n){var r;const i=RU(e,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function RU(t,e){if(!(e in t))return;let n=Wf(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Wf(n)}}function r_(t){t.modified_||(t.modified_=!0,t.parent_&&r_(t.parent_))}function GT(t){t.copy_||(t.copy_=t_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var C5=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(c=s,...f){return a.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&zr(6),i!==void 0&&typeof i!="function"&&zr(7);let r;if(Ro(e)){const s=DN(this),a=s_(e,void 0);let u=!0;try{r=n(a),u=!1}finally{u?n_(s):i_(s)}return PN(s,i),NN(r,s)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===_U&&(r=void 0),this.autoFreeze_&&Ax(r,!0),i){const s=[],a=[];Nu("Patches").generateReplacementPatches_(e,r,s,a),i(s,a)}return r}else zr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...u)=>this.produceWithPatches(a,c=>e(c,...u));let i,r;return[this.produce(e,n,(a,u)=>{i=a,r=u}),i,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ro(t)||zr(8),Du(t)&&(t=Co(t));const e=DN(this),n=s_(t,void 0);return n[ji].isManual_=!0,i_(e),n}finishDraft(t,e){const n=t&&t[ji];(!n||!n.isManual_)&&zr(9);const{scope_:i}=n;return PN(i,e),NN(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const i=Nu("Patches").applyPatches_;return Du(t)?i(t,e):this.produce(t,r=>i(r,e))}};function s_(t,e){const n=$m(t)?Nu("MapSet").proxyMap_(t,e):Y0(t)?Nu("MapSet").proxySet_(t,e):T5(t,e);return(e?e.scope_:MU()).drafts_.push(n),n}function Co(t){return Du(t)||zr(10,t),PU(t)}function PU(t){if(!Ro(t)||K0(t))return t;const e=t[ji];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=t_(t,e.scope_.immer_.useStrictShallowCopy_)}else n=t_(t,!0);return Iy(n,(i,r)=>{wU(n,i,PU(r))}),e&&(e.finalized_=!1),n}var _5=new C5,DU=_5.produce;function NU(t){return({dispatch:n,getState:i})=>r=>s=>typeof s=="function"?s(n,i,t):r(s)}var x5=NU(),w5=NU,M5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ny:Ny.apply(null,arguments)};function Sr(t,e){function n(...i){if(e){let r=e(...i);if(!r)throw new Error(Yi(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>CU(i)&&i.type===t,n}var IU=class Hh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Hh.prototype)}static get[Symbol.species](){return Hh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Hh(...e[0].concat(this)):new Hh(...e.concat(this))}};function kN(t){return Ro(t)?DU(t,()=>{}):t}function Dv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function R5(t){return typeof t=="boolean"}var P5=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let a=new IU;return n&&(R5(n)?a.push(x5):a.push(w5(n.extraArgument))),a},D5="RTK_autoBatch",LN=t=>e=>{setTimeout(e,t)},N5=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let r=!0,s=!1,a=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:LN(10):t.type==="callback"?t.queueNotification:LN(t.timeout),f=()=>{a=!1,s&&(s=!1,u.forEach(h=>h()))};return Object.assign({},i,{subscribe(h){const g=()=>r&&h(),y=i.subscribe(g);return u.add(h),()=>{y(),u.delete(h)}},dispatch(h){var g;try{return r=!((g=h==null?void 0:h.meta)!=null&&g[D5]),s=!r,s&&(a||(a=!0,c(f))),i.dispatch(h)}finally{r=!0}}})},I5=t=>function(n){const{autoBatch:i=!0}=n??{};let r=new IU(t);return i&&r.push(N5(typeof i=="object"?i:void 0)),r};function k5(t){const e=P5(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(bx(n))u=EU(n);else throw new Error(Yi(1));let c;typeof i=="function"?c=i(e):c=e();let f=Ny;r&&(f=M5({trace:!1,...typeof r=="object"&&r}));const h=g5(...c),g=I5(h);let y=typeof a=="function"?a(g):g();const S=f(...y);return TU(u,s,S)}function kU(t){const e={},n=[];let i;const r={addCase(s,a){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(Yi(28));if(u in e)throw new Error(Yi(29));return e[u]=a,r},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),r},addMatcher(s,a){return n.push({matcher:s,reducer:a}),r},addDefaultCase(s){return i=s,r}};return t(r),[e,n,i]}function L5(t){return typeof t=="function"}function O5(t,e){let[n,i,r]=kU(e),s;if(L5(t))s=()=>kN(t());else{const u=kN(t);s=()=>u}function a(u=s(),c){let f=[n[c.type],...i.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[r]),f.reduce((h,g)=>{if(g)if(Du(h)){const S=g(h,c);return S===void 0?h:S}else{if(Ro(h))return DU(h,y=>g(y,c));{const y=g(h,c);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},u)}return a.getInitialState=s,a}var F5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",U5=(t=21)=>{let e="",n=t;for(;n--;)e+=F5[Math.random()*64|0];return e},B5=Symbol.for("rtk-slice-createasyncthunk");function q5(t,e){return`${t}/${e}`}function H5({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[B5];return function(r){const{name:s,reducerPath:a=s}=r;if(!s)throw new Error(Yi(11));const u=(typeof r.reducers=="function"?r.reducers(z5()):r.reducers)||{},c=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(U,k){const F=typeof U=="string"?U:U.type;if(!F)throw new Error(Yi(12));if(F in f.sliceCaseReducersByType)throw new Error(Yi(13));return f.sliceCaseReducersByType[F]=k,h},addMatcher(U,k){return f.sliceMatchers.push({matcher:U,reducer:k}),h},exposeAction(U,k){return f.actionCreators[U]=k,h},exposeCaseReducer(U,k){return f.sliceCaseReducersByName[U]=k,h}};c.forEach(U=>{const k=u[U],F={reducerName:U,type:q5(s,U),createNotation:typeof r.reducers=="function"};$5(k)?K5(F,k,h,e):G5(F,k,h)});function g(){const[U={},k=[],F=void 0]=typeof r.extraReducers=="function"?kU(r.extraReducers):[r.extraReducers],q={...U,...f.sliceCaseReducersByType};return O5(r.initialState,z=>{for(let G in q)z.addCase(G,q[G]);for(let G of f.sliceMatchers)z.addMatcher(G.matcher,G.reducer);for(let G of k)z.addMatcher(G.matcher,G.reducer);F&&z.addDefaultCase(F)})}const y=U=>U,S=new Map,T=new WeakMap;let C;function _(U,k){return C||(C=g()),C(U,k)}function x(){return C||(C=g()),C.getInitialState()}function R(U,k=!1){function F(z){let G=z[U];return typeof G>"u"&&k&&(G=Dv(T,F,x)),G}function q(z=y){const G=Dv(S,k,()=>new WeakMap);return Dv(G,z,()=>{const ee={};for(const[K,ie]of Object.entries(r.selectors??{}))ee[K]=V5(ie,z,()=>Dv(T,z,x),k);return ee})}return{reducerPath:U,getSelectors:q,get selectors(){return q(F)},selectSlice:F}}const M={name:s,reducer:_,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:x,...R(a),injectInto(U,{reducerPath:k,...F}={}){const q=k??a;return U.inject({reducerPath:q,reducer:_},F),{...M,...R(q,!0)}}};return M}}function V5(t,e,n,i){function r(s,...a){let u=e(s);return typeof u>"u"&&i&&(u=n()),t(u,...a)}return r.unwrapped=t,r}var Xi=H5();function z5(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function G5({type:t,reducerName:e,createNotation:n},i,r){let s,a;if("reducer"in i){if(n&&!Y5(i))throw new Error(Yi(17));s=i.reducer,a=i.prepare}else s=i;r.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Sr(t,a):Sr(t))}function $5(t){return t._reducerDefinitionType==="asyncThunk"}function Y5(t){return t._reducerDefinitionType==="reducerWithPrepare"}function K5({type:t,reducerName:e},n,i,r){if(!r)throw new Error(Yi(18));const{payloadCreator:s,fulfilled:a,pending:u,rejected:c,settled:f,options:h}=n,g=r(t,s,h);i.exposeAction(e,g),a&&i.addCase(g.fulfilled,a),u&&i.addCase(g.pending,u),c&&i.addCase(g.rejected,c),f&&i.addMatcher(g.settled,f),i.exposeCaseReducer(e,{fulfilled:a||Nv,pending:u||Nv,rejected:c||Nv,settled:f||Nv})}function Nv(){}var j5="task",LU="listener",OU="completed",Tx="cancelled",X5=`task-${Tx}`,W5=`task-${OU}`,o_=`${LU}-${Tx}`,J5=`${LU}-${OU}`,j0=class{constructor(t){Le(this,"name","TaskAbortError");Le(this,"message");this.code=t,this.message=`${j5} ${Tx} (reason: ${t})`}},Ex=(t,e)=>{if(typeof t!="function")throw new TypeError(Yi(32))},Oy=()=>{},FU=(t,e=Oy)=>(t.catch(e),t),UU=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Eu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Cu=t=>{if(t.aborted){const{reason:e}=t;throw new j0(e)}};function BU(t,e){let n=Oy;return new Promise((i,r)=>{const s=()=>r(new j0(t.reason));if(t.aborted){s();return}n=UU(t,s),e.finally(()=>n()).then(i,r)}).finally(()=>{n=Oy})}var Q5=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof j0?"cancelled":"rejected",error:n}}finally{e==null||e()}},Fy=t=>e=>FU(BU(t,e).then(n=>(Cu(t),n))),qU=t=>{const e=Fy(t);return n=>e(new Promise(i=>setTimeout(i,n)))},{assign:Yc}=Object,ON={},X0="listenerMiddleware",Z5=(t,e)=>{const n=i=>UU(t,()=>Eu(i,t.reason));return(i,r)=>{Ex(i);const s=new AbortController;n(s);const a=Q5(async()=>{Cu(t),Cu(s.signal);const u=await i({pause:Fy(s.signal),delay:qU(s.signal),signal:s.signal});return Cu(s.signal),u},()=>Eu(s,W5));return r!=null&&r.autoJoin&&e.push(a.catch(Oy)),{result:Fy(t)(a),cancel(){Eu(s,X5)}}}},e8=(t,e)=>{const n=async(i,r)=>{Cu(e);let s=()=>{};const u=[new Promise((c,f)=>{let h=t({predicate:i,effect:(g,y)=>{y.unsubscribe(),c([g,y.getState(),y.getOriginalState()])}});s=()=>{h(),f()}})];r!=null&&u.push(new Promise(c=>setTimeout(c,r,null)));try{const c=await BU(e,Promise.race(u));return Cu(e),c}finally{s()}};return(i,r)=>FU(n(i,r))},HU=t=>{let{type:e,actionCreator:n,matcher:i,predicate:r,effect:s}=t;if(e)r=Sr(e).match;else if(n)e=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(Yi(21));return Ex(s),{predicate:r,type:e,effect:s}},VU=Yc(t=>{const{type:e,predicate:n,effect:i}=HU(t);return{id:U5(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Yi(22))}}},{withTypes:()=>VU}),FN=(t,e)=>{const{type:n,effect:i,predicate:r}=HU(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===r)&&s.effect===i)},a_=t=>{t.pending.forEach(e=>{Eu(e,o_)})},t8=t=>()=>{t.forEach(a_),t.clear()},UN=(t,e,n)=>{try{t(e,n)}catch(i){setTimeout(()=>{throw i},0)}},zU=Yc(Sr(`${X0}/add`),{withTypes:()=>zU}),n8=Sr(`${X0}/removeAll`),GU=Yc(Sr(`${X0}/remove`),{withTypes:()=>GU}),i8=(...t)=>{console.error(`${X0}/error`,...t)},Ym=(t={})=>{const e=new Map,{extra:n,onError:i=i8}=t;Ex(i);const r=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),g=>{h.unsubscribe(),g!=null&&g.cancelActive&&a_(h)}),s=h=>{const g=FN(e,h)??VU(h);return r(g)};Yc(s,{withTypes:()=>s});const a=h=>{const g=FN(e,h);return g&&(g.unsubscribe(),h.cancelActive&&a_(g)),!!g};Yc(a,{withTypes:()=>a});const u=async(h,g,y,S)=>{const T=new AbortController,C=e8(s,T.signal),_=[];try{h.pending.add(T),await Promise.resolve(h.effect(g,Yc({},y,{getOriginalState:S,condition:(x,R)=>C(x,R).then(Boolean),take:C,delay:qU(T.signal),pause:Fy(T.signal),extra:n,signal:T.signal,fork:Z5(T.signal,_),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((x,R,M)=>{x!==T&&(Eu(x,o_),M.delete(x))})},cancel:()=>{Eu(T,o_),h.pending.delete(T)},throwIfCancelled:()=>{Cu(T.signal)}})))}catch(x){x instanceof j0||UN(i,x,{raisedBy:"effect"})}finally{await Promise.all(_),Eu(T,J5),h.pending.delete(T)}},c=t8(e);return{middleware:h=>g=>y=>{if(!CU(y))return g(y);if(zU.match(y))return s(y.payload);if(n8.match(y)){c();return}if(GU.match(y))return a(y.payload);let S=h.getState();const T=()=>{if(S===ON)throw new Error(Yi(23));return S};let C;try{if(C=g(y),e.size>0){const _=h.getState(),x=Array.from(e.values());for(const R of x){let M=!1;try{M=R.predicate(y,_,S)}catch(U){M=!1,UN(i,U,{raisedBy:"predicate"})}M&&u(R,y,h,T)}}}finally{S=ON}return C},startListening:s,stopListening:a,clearListeners:c}};function Yi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var r8={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$U=Xi({name:"chartLayout",initialState:r8,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,i,r,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,t.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:s8,setLayout:o8,setChartSize:a8,setScale:l8}=$U.actions,u8=$U.reducer;function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function qN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(i){c8(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function c8(t,e,n){return(e=f8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f8(t){var e=d8(t,"string");return typeof e=="symbol"?e:e+""}function d8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uy=Math.PI/180,h8=t=>t*180/Math.PI,tn=(t,e,n,i)=>({x:t+Math.cos(-Uy*i)*n,y:e+Math.sin(-Uy*i)*n}),YU=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},p8=(t,e)=>{var{x:n,y:i}=t,{x:r,y:s}=e;return Math.sqrt((n-r)**2+(i-s)**2)},m8=(t,e)=>{var{x:n,y:i}=t,{cx:r,cy:s}=e,a=p8({x:n,y:i},{x:r,y:s});if(a<=0)return{radius:a,angle:0};var u=(n-r)/a,c=Math.acos(u);return i>s&&(c=2*Math.PI-c),{radius:a,angle:h8(c),angleInRadian:c}},g8=t=>{var{startAngle:e,endAngle:n}=t,i=Math.floor(e/360),r=Math.floor(n/360),s=Math.min(i,r);return{startAngle:e-s*360,endAngle:n-s*360}},v8=(t,e)=>{var{startAngle:n,endAngle:i}=e,r=Math.floor(n/360),s=Math.floor(i/360),a=Math.min(r,s);return t+a*360},y8=(t,e)=>{var{x:n,y:i}=t,{radius:r,angle:s}=m8({x:n,y:i},e),{innerRadius:a,outerRadius:u}=e;if(r<a||r>u||r===0)return null;var{startAngle:c,endAngle:f}=g8(e),h=s,g;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;g=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=c}return g?qN(qN({},e),{},{radius:r,angle:v8(h,e)}):null};function KU(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(i){b8(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function b8(t,e,n){return(e=A8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A8(t){var e=S8(t,"string");return typeof e=="symbol"?e:e+""}function S8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nn(t,e,n){return Ki(t)||Ki(e)?n:Mo(e)?Xh(t,e,n):typeof e=="function"?e(t):n}var T8=(t,e,n,i,r)=>{var s,a=-1,u=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(u<=1||t==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var c=0;c<u;c++){var f=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,g=c>=u-1?n[0].coordinate:n[c+1].coordinate,y=void 0;if(vi(h-f)!==vi(g-h)){var S=[];if(vi(g-h)===vi(r[1]-r[0])){y=g;var T=h+r[1]-r[0];S[0]=Math.min(T,(T+f)/2),S[1]=Math.max(T,(T+f)/2)}else{y=f;var C=g+r[1]-r[0];S[0]=Math.min(h,(C+h)/2),S[1]=Math.max(h,(C+h)/2)}var _=[Math.min(h,(y+h)/2),Math.max(h,(y+h)/2)];if(t>_[0]&&t<=_[1]||t>=S[0]&&t<=S[1]){({index:a}=n[c]);break}}else{var x=Math.min(f,g),R=Math.max(f,g);if(t>(x+h)/2&&t<=(R+h)/2){({index:a}=n[c]);break}}}else if(e){for(var M=0;M<u;M++)if(M===0&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M>0&&M<u-1&&t>(e[M].coordinate+e[M-1].coordinate)/2&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M===u-1&&t>(e[M].coordinate+e[M-1].coordinate)/2){({index:a}=e[M]);break}}return a},E8=(t,e,n)=>{if(e&&n){var{width:i,height:r}=n,{align:s,verticalAlign:a,layout:u}=e;if((u==="vertical"||u==="horizontal"&&a==="middle")&&s!=="center"&&Be(t[s]))return gr(gr({},t),{},{[s]:t[s]+(i||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&a!=="middle"&&Be(t[a]))return gr(gr({},t),{},{[a]:t[a]+(r||0)})}return t},qu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",VN=1e-4,C8=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,i=t.range(),r=Math.min(i[0],i[1])-VN,s=Math.max(i[0],i[1])+VN,a=t(e[0]),u=t(e[n-1]);(a<r||a>s||u<r||u>s)&&t.domain([e[0],e[n-1]])}},_8=t=>{var e=t.length;if(!(e<=0))for(var n=0,i=t[0].length;n<i;++n)for(var r=0,s=0,a=0;a<e;++a){var u=Yr(t[a][n][1])?t[a][n][0]:t[a][n][1];u>=0?(t[a][n][0]=r,t[a][n][1]=r+u,r=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+u,s=t[a][n][1])}},x8=t=>{var e=t.length;if(!(e<=0))for(var n=0,i=t[0].length;n<i;++n)for(var r=0,s=0;s<e;++s){var a=Yr(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=r,t[s][n][1]=r+a,r=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},w8={sign:_8,expand:i6,none:Xf,silhouette:r6,wiggle:s6,positive:x8},M8=(t,e,n)=>{var i=w8[n],r=n6().keys(e).value((s,a)=>+nn(s,a,0)).order(JC).offset(i);return r(t)},R8=t=>{var e=t.flat(2).filter(Be);return[Math.min(...e),Math.max(...e)]},P8=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],D8=(t,e,n)=>{if(t!=null)return P8(Object.keys(t).reduce((i,r)=>{var s=t[r],{stackedData:a}=s,u=a.reduce((c,f)=>{var h=KU(f,e,n),g=R8(h);return[Math.min(c[0],g[0]),Math.max(c[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]))},zN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,N8=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();return i}if(t&&e&&e.length>=2){for(var r=G0(e,h=>h.coordinate),s=1/0,a=1,u=r.length;a<u;a++){var c=r[a],f=r[a-1];s=Math.min((c.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return 0};function $N(t){var{tooltipEntrySettings:e,dataKey:n,payload:i,value:r,name:s}=t;return gr(gr({},e),{},{dataKey:n,payload:i,value:r,name:s})}function jU(t,e){if(t)return String(t);if(typeof e=="string")return e}function I8(t,e,n,i,r){if(n==="horizontal"||n==="vertical"){var s=t>=r.left&&t<=r.left+r.width&&e>=r.top&&e<=r.top+r.height;return s?{x:t,y:e}:null}return i?y8({x:t,y:e},i):null}var k8=(t,e,n,i)=>{var r=e.find(f=>f&&f.index===n);if(r){if(t==="horizontal")return{x:r.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:r.coordinate};if(t==="centric"){var s=r.coordinate,{radius:a}=i;return gr(gr(gr({},i),tn(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var u=r.coordinate,{angle:c}=i;return gr(gr(gr({},i),tn(i.cx,i.cy,u,c)),{},{angle:c,radius:u})}return{x:0,y:0}},L8=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Lo=t=>t.layout.width,Oo=t=>t.layout.height,O8=t=>t.layout.scale,XU=t=>t.layout.margin,W0=Z(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),J0=Z(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),WU="data-recharts-item-index",JU="data-recharts-item-data-key",Km=60;function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(i){F8(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function F8(t,e,n){return(e=U8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U8(t){var e=B8(t,"string");return typeof e=="symbol"?e:e+""}function B8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q8=t=>t.brush.height;function H8(t){var e=J0(t);return e.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:Km;return n+r}return n},0)}function V8(t){var e=J0(t);return e.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:Km;return n+r}return n},0)}function z8(t){var e=W0(t);return e.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function G8(t){var e=W0(t);return e.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var Cn=Z([Lo,Oo,XU,q8,H8,V8,z8,G8,AU,u5],(t,e,n,i,r,s,a,u,c,f)=>{var h={left:(n.left||0)+r,right:(n.right||0)+s},g={top:(n.top||0)+a,bottom:(n.bottom||0)+u},y=Iv(Iv({},g),h),S=y.bottom;y.bottom+=i,y=E8(y,c,f);var T=t-y.left-y.right,C=e-y.top-y.bottom;return Iv(Iv({brushBottom:S},y),{},{width:Math.max(T,0),height:Math.max(C,0)})}),$8=Z(Cn,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));Z(Lo,Oo,(t,e)=>({x:0,y:0,width:t,height:e}));var Y8=O.createContext(null),id=()=>O.useContext(Y8)!=null,Q0=t=>t.brush,Z0=Z([Q0,Cn,XU],(t,e,n)=>({height:t.height,x:Be(t.x)?t.x:e.left,y:Be(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Be(t.width)?t.width:e.width})),Cx=()=>{var t,e=id(),n=qe($8),i=qe(Z0),r=(t=qe(Q0))===null||t===void 0?void 0:t.padding;return!e||!i||!r?n:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},K8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},j8=()=>{var t;return(t=qe(Cn))!==null&&t!==void 0?t:K8},QU=()=>qe(Lo),ZU=()=>qe(Oo),X8=()=>qe(t=>t.layout.margin),Pt=t=>t.layout.layoutType,eB=()=>qe(Pt),W8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},tB=Xi({name:"legend",initialState:W8,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Co(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:KN,setLegendSettings:J8,addLegendPayload:Q8,removeLegendPayload:Z8}=tB.actions,eY=tB.reducer,tY=["contextPayload"];function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l_.apply(null,arguments)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(i){_x(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _x(t,e,n){return(e=nY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nY(t){var e=iY(t,"string");return typeof e=="symbol"?e:e+""}function iY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rY(t,e){if(t==null)return{};var n,i,r=sY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sY(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function oY(t){return t.value}function aY(t){var{contextPayload:e}=t,n=rY(t,tY),i=gU(e,t.payloadUniqBy,oY),r=Jf(Jf({},n),{},{payload:i});return O.isValidElement(t.content)?O.cloneElement(t.content,r):typeof t.content=="function"?O.createElement(t.content,r):O.createElement(mx,r)}function lY(t,e,n,i,r,s){var{layout:a,align:u,verticalAlign:c}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&a==="vertical"?f={left:((i||0)-s.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((r||0)-s.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Jf(Jf({},f),h)}function uY(t){var e=En();return O.useEffect(()=>{e(J8(t))},[e,t]),null}function cY(t){var e=En();return O.useEffect(()=>(e(KN(t)),()=>{e(KN({width:0,height:0}))}),[e,t]),null}function fY(t){var e=d5(),n=x$(),i=X8(),{width:r,height:s,wrapperStyle:a,portal:u}=t,[c,f]=SU([e]),h=QU(),g=ZU();if(h==null||g==null)return null;var y=h-(i.left||0)-(i.right||0),S=eb.getWidthOrHeight(t.layout,s,r,y),T=u?a:Jf(Jf({position:"absolute",width:(S==null?void 0:S.width)||r||"auto",height:(S==null?void 0:S.height)||s||"auto"},lY(a,t,i,h,g,c)),a),C=u??n;if(C==null)return null;var _=O.createElement("div",{className:"recharts-legend-wrapper",style:T,ref:f},O.createElement(uY,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),O.createElement(cY,{width:c.width,height:c.height}),O.createElement(aY,l_({},t,S,{margin:i,chartWidth:h,chartHeight:g,contextPayload:e})));return zF.createPortal(_,C)}class eb extends O.PureComponent{static getWidthOrHeight(e,n,i,r){return e==="vertical"&&Be(n)?{height:n}:e==="horizontal"?{width:i||r}:null}render(){return O.createElement(fY,this.props)}}_x(eb,"displayName","Legend");_x(eb,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u_.apply(null,arguments)}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function $T(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(i){dY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function dY(t,e,n){return(e=hY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hY(t){var e=pY(t,"string");return typeof e=="symbol"?e:e+""}function pY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mY(t){return Array.isArray(t)&&Mo(t[0])&&Mo(t[1])?t.join(" ~ "):t}var gY=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:i={},labelStyle:r={},payload:s,formatter:a,itemSorter:u,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:g,accessibilityLayer:y=!1}=t,S=()=>{if(s&&s.length){var k={padding:0,margin:0},F=(u?G0(s,u):s).map((q,z)=>{if(q.type==="none")return null;var G=q.formatter||a||mY,{value:ee,name:K}=q,ie=ee,he=K;if(G){var fe=G(ee,K,q,z,s);if(Array.isArray(fe))[ie,he]=fe;else if(fe!=null)ie=fe;else return null}var de=$T({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},i);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:de},Mo(he)?O.createElement("span",{className:"recharts-tooltip-item-name"},he):null,Mo(he)?O.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,O.createElement("span",{className:"recharts-tooltip-item-value"},ie),O.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:k},F)}return null},T=$T({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),C=$T({margin:0},r),_=!Ki(h),x=_?h:"",R=Xt("recharts-default-tooltip",c),M=Xt("recharts-tooltip-label",f);_&&g&&s!==void 0&&s!==null&&(x=g(h,s));var U=y?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",u_({className:R,style:T},U),O.createElement("p",{className:M,style:C},O.isValidElement(x)?x:"".concat(x)),S())},yh="recharts-tooltip-wrapper",vY={visibility:"hidden"};function yY(t){var{coordinate:e,translateX:n,translateY:i}=t;return Xt(yh,{["".concat(yh,"-right")]:Be(n)&&e&&Be(e.x)&&n>=e.x,["".concat(yh,"-left")]:Be(n)&&e&&Be(e.x)&&n<e.x,["".concat(yh,"-bottom")]:Be(i)&&e&&Be(e.y)&&i>=e.y,["".concat(yh,"-top")]:Be(i)&&e&&Be(e.y)&&i<e.y})}function WN(t){var{allowEscapeViewBox:e,coordinate:n,key:i,offsetTopLeft:r,position:s,reverseDirection:a,tooltipDimension:u,viewBox:c,viewBoxDimension:f}=t;if(s&&Be(s[i]))return s[i];var h=n[i]-u-(r>0?r:0),g=n[i]+r;if(e[i])return a[i]?h:g;var y=c[i];if(y==null)return 0;if(a[i]){var S=h,T=y;return S<T?Math.max(g,y):Math.max(h,y)}if(f==null)return 0;var C=g+u,_=y+f;return C>_?Math.max(h,y):Math.max(g,y)}function bY(t){var{translateX:e,translateY:n,useTranslate3d:i}=t;return{transform:i?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function AY(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:i,position:r,reverseDirection:s,tooltipBox:a,useTranslate3d:u,viewBox:c}=t,f,h,g;return a.height>0&&a.width>0&&n?(h=WN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),g=WN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),f=bY({translateX:h,translateY:g,useTranslate3d:u})):f=vY,{cssProperties:f,cssClasses:yY({translateX:h,translateY:g,coordinate:n})}}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function kv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(i){c_(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function c_(t,e,n){return(e=SY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SY(t){var e=TY(t,"string");return typeof e=="symbol"?e:e+""}function TY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class EY extends O.PureComponent{constructor(){super(...arguments),c_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),c_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,i,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:i,animationEasing:r,children:s,coordinate:a,hasPayload:u,isAnimationActive:c,offset:f,position:h,reverseDirection:g,useTranslate3d:y,viewBox:S,wrapperStyle:T,lastBoundingBox:C,innerRef:_,hasPortalFromProps:x}=this.props,{cssClasses:R,cssProperties:M}=AY({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:f,position:h,reverseDirection:g,tooltipBox:{height:C.height,width:C.width},useTranslate3d:y,viewBox:S}),U=x?{}:kv(kv({transition:c&&e?"transform ".concat(i,"ms ").concat(r):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=kv(kv({},U),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},T);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:k,ref:_},s)}}var CY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),jm={devToolsEnabled:!1,isSsr:CY()},nB=()=>qe(t=>t.rootProps.accessibilityLayer);function Kr(t){return Number.isFinite(t)}function By(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},f_.apply(null,arguments)}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ZN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(i){_Y(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _Y(t,e,n){return(e=xY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xY(t){var e=wY(t,"string");return typeof e=="symbol"?e:e+""}function wY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eI={curveBasisClosed:$$,curveBasisOpen:Y$,curveBasis:G$,curveBumpX:P$,curveBumpY:D$,curveLinearClosed:K$,curveLinear:V0,curveMonotoneX:j$,curveMonotoneY:X$,curveNatural:W$,curveStep:J$,curveStepAfter:Z$,curveStepBefore:Q$},Lv=t=>Kr(t.x)&&Kr(t.y),bh=t=>t.x,Ah=t=>t.y,MY=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Gm(t));return(n==="curveMonotone"||n==="curveBump")&&e?eI["".concat(n).concat(e==="vertical"?"Y":"X")]:eI[n]||V0},RY=t=>{var{type:e="linear",points:n=[],baseLine:i,layout:r,connectNulls:s=!1}=t,a=MY(e,r),u=s?n.filter(Lv):n,c;if(Array.isArray(i)){var f=s?i.filter(g=>Lv(g)):i,h=u.map((g,y)=>ZN(ZN({},g),{},{base:f[y]}));return r==="vertical"?c=wv().y(Ah).x1(bh).x0(g=>g.base.x):c=wv().x(bh).y1(Ah).y0(g=>g.base.y),c.defined(Lv).curve(a),c(h)}return r==="vertical"&&Be(i)?c=wv().y(Ah).x1(bh).x0(i):Be(i)?c=wv().x(bh).y1(Ah).y0(i):c=WF().x(bh).y(Ah),c.defined(Lv).curve(a),c(u)},iB=t=>{var{className:e,points:n,path:i,pathRef:r}=t;if((!n||!n.length)&&!i)return null;var s=n&&n.length?RY(t):i;return O.createElement("path",f_({},q0(t),g$(t),{className:Xt("recharts-curve",e),d:s===null?void 0:s,ref:r}))},PY=["x","y","top","left","width","height","className"];function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},d_.apply(null,arguments)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function DY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(i){NY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function NY(t,e,n){return(e=IY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IY(t){var e=kY(t,"string");return typeof e=="symbol"?e:e+""}function kY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LY(t,e){if(t==null)return{};var n,i,r=OY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OY(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var FY=(t,e,n,i,r,s)=>"M".concat(t,",").concat(r,"v").concat(i,"M").concat(s,",").concat(e,"h").concat(n),UY=t=>{var{x:e=0,y:n=0,top:i=0,left:r=0,width:s=0,height:a=0,className:u}=t,c=LY(t,PY),f=DY({x:e,y:n,top:i,left:r,width:s,height:a},c);return!Be(e)||!Be(n)||!Be(s)||!Be(a)||!Be(i)||!Be(r)?null:O.createElement("path",d_({},ri(f,!0),{className:Xt("recharts-cross",u),d:FY(e,n,s,a,i,r)}))};function BY(t,e,n,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-r:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-r,width:t==="horizontal"?i:n.width-1,height:t==="horizontal"?n.height-1:i}}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function qY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(i){HY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function HY(t,e,n){return(e=VY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VY(t){var e=zY(t,"string");return typeof e=="symbol"?e:e+""}function zY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fo(t,e){var n=qY({},t),i=e,r=Object.keys(e),s=r.reduce((a,u)=>(a[u]===void 0&&i[u]!==void 0&&(a[u]=i[u]),a),n);return s}function GY(){}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function rI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(i){$Y(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $Y(t,e,n){return(e=YY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YY(t){var e=KY(t,"string");return typeof e=="symbol"?e:e+""}function KY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jY=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),rB=(t,e,n)=>t.map(i=>"".concat(jY(i)," ").concat(e,"ms ").concat(n)).join(","),XY=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,i)=>n.filter(r=>i.includes(r))),Zh=(t,e)=>Object.keys(e).reduce((n,i)=>rI(rI({},n),{},{[i]:t(i,e[i])}),{});function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(i){WY(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function WY(t,e,n){return(e=JY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JY(t){var e=QY(t,"string");return typeof e=="symbol"?e:e+""}function QY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qy=(t,e,n)=>t+(e-t)*n,h_=t=>{var{from:e,to:n}=t;return e!==n},sB=(t,e,n)=>{var i=Zh((r,s)=>{if(h_(s)){var[a,u]=t(s.from,s.to,s.velocity);return Un(Un({},s),{},{from:a,velocity:u})}return s},e);return n<1?Zh((r,s)=>h_(s)?Un(Un({},s),{},{velocity:qy(s.velocity,i[r].velocity,n),from:qy(s.from,i[r].from,n)}):s,e):sB(t,i,n-1)};function ZY(t,e,n,i,r,s){var a,u=i.reduce((y,S)=>Un(Un({},y),{},{[S]:{from:t[S],velocity:0,to:e[S]}}),{}),c=()=>Zh((y,S)=>S.from,u),f=()=>!Object.values(u).filter(h_).length,h=null,g=y=>{a||(a=y);var S=y-a,T=S/n.dt;u=sB(n,u,T),r(Un(Un(Un({},t),e),c())),a=y,f()||(h=s.setTimeout(g))};return()=>(h=s.setTimeout(g),()=>{h()})}function eK(t,e,n,i,r,s,a){var u=null,c=r.reduce((g,y)=>Un(Un({},g),{},{[y]:[t[y],e[y]]}),{}),f,h=g=>{f||(f=g);var y=(g-f)/i,S=Zh((C,_)=>qy(..._,n(y)),c);if(s(Un(Un(Un({},t),e),S)),y<1)u=a.setTimeout(h);else{var T=Zh((C,_)=>qy(..._,n(1)),c);s(Un(Un(Un({},t),e),T))}};return()=>(u=a.setTimeout(h),()=>{u()})}const tK=(t,e,n,i,r,s)=>{var a=XY(t,e);return n.isStepper===!0?ZY(t,e,n,a,r,s):eK(t,e,n,i,a,r,s)};var Hy=1e-4,oB=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],aB=(t,e)=>t.map((n,i)=>n*e**i).reduce((n,i)=>n+i),oI=(t,e)=>n=>{var i=oB(t,e);return aB(i,n)},nK=(t,e)=>n=>{var i=oB(t,e),r=[...i.map((s,a)=>s*a).slice(1),0];return aB(r,n)},aI=function(){for(var e,n,i,r,s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];if(a.length===1)switch(a[0]){case"linear":[e,i,n,r]=[0,0,1,1];break;case"ease":[e,i,n,r]=[.25,.1,.25,1];break;case"ease-in":[e,i,n,r]=[.42,0,1,1];break;case"ease-out":[e,i,n,r]=[.42,0,.58,1];break;case"ease-in-out":[e,i,n,r]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,i,n,r]=c[1].split(")")[0].split(",").map(T=>parseFloat(T)))}}else a.length===4&&([e,i,n,r]=a);var f=oI(e,n),h=oI(i,r),g=nK(e,n),y=T=>T>1?1:T<0?0:T,S=T=>{for(var C=T>1?1:T,_=C,x=0;x<8;++x){var R=f(_)-C,M=g(_);if(Math.abs(R-C)<Hy||M<Hy)return h(_);_=y(_-R/M)}return h(_)};return S.isStepper=!1,S},iK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:r=17}=e,s=(a,u,c)=>{var f=-(a-u)*n,h=c*i,g=c+(f-h)*r/1e3,y=c*r/1e3+a;return Math.abs(y-u)<Hy&&Math.abs(g)<Hy?[u,0]:[y,g]};return s.isStepper=!0,s.dt=r,s},rK=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aI(t);case"spring":return iK();default:if(t.split("(")[0]==="cubic-bezier")return aI(t)}return typeof t=="function"?t:null};function sK(t){var e,n=()=>null,i=!1,r=null,s=a=>{if(!i){if(Array.isArray(a)){if(!a.length)return;var u=a,[c,...f]=u;if(typeof c=="number"){r=t.setTimeout(s.bind(null,f),c);return}s(c),r=t.setTimeout(s.bind(null,f));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{i=!0},start:a=>{i=!1,r&&(r(),r=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class oK{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,s=a=>{a-i>=n?e(a):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{cancelAnimationFrame(r)}}}function aK(){return sK(new oK)}var lK=O.createContext(aK);function uK(t,e){var n=O.useContext(lK);return O.useMemo(()=>e??n(t),[t,e,n])}var cK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},lI={t:0},YT={t:1};function xx(t){var e=Fo(t,cK),{isActive:n,canBegin:i,duration:r,easing:s,begin:a,onAnimationEnd:u,onAnimationStart:c,children:f}=e,h=uK(e.animationId,e.animationManager),[g,y]=O.useState(n?lI:YT),S=O.useRef(null);return O.useEffect(()=>{n||y(YT)},[n]),O.useEffect(()=>{if(!n||!i)return GY;var T=tK(lI,YT,rK(s),r,y,h.getTimeoutController()),C=()=>{S.current=T()};return h.start([c,a,C,r,u]),()=>{h.stop(),S.current&&S.current(),u()}},[n,i,r,s,a,c,u,h]),f(g.t)}function wx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=O.useRef(Wh(e)),i=O.useRef(t);return i.current!==t&&(n.current=Wh(e),i.current=t),n.current}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function cI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(i){fK(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function fK(t,e,n){return(e=dK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dK(t){var e=hK(t,"string");return typeof e=="symbol"?e:e+""}function hK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vy.apply(null,arguments)}var fI=(t,e,n,i,r)=>{var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,u=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,f;if(s>0&&r instanceof Array){for(var h=[0,0,0,0],g=0,y=4;g<y;g++)h[g]=r[g]>s?s:r[g];f="M".concat(t,",").concat(e+a*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+u*h[0],",").concat(e)),f+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+a*h[1])),f+="L ".concat(t+n,",").concat(e+i-a*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-u*h[2],",").concat(e+i)),f+="L ".concat(t+u*h[3],",").concat(e+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+i-a*h[3])),f+="Z"}else if(s>0&&r===+r&&r>0){var S=Math.min(s,r);f="M ".concat(t,",").concat(e+a*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(c,",").concat(t+u*S,",").concat(e,`
            L `).concat(t+n-u*S,",").concat(e,`
            A `).concat(S,",").concat(S,",0,0,").concat(c,",").concat(t+n,",").concat(e+a*S,`
            L `).concat(t+n,",").concat(e+i-a*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(c,",").concat(t+n-u*S,",").concat(e+i,`
            L `).concat(t+u*S,",").concat(e+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(c,",").concat(t,",").concat(e+i-a*S," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},pK={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lB=t=>{var e=Fo(t,pK),n=O.useRef(null),[i,r]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var fe=n.current.getTotalLength();fe&&r(fe)}catch{}},[]);var{x:s,y:a,width:u,height:c,radius:f,className:h}=e,{animationEasing:g,animationDuration:y,animationBegin:S,isAnimationActive:T,isUpdateAnimationActive:C}=e,_=O.useRef(u),x=O.useRef(c),R=O.useRef(s),M=O.useRef(a),U=O.useMemo(()=>({x:s,y:a,width:u,height:c,radius:f}),[s,a,u,c,f]),k=wx(U,"rectangle-");if(s!==+s||a!==+a||u!==+u||c!==+c||u===0||c===0)return null;var F=Xt("recharts-rectangle",h);if(!C)return O.createElement("path",Vy({},ri(e,!0),{className:F,d:fI(s,a,u,c,f)}));var q=_.current,z=x.current,G=R.current,ee=M.current,K="0px ".concat(i===-1?1:i,"px"),ie="".concat(i,"px 0px"),he=rB(["strokeDasharray"],y,typeof g=="string"?g:void 0);return O.createElement(xx,{animationId:k,key:k,canBegin:i>0,duration:y,easing:g,isActive:C,begin:S},fe=>{var de=Vr(q,u,fe),Y=Vr(z,c,fe),J=Vr(G,s,fe),se=Vr(ee,a,fe);n.current&&(_.current=de,x.current=Y,R.current=J,M.current=se);var _e;return T?fe>0?_e={transition:he,strokeDasharray:ie}:_e={strokeDasharray:K}:_e={strokeDasharray:ie},O.createElement("path",Vy({},ri(e,!0),{className:F,d:fI(J,se,de,Y,f),ref:n,style:cI(cI({},_e),e.style)}))})};function uB(t){var{cx:e,cy:n,radius:i,startAngle:r,endAngle:s}=t,a=tn(e,n,i,r),u=tn(e,n,i,s);return{points:[a,u],cx:e,cy:n,radius:i,startAngle:r,endAngle:s}}function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},p_.apply(null,arguments)}var mK=(t,e)=>{var n=vi(e-t),i=Math.min(Math.abs(e-t),359.999);return n*i},Ov=t=>{var{cx:e,cy:n,radius:i,angle:r,sign:s,isExternal:a,cornerRadius:u,cornerIsExternal:c}=t,f=u*(a?1:-1)+i,h=Math.asin(u/f)/Uy,g=c?r:r+s*h,y=tn(e,n,f,g),S=tn(e,n,i,g),T=c?r-s*h:r,C=tn(e,n,f*Math.cos(h*Uy),T);return{center:y,circleTangency:S,lineTangency:C,theta:h}},cB=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,startAngle:s,endAngle:a}=t,u=mK(s,a),c=s+u,f=tn(e,n,r,s),h=tn(e,n,r,c),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var y=tn(e,n,i,s),S=tn(e,n,i,c);g+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=c),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},gK=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:u,startAngle:c,endAngle:f}=t,h=vi(f-c),{circleTangency:g,lineTangency:y,theta:S}=Ov({cx:e,cy:n,radius:r,angle:c,sign:h,cornerRadius:s,cornerIsExternal:u}),{circleTangency:T,lineTangency:C,theta:_}=Ov({cx:e,cy:n,radius:r,angle:f,sign:-h,cornerRadius:s,cornerIsExternal:u}),x=u?Math.abs(c-f):Math.abs(c-f)-S-_;if(x<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):cB({cx:e,cy:n,innerRadius:i,outerRadius:r,startAngle:c,endAngle:f});var R="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(x>180),",").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var{circleTangency:M,lineTangency:U,theta:k}=Ov({cx:e,cy:n,radius:i,angle:c,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:F,lineTangency:q,theta:z}=Ov({cx:e,cy:n,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),G=u?Math.abs(c-f):Math.abs(c-f)-k-z;if(G<0&&s===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(q.x,",").concat(q.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(h>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(U.x,",").concat(U.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},vK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fB=t=>{var e=Fo(t,vK),{cx:n,cy:i,innerRadius:r,outerRadius:s,cornerRadius:a,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h,className:g}=e;if(s<r||f===h)return null;var y=Xt("recharts-sector",g),S=s-r,T=$i(a,S,0,!0),C;return T>0&&Math.abs(f-h)<360?C=gK({cx:n,cy:i,innerRadius:r,outerRadius:s,cornerRadius:Math.min(T,S/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h}):C=cB({cx:n,cy:i,innerRadius:r,outerRadius:s,startAngle:f,endAngle:h}),O.createElement("path",p_({},ri(e,!0),{className:y,d:C}))};function yK(t,e,n){var i,r,s,a;if(t==="horizontal")i=e.x,s=i,r=n.top,a=n.top+n.height;else if(t==="vertical")r=e.y,a=r,i=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:c,innerRadius:f,outerRadius:h,angle:g}=e,y=tn(u,c,f,g),S=tn(u,c,h,g);i=y.x,r=y.y,s=S.x,a=S.y}else return uB(e);return[{x:i,y:r},{x:s,y:a}]}var KT={},jT={},XT={},dI;function bK(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yU();function n(i){return e.isSymbol(i)?NaN:Number(i)}t.toNumber=n})(XT)),XT}var hI;function AK(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bK();function n(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}t.toFinite=n})(jT)),jT}var pI;function SK(){return pI||(pI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bU(),n=AK();function i(r,s,a){a&&typeof a!="number"&&e.isIterateeCall(r,s,a)&&(s=a=void 0),r=n.toFinite(r),s===void 0?(s=r,r=0):s=n.toFinite(s),a=a===void 0?r<s?1:-1:n.toFinite(a);const u=Math.max(Math.ceil((s-r)/(a||1)),0),c=new Array(u);for(let f=0;f<u;f++)c[f]=r,r+=a;return c}t.range=i})(KT)),KT}var WT,mI;function TK(){return mI||(mI=1,WT=SK().range),WT}var EK=TK();const dB=Cs(EK);function Ba(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Mx(t){let e,n,i;t.length!==2?(e=Ba,n=(u,c)=>Ba(t(u),c),i=(u,c)=>t(u)-c):(e=t===Ba||t===CK?t:_K,n=t,i=t);function r(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const g=f+h>>>1;n(u[g],c)<0?f=g+1:h=g}while(f<h)}return f}function s(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const g=f+h>>>1;n(u[g],c)<=0?f=g+1:h=g}while(f<h)}return f}function a(u,c,f=0,h=u.length){const g=r(u,c,f,h-1);return g>f&&i(u[g-1],c)>-i(u[g],c)?g-1:g}return{left:r,center:a,right:s}}function _K(){return 0}function hB(t){return t===null?NaN:+t}function*xK(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const wK=Mx(Ba),Xm=wK.right;Mx(hB).center;class gI extends Map{constructor(e,n=PK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(vI(this,e))}has(e){return super.has(vI(this,e))}set(e,n){return super.set(MK(this,e),n)}delete(e){return super.delete(RK(this,e))}}function vI({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function MK({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function RK({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function PK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function DK(t=Ba){if(t===Ba)return pB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function pB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const NK=Math.sqrt(50),IK=Math.sqrt(10),kK=Math.sqrt(2);function zy(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),a=s>=NK?10:s>=IK?5:s>=kK?2:1;let u,c,f;return r<0?(f=Math.pow(10,-r)/a,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,r)*a,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?zy(t,e,n*2):[u,c,f]}function m_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[r,s,a]=i?zy(e,t,n):zy(t,e,n);if(!(s>=r))return[];const u=s-r+1,c=new Array(u);if(i)if(a<0)for(let f=0;f<u;++f)c[f]=(s-f)/-a;else for(let f=0;f<u;++f)c[f]=(s-f)*a;else if(a<0)for(let f=0;f<u;++f)c[f]=(r+f)/-a;else for(let f=0;f<u;++f)c[f]=(r+f)*a;return c}function g_(t,e,n){return e=+e,t=+t,n=+n,zy(t,e,n)[2]}function v_(t,e,n){e=+e,t=+t,n=+n;const i=e<t,r=i?g_(e,t,n):g_(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function yI(t,e){let n;for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function bI(t,e){let n;for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function mB(t,e,n=0,i=1/0,r){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(r=r===void 0?pB:DK(r);i>n;){if(i-n>600){const c=i-n+1,f=e-n+1,h=Math.log(c),g=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*g*(c-g)/c)*(f-c/2<0?-1:1),S=Math.max(n,Math.floor(e-f*g/c+y)),T=Math.min(i,Math.floor(e+(c-f)*g/c+y));mB(t,e,S,T,r)}const s=t[e];let a=n,u=i;for(Sh(t,n,e),r(t[i],s)>0&&Sh(t,n,i);a<u;){for(Sh(t,a,u),++a,--u;r(t[a],s)<0;)++a;for(;r(t[u],s)>0;)--u}r(t[n],s)===0?Sh(t,n,u):(++u,Sh(t,u,i)),u<=e&&(n=u+1),e<=u&&(i=u-1)}return t}function Sh(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function LK(t,e,n){if(t=Float64Array.from(xK(t)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return bI(t);if(e>=1)return yI(t);var i,r=(i-1)*e,s=Math.floor(r),a=yI(mB(t,s).subarray(0,s+1)),u=bI(t.subarray(s+1));return a+(u-a)*(r-s)}}function OK(t,e,n=hB){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,s=Math.floor(r),a=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return a+(u-a)*(r-s)}}function FK(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(r);++i<r;)s[i]=t+i*n;return s}function Er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Uo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const y_=Symbol("implicit");function Rx(){var t=new gI,e=[],n=[],i=y_;function r(s){let a=t.get(s);if(a===void 0){if(i!==y_)return i;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new gI;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(n=Array.from(s),r):n.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Rx(e,n).unknown(i)},Er.apply(r,arguments),r}function Px(){var t=Rx().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,s,a,u=!1,c=0,f=0,h=.5;delete t.unknown;function g(){var y=e().length,S=r<i,T=S?r:i,C=S?i:r;s=(C-T)/Math.max(1,y-c+f*2),u&&(s=Math.floor(s)),T+=(C-T-s*(y-c))*h,a=s*(1-c),u&&(T=Math.round(T),a=Math.round(a));var _=FK(y).map(function(x){return T+s*x});return n(S?_.reverse():_)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([i,r]=y,i=+i,r=+r,g()):[i,r]},t.rangeRound=function(y){return[i,r]=y,i=+i,r=+r,u=!0,g()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(y){return arguments.length?(u=!!y,g()):u},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),g()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),g()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),g()):h},t.copy=function(){return Px(e(),[i,r]).round(u).paddingInner(c).paddingOuter(f).align(h)},Er.apply(g(),arguments)}function gB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return gB(e())},t}function UK(){return gB(Px.apply(null,arguments).paddingInner(1))}function Dx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vB(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Wm(){}var ep=.7,Gy=1/ep,Kc="\\s*([+-]?\\d+)\\s*",tp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",BK=/^#([0-9a-f]{3,8})$/,qK=new RegExp(`^rgb\\(${Kc},${Kc},${Kc}\\)$`),HK=new RegExp(`^rgb\\(${bs},${bs},${bs}\\)$`),VK=new RegExp(`^rgba\\(${Kc},${Kc},${Kc},${tp}\\)$`),zK=new RegExp(`^rgba\\(${bs},${bs},${bs},${tp}\\)$`),GK=new RegExp(`^hsl\\(${tp},${bs},${bs}\\)$`),$K=new RegExp(`^hsla\\(${tp},${bs},${bs},${tp}\\)$`),AI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dx(Wm,np,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:SI,formatHex:SI,formatHex8:YK,formatHsl:KK,formatRgb:TI,toString:TI});function SI(){return this.rgb().formatHex()}function YK(){return this.rgb().formatHex8()}function KK(){return yB(this).formatHsl()}function TI(){return this.rgb().formatRgb()}function np(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=BK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?EI(e):n===3?new yi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=qK.exec(t))?new yi(e[1],e[2],e[3],1):(e=HK.exec(t))?new yi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=VK.exec(t))?Fv(e[1],e[2],e[3],e[4]):(e=zK.exec(t))?Fv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=GK.exec(t))?xI(e[1],e[2]/100,e[3]/100,1):(e=$K.exec(t))?xI(e[1],e[2]/100,e[3]/100,e[4]):AI.hasOwnProperty(t)?EI(AI[t]):t==="transparent"?new yi(NaN,NaN,NaN,0):null}function EI(t){return new yi(t>>16&255,t>>8&255,t&255,1)}function Fv(t,e,n,i){return i<=0&&(t=e=n=NaN),new yi(t,e,n,i)}function jK(t){return t instanceof Wm||(t=np(t)),t?(t=t.rgb(),new yi(t.r,t.g,t.b,t.opacity)):new yi}function b_(t,e,n,i){return arguments.length===1?jK(t):new yi(t,e,n,i??1)}function yi(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Dx(yi,b_,vB(Wm,{brighter(t){return t=t==null?Gy:Math.pow(Gy,t),new yi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ep:Math.pow(ep,t),new yi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yi(_u(this.r),_u(this.g),_u(this.b),$y(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CI,formatHex:CI,formatHex8:XK,formatRgb:_I,toString:_I}));function CI(){return`#${xl(this.r)}${xl(this.g)}${xl(this.b)}`}function XK(){return`#${xl(this.r)}${xl(this.g)}${xl(this.b)}${xl((isNaN(this.opacity)?1:this.opacity)*255)}`}function _I(){const t=$y(this.opacity);return`${t===1?"rgb(":"rgba("}${_u(this.r)}, ${_u(this.g)}, ${_u(this.b)}${t===1?")":`, ${t})`}`}function $y(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _u(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xl(t){return t=_u(t),(t<16?"0":"")+t.toString(16)}function xI(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gr(t,e,n,i)}function yB(t){if(t instanceof Gr)return new Gr(t.h,t.s,t.l,t.opacity);if(t instanceof Wm||(t=np(t)),!t)return new Gr;if(t instanceof Gr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),s=Math.max(e,n,i),a=NaN,u=s-r,c=(s+r)/2;return u?(e===s?a=(n-i)/u+(n<i)*6:n===s?a=(i-e)/u+2:a=(e-n)/u+4,u/=c<.5?s+r:2-s-r,a*=60):u=c>0&&c<1?0:a,new Gr(a,u,c,t.opacity)}function WK(t,e,n,i){return arguments.length===1?yB(t):new Gr(t,e,n,i??1)}function Gr(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Dx(Gr,WK,vB(Wm,{brighter(t){return t=t==null?Gy:Math.pow(Gy,t),new Gr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ep:Math.pow(ep,t),new Gr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new yi(JT(t>=240?t-240:t+120,r,i),JT(t,r,i),JT(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Gr(wI(this.h),Uv(this.s),Uv(this.l),$y(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$y(this.opacity);return`${t===1?"hsl(":"hsla("}${wI(this.h)}, ${Uv(this.s)*100}%, ${Uv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wI(t){return t=(t||0)%360,t<0?t+360:t}function Uv(t){return Math.max(0,Math.min(1,t||0))}function JT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Nx=t=>()=>t;function JK(t,e){return function(n){return t+n*e}}function QK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function ZK(t){return(t=+t)==1?bB:function(e,n){return n-e?QK(e,n,t):Nx(isNaN(e)?n:e)}}function bB(t,e){var n=e-t;return n?JK(t,n):Nx(isNaN(t)?e:t)}const MI=(function t(e){var n=ZK(e);function i(r,s){var a=n((r=b_(r)).r,(s=b_(s)).r),u=n(r.g,s.g),c=n(r.b,s.b),f=bB(r.opacity,s.opacity);return function(h){return r.r=a(h),r.g=u(h),r.b=c(h),r.opacity=f(h),r+""}}return i.gamma=t,i})(1);function e7(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(s){for(r=0;r<n;++r)i[r]=t[r]*(1-s)+e[r]*s;return i}}function t7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function n7(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),s=new Array(n),a;for(a=0;a<i;++a)r[a]=rd(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(u){for(a=0;a<i;++a)s[a]=r[a](u);return s}}function i7(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Yy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function r7(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=rd(t[r],e[r]):i[r]=e[r];return function(s){for(r in n)i[r]=n[r](s);return i}}var A_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,QT=new RegExp(A_.source,"g");function s7(t){return function(){return t}}function o7(t){return function(e){return t(e)+""}}function a7(t,e){var n=A_.lastIndex=QT.lastIndex=0,i,r,s,a=-1,u=[],c=[];for(t=t+"",e=e+"";(i=A_.exec(t))&&(r=QT.exec(e));)(s=r.index)>n&&(s=e.slice(n,s),u[a]?u[a]+=s:u[++a]=s),(i=i[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Yy(i,r)})),n=QT.lastIndex;return n<e.length&&(s=e.slice(n),u[a]?u[a]+=s:u[++a]=s),u.length<2?c[0]?o7(c[0].x):s7(e):(e=c.length,function(f){for(var h=0,g;h<e;++h)u[(g=c[h]).i]=g.x(f);return u.join("")})}function rd(t,e){var n=typeof e,i;return e==null||n==="boolean"?Nx(e):(n==="number"?Yy:n==="string"?(i=np(e))?(e=i,MI):a7:e instanceof np?MI:e instanceof Date?i7:t7(e)?e7:Array.isArray(e)?n7:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?r7:Yy)(t,e)}function Ix(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function l7(t,e){e===void 0&&(e=t,t=rd);for(var n=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);n<i;)s[n]=t(r,r=e[++n]);return function(a){var u=Math.max(0,Math.min(i-1,Math.floor(a*=i)));return s[u](a-u)}}function u7(t){return function(){return t}}function Ky(t){return+t}var RI=[0,1];function ti(t){return t}function S_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:u7(isNaN(e)?NaN:.5)}function c7(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function f7(t,e,n){var i=t[0],r=t[1],s=e[0],a=e[1];return r<i?(i=S_(r,i),s=n(a,s)):(i=S_(i,r),s=n(s,a)),function(u){return s(i(u))}}function d7(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),s=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=S_(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(u){var c=Xm(t,u,1,i)-1;return s[c](r[c](u))}}function Jm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function tb(){var t=RI,e=RI,n=rd,i,r,s,a=ti,u,c,f;function h(){var y=Math.min(t.length,e.length);return a!==ti&&(a=c7(t[0],t[y-1])),u=y>2?d7:f7,c=f=null,g}function g(y){return y==null||isNaN(y=+y)?s:(c||(c=u(t.map(i),e,n)))(i(a(y)))}return g.invert=function(y){return a(r((f||(f=u(e,t.map(i),Yy)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,Ky),h()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=Ix,h()},g.clamp=function(y){return arguments.length?(a=y?!0:ti,h()):a!==ti},g.interpolate=function(y){return arguments.length?(n=y,h()):n},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,S){return i=y,r=S,h()}}function kx(){return tb()(ti,ti)}function h7(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Qf(t){return t=jy(Math.abs(t)),t?t[1]:NaN}function p7(t,e){return function(n,i){for(var r=n.length,s=[],a=0,u=t[0],c=0;r>0&&u>0&&(c+u+1>i&&(u=Math.max(1,i-c)),s.push(n.substring(r-=u,r+u)),!((c+=u+1)>i));)u=t[a=(a+1)%t.length];return s.reverse().join(e)}}function m7(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var g7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ip(t){if(!(e=g7.exec(t)))throw new Error("invalid format: "+t);var e;return new Lx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ip.prototype=Lx.prototype;function Lx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Lx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function v7(t){e:for(var e=t.length,n=1,i=-1,r;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var AB;function y7(t,e){var n=jy(t,e);if(!n)return t+"";var i=n[0],r=n[1],s=r-(AB=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+jy(t,Math.max(0,e+s-1))[0]}function PI(t,e){var n=jy(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const DI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:h7,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>PI(t*100,e),r:PI,s:y7,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NI(t){return t}var II=Array.prototype.map,kI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function b7(t){var e=t.grouping===void 0||t.thousands===void 0?NI:p7(II.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?NI:m7(II.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(g){g=ip(g);var y=g.fill,S=g.align,T=g.sign,C=g.symbol,_=g.zero,x=g.width,R=g.comma,M=g.precision,U=g.trim,k=g.type;k==="n"?(R=!0,k="g"):DI[k]||(M===void 0&&(M=12),U=!0,k="g"),(_||y==="0"&&S==="=")&&(_=!0,y="0",S="=");var F=C==="$"?n:C==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",q=C==="$"?i:/[%p]/.test(k)?a:"",z=DI[k],G=/[defgprs%]/.test(k);M=M===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function ee(K){var ie=F,he=q,fe,de,Y;if(k==="c")he=z(K)+he,K="";else{K=+K;var J=K<0||1/K<0;if(K=isNaN(K)?c:z(Math.abs(K),M),U&&(K=v7(K)),J&&+K==0&&T!=="+"&&(J=!1),ie=(J?T==="("?T:u:T==="-"||T==="("?"":T)+ie,he=(k==="s"?kI[8+AB/3]:"")+he+(J&&T==="("?")":""),G){for(fe=-1,de=K.length;++fe<de;)if(Y=K.charCodeAt(fe),48>Y||Y>57){he=(Y===46?r+K.slice(fe+1):K.slice(fe))+he,K=K.slice(0,fe);break}}}R&&!_&&(K=e(K,1/0));var se=ie.length+K.length+he.length,_e=se<x?new Array(x-se+1).join(y):"";switch(R&&_&&(K=e(_e+K,_e.length?x-he.length:1/0),_e=""),S){case"<":K=ie+K+he+_e;break;case"=":K=ie+_e+K+he;break;case"^":K=_e.slice(0,se=_e.length>>1)+ie+K+he+_e.slice(se);break;default:K=_e+ie+K+he;break}return s(K)}return ee.toString=function(){return g+""},ee}function h(g,y){var S=f((g=ip(g),g.type="f",g)),T=Math.max(-8,Math.min(8,Math.floor(Qf(y)/3)))*3,C=Math.pow(10,-T),_=kI[8+T/3];return function(x){return S(C*x)+_}}return{format:f,formatPrefix:h}}var Bv,Ox,SB;A7({thousands:",",grouping:[3],currency:["$",""]});function A7(t){return Bv=b7(t),Ox=Bv.format,SB=Bv.formatPrefix,Bv}function S7(t){return Math.max(0,-Qf(Math.abs(t)))}function T7(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qf(e)/3)))*3-Qf(Math.abs(t)))}function E7(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qf(e)-Qf(t))+1}function TB(t,e,n,i){var r=v_(t,e,n),s;switch(i=ip(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(s=T7(r,a))&&(i.precision=s),SB(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=E7(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=S7(r))&&(i.precision=s-(i.type==="%")*2);break}}return Ox(i)}function Ya(t){var e=t.domain;return t.ticks=function(n){var i=e();return m_(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return TB(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,s=i.length-1,a=i[r],u=i[s],c,f,h=10;for(u<a&&(f=a,a=u,u=f,f=r,r=s,s=f);h-- >0;){if(f=g_(a,u,n),f===c)return i[r]=a,i[s]=u,e(i);if(f>0)a=Math.floor(a/f)*f,u=Math.ceil(u/f)*f;else if(f<0)a=Math.ceil(a*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function EB(){var t=kx();return t.copy=function(){return Jm(t,EB())},Er.apply(t,arguments),Ya(t)}function CB(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,Ky),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return CB(t).unknown(e)},t=arguments.length?Array.from(t,Ky):[0,1],Ya(n)}function _B(t,e){t=t.slice();var n=0,i=t.length-1,r=t[n],s=t[i],a;return s<r&&(a=n,n=i,i=a,a=r,r=s,s=a),t[n]=e.floor(r),t[i]=e.ceil(s),t}function LI(t){return Math.log(t)}function OI(t){return Math.exp(t)}function C7(t){return-Math.log(-t)}function _7(t){return-Math.exp(-t)}function x7(t){return isFinite(t)?+("1e"+t):t<0?0:t}function w7(t){return t===10?x7:t===Math.E?Math.exp:e=>Math.pow(t,e)}function M7(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function FI(t){return(e,n)=>-t(-e,n)}function Fx(t){const e=t(LI,OI),n=e.domain;let i=10,r,s;function a(){return r=M7(i),s=w7(i),n()[0]<0?(r=FI(r),s=FI(s),t(C7,_7)):t(LI,OI),e}return e.base=function(u){return arguments.length?(i=+u,a()):i},e.domain=function(u){return arguments.length?(n(u),a()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const g=h<f;g&&([f,h]=[h,f]);let y=r(f),S=r(h),T,C;const _=u==null?10:+u;let x=[];if(!(i%1)&&S-y<_){if(y=Math.floor(y),S=Math.ceil(S),f>0){for(;y<=S;++y)for(T=1;T<i;++T)if(C=y<0?T/s(-y):T*s(y),!(C<f)){if(C>h)break;x.push(C)}}else for(;y<=S;++y)for(T=i-1;T>=1;--T)if(C=y>0?T/s(-y):T*s(y),!(C<f)){if(C>h)break;x.push(C)}x.length*2<_&&(x=m_(f,h,_))}else x=m_(y,S,Math.min(S-y,_)).map(s);return g?x.reverse():x},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(!(i%1)&&(c=ip(c)).precision==null&&(c.trim=!0),c=Ox(c)),u===1/0)return c;const f=Math.max(1,i*u/e.ticks().length);return h=>{let g=h/s(Math.round(r(h)));return g*i<i-.5&&(g*=i),g<=f?c(h):""}},e.nice=()=>n(_B(n(),{floor:u=>s(Math.floor(r(u))),ceil:u=>s(Math.ceil(r(u)))})),e}function xB(){const t=Fx(tb()).domain([1,10]);return t.copy=()=>Jm(t,xB()).base(t.base()),Er.apply(t,arguments),t}function UI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function BI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ux(t){var e=1,n=t(UI(e),BI(e));return n.constant=function(i){return arguments.length?t(UI(e=+i),BI(e)):e},Ya(n)}function wB(){var t=Ux(tb());return t.copy=function(){return Jm(t,wB()).constant(t.constant())},Er.apply(t,arguments)}function qI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function R7(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function P7(t){return t<0?-t*t:t*t}function Bx(t){var e=t(ti,ti),n=1;function i(){return n===1?t(ti,ti):n===.5?t(R7,P7):t(qI(n),qI(1/n))}return e.exponent=function(r){return arguments.length?(n=+r,i()):n},Ya(e)}function qx(){var t=Bx(tb());return t.copy=function(){return Jm(t,qx()).exponent(t.exponent())},Er.apply(t,arguments),t}function D7(){return qx.apply(null,arguments).exponent(.5)}function HI(t){return Math.sign(t)*t*t}function N7(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function MB(){var t=kx(),e=[0,1],n=!1,i;function r(s){var a=N7(t(s));return isNaN(a)?i:n?Math.round(a):a}return r.invert=function(s){return t.invert(HI(s))},r.domain=function(s){return arguments.length?(t.domain(s),r):t.domain()},r.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ky)).map(HI)),r):e.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(n=!!s,r):n},r.clamp=function(s){return arguments.length?(t.clamp(s),r):t.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return MB(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},Er.apply(r,arguments),Ya(r)}function RB(){var t=[],e=[],n=[],i;function r(){var a=0,u=Math.max(1,e.length);for(n=new Array(u-1);++a<u;)n[a-1]=OK(t,a/u);return s}function s(a){return a==null||isNaN(a=+a)?i:e[Xm(n,a)]}return s.invertExtent=function(a){var u=e.indexOf(a);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ba),r()},s.range=function(a){return arguments.length?(e=Array.from(a),r()):e.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.quantiles=function(){return n.slice()},s.copy=function(){return RB().domain(t).range(e).unknown(i)},Er.apply(s,arguments)}function PB(){var t=0,e=1,n=1,i=[.5],r=[0,1],s;function a(c){return c!=null&&c<=c?r[Xm(i,c,0,n)]:s}function u(){var c=-1;for(i=new Array(n);++c<n;)i[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},a.range=function(c){return arguments.length?(n=(r=Array.from(c)).length-1,u()):r.slice()},a.invertExtent=function(c){var f=r.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,i[0]]:f>=n?[i[n-1],e]:[i[f-1],i[f]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return i.slice()},a.copy=function(){return PB().domain([t,e]).range(r).unknown(s)},Er.apply(Ya(a),arguments)}function DB(){var t=[.5],e=[0,1],n,i=1;function r(s){return s!=null&&s<=s?e[Xm(t,s,0,i)]:n}return r.domain=function(s){return arguments.length?(t=Array.from(s),i=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},r.unknown=function(s){return arguments.length?(n=s,r):n},r.copy=function(){return DB().domain(t).range(e).unknown(n)},Er.apply(r,arguments)}const ZT=new Date,eE=new Date;function pn(t,e,n,i){function r(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(t(s=new Date(+s)),s),r.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),r.round=s=>{const a=r(s),u=r.ceil(s);return s-a<u-s?a:u},r.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),r.range=(s,a,u)=>{const c=[];if(s=r.ceil(s),u=u==null?1:Math.floor(u),!(s<a)||!(u>0))return c;let f;do c.push(f=new Date(+s)),e(s,u),t(s);while(f<s&&s<a);return c},r.filter=s=>pn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!s(a););else for(;--u>=0;)for(;e(a,1),!s(a););}),n&&(r.count=(s,a)=>(ZT.setTime(+s),eE.setTime(+a),t(ZT),t(eE),Math.floor(n(ZT,eE))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?a=>i(a)%s===0:a=>r.count(0,a)%s===0):r)),r}const Xy=pn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?pn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Xy);Xy.range;const Ao=1e3,br=Ao*60,So=br*60,Po=So*24,Hx=Po*7,VI=Po*30,tE=Po*365,wl=pn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ao)},(t,e)=>(e-t)/Ao,t=>t.getUTCSeconds());wl.range;const Vx=pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ao)},(t,e)=>{t.setTime(+t+e*br)},(t,e)=>(e-t)/br,t=>t.getMinutes());Vx.range;const zx=pn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*br)},(t,e)=>(e-t)/br,t=>t.getUTCMinutes());zx.range;const Gx=pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ao-t.getMinutes()*br)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getHours());Gx.range;const $x=pn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*So)},(t,e)=>(e-t)/So,t=>t.getUTCHours());$x.range;const Qm=pn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*br)/Po,t=>t.getDate()-1);Qm.range;const nb=pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Po,t=>t.getUTCDate()-1);nb.range;const NB=pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Po,t=>Math.floor(t/Po));NB.range;function Hu(t){return pn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*br)/Hx)}const ib=Hu(0),Wy=Hu(1),I7=Hu(2),k7=Hu(3),Zf=Hu(4),L7=Hu(5),O7=Hu(6);ib.range;Wy.range;I7.range;k7.range;Zf.range;L7.range;O7.range;function Vu(t){return pn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Hx)}const rb=Vu(0),Jy=Vu(1),F7=Vu(2),U7=Vu(3),ed=Vu(4),B7=Vu(5),q7=Vu(6);rb.range;Jy.range;F7.range;U7.range;ed.range;B7.range;q7.range;const Yx=pn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Yx.range;const Kx=pn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Kx.range;const Do=pn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Do.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Do.range;const No=pn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());No.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});No.range;function IB(t,e,n,i,r,s){const a=[[wl,1,Ao],[wl,5,5*Ao],[wl,15,15*Ao],[wl,30,30*Ao],[s,1,br],[s,5,5*br],[s,15,15*br],[s,30,30*br],[r,1,So],[r,3,3*So],[r,6,6*So],[r,12,12*So],[i,1,Po],[i,2,2*Po],[n,1,Hx],[e,1,VI],[e,3,3*VI],[t,1,tE]];function u(f,h,g){const y=h<f;y&&([f,h]=[h,f]);const S=g&&typeof g.range=="function"?g:c(f,h,g),T=S?S.range(f,+h+1):[];return y?T.reverse():T}function c(f,h,g){const y=Math.abs(h-f)/g,S=Mx(([,,_])=>_).right(a,y);if(S===a.length)return t.every(v_(f/tE,h/tE,g));if(S===0)return Xy.every(Math.max(v_(f,h,g),1));const[T,C]=a[y/a[S-1][2]<a[S][2]/y?S-1:S];return T.every(C)}return[u,c]}const[H7,V7]=IB(No,Kx,rb,NB,$x,zx),[z7,G7]=IB(Do,Yx,ib,Qm,Gx,Vx);function nE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function iE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Th(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function $7(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,s=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,f=Eh(r),h=Ch(r),g=Eh(s),y=Ch(s),S=Eh(a),T=Ch(a),C=Eh(u),_=Ch(u),x=Eh(c),R=Ch(c),M={a:J,A:se,b:_e,B:H,c:null,d:jI,e:jI,f:pj,g:Cj,G:xj,H:fj,I:dj,j:hj,L:kB,m:mj,M:gj,p:ae,q:ne,Q:JI,s:QI,S:vj,u:yj,U:bj,V:Aj,w:Sj,W:Tj,x:null,X:null,y:Ej,Y:_j,Z:wj,"%":WI},U={a:ce,A:be,b:Me,B:xe,c:null,d:XI,e:XI,f:Dj,g:Hj,G:zj,H:Mj,I:Rj,j:Pj,L:OB,m:Nj,M:Ij,p:$e,q:He,Q:JI,s:QI,S:kj,u:Lj,U:Oj,V:Fj,w:Uj,W:Bj,x:null,X:null,y:qj,Y:Vj,Z:Gj,"%":WI},k={a:ee,A:K,b:ie,B:he,c:fe,d:YI,e:YI,f:aj,g:$I,G:GI,H:KI,I:KI,j:ij,L:oj,m:nj,M:rj,p:G,q:tj,Q:uj,s:cj,S:sj,u:W7,U:J7,V:Q7,w:X7,W:Z7,x:de,X:Y,y:$I,Y:GI,Z:ej,"%":lj};M.x=F(n,M),M.X=F(i,M),M.c=F(e,M),U.x=F(n,U),U.X=F(i,U),U.c=F(e,U);function F(pe,ue){return function(ve){var te=[],Ne=-1,Ee=0,at=pe.length,pt,lt,Ku;for(ve instanceof Date||(ve=new Date(+ve));++Ne<at;)pe.charCodeAt(Ne)===37&&(te.push(pe.slice(Ee,Ne)),(lt=zI[pt=pe.charAt(++Ne)])!=null?pt=pe.charAt(++Ne):lt=pt==="e"?" ":"0",(Ku=ue[pt])&&(pt=Ku(ve,lt)),te.push(pt),Ee=Ne+1);return te.push(pe.slice(Ee,Ne)),te.join("")}}function q(pe,ue){return function(ve){var te=Th(1900,void 0,1),Ne=z(te,pe,ve+="",0),Ee,at;if(Ne!=ve.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(ue&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Ee=iE(Th(te.y,0,1)),at=Ee.getUTCDay(),Ee=at>4||at===0?Jy.ceil(Ee):Jy(Ee),Ee=nb.offset(Ee,(te.V-1)*7),te.y=Ee.getUTCFullYear(),te.m=Ee.getUTCMonth(),te.d=Ee.getUTCDate()+(te.w+6)%7):(Ee=nE(Th(te.y,0,1)),at=Ee.getDay(),Ee=at>4||at===0?Wy.ceil(Ee):Wy(Ee),Ee=Qm.offset(Ee,(te.V-1)*7),te.y=Ee.getFullYear(),te.m=Ee.getMonth(),te.d=Ee.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),at="Z"in te?iE(Th(te.y,0,1)).getUTCDay():nE(Th(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(at+5)%7:te.w+te.U*7-(at+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,iE(te)):nE(te)}}function z(pe,ue,ve,te){for(var Ne=0,Ee=ue.length,at=ve.length,pt,lt;Ne<Ee;){if(te>=at)return-1;if(pt=ue.charCodeAt(Ne++),pt===37){if(pt=ue.charAt(Ne++),lt=k[pt in zI?ue.charAt(Ne++):pt],!lt||(te=lt(pe,ve,te))<0)return-1}else if(pt!=ve.charCodeAt(te++))return-1}return te}function G(pe,ue,ve){var te=f.exec(ue.slice(ve));return te?(pe.p=h.get(te[0].toLowerCase()),ve+te[0].length):-1}function ee(pe,ue,ve){var te=S.exec(ue.slice(ve));return te?(pe.w=T.get(te[0].toLowerCase()),ve+te[0].length):-1}function K(pe,ue,ve){var te=g.exec(ue.slice(ve));return te?(pe.w=y.get(te[0].toLowerCase()),ve+te[0].length):-1}function ie(pe,ue,ve){var te=x.exec(ue.slice(ve));return te?(pe.m=R.get(te[0].toLowerCase()),ve+te[0].length):-1}function he(pe,ue,ve){var te=C.exec(ue.slice(ve));return te?(pe.m=_.get(te[0].toLowerCase()),ve+te[0].length):-1}function fe(pe,ue,ve){return z(pe,e,ue,ve)}function de(pe,ue,ve){return z(pe,n,ue,ve)}function Y(pe,ue,ve){return z(pe,i,ue,ve)}function J(pe){return a[pe.getDay()]}function se(pe){return s[pe.getDay()]}function _e(pe){return c[pe.getMonth()]}function H(pe){return u[pe.getMonth()]}function ae(pe){return r[+(pe.getHours()>=12)]}function ne(pe){return 1+~~(pe.getMonth()/3)}function ce(pe){return a[pe.getUTCDay()]}function be(pe){return s[pe.getUTCDay()]}function Me(pe){return c[pe.getUTCMonth()]}function xe(pe){return u[pe.getUTCMonth()]}function $e(pe){return r[+(pe.getUTCHours()>=12)]}function He(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var ue=F(pe+="",M);return ue.toString=function(){return pe},ue},parse:function(pe){var ue=q(pe+="",!1);return ue.toString=function(){return pe},ue},utcFormat:function(pe){var ue=F(pe+="",U);return ue.toString=function(){return pe},ue},utcParse:function(pe){var ue=q(pe+="",!0);return ue.toString=function(){return pe},ue}}}var zI={"-":"",_:" ",0:"0"},_n=/^\s*\d+/,Y7=/^%/,K7=/[\\^$*+?|[\]().{}]/g;function it(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",s=r.length;return i+(s<n?new Array(n-s+1).join(e)+r:r)}function j7(t){return t.replace(K7,"\\$&")}function Eh(t){return new RegExp("^(?:"+t.map(j7).join("|")+")","i")}function Ch(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function X7(t,e,n){var i=_n.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function W7(t,e,n){var i=_n.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function J7(t,e,n){var i=_n.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Q7(t,e,n){var i=_n.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Z7(t,e,n){var i=_n.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function GI(t,e,n){var i=_n.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function $I(t,e,n){var i=_n.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function ej(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function tj(t,e,n){var i=_n.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function nj(t,e,n){var i=_n.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function YI(t,e,n){var i=_n.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ij(t,e,n){var i=_n.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function KI(t,e,n){var i=_n.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function rj(t,e,n){var i=_n.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function sj(t,e,n){var i=_n.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function oj(t,e,n){var i=_n.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function aj(t,e,n){var i=_n.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function lj(t,e,n){var i=Y7.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function uj(t,e,n){var i=_n.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function cj(t,e,n){var i=_n.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function jI(t,e){return it(t.getDate(),e,2)}function fj(t,e){return it(t.getHours(),e,2)}function dj(t,e){return it(t.getHours()%12||12,e,2)}function hj(t,e){return it(1+Qm.count(Do(t),t),e,3)}function kB(t,e){return it(t.getMilliseconds(),e,3)}function pj(t,e){return kB(t,e)+"000"}function mj(t,e){return it(t.getMonth()+1,e,2)}function gj(t,e){return it(t.getMinutes(),e,2)}function vj(t,e){return it(t.getSeconds(),e,2)}function yj(t){var e=t.getDay();return e===0?7:e}function bj(t,e){return it(ib.count(Do(t)-1,t),e,2)}function LB(t){var e=t.getDay();return e>=4||e===0?Zf(t):Zf.ceil(t)}function Aj(t,e){return t=LB(t),it(Zf.count(Do(t),t)+(Do(t).getDay()===4),e,2)}function Sj(t){return t.getDay()}function Tj(t,e){return it(Wy.count(Do(t)-1,t),e,2)}function Ej(t,e){return it(t.getFullYear()%100,e,2)}function Cj(t,e){return t=LB(t),it(t.getFullYear()%100,e,2)}function _j(t,e){return it(t.getFullYear()%1e4,e,4)}function xj(t,e){var n=t.getDay();return t=n>=4||n===0?Zf(t):Zf.ceil(t),it(t.getFullYear()%1e4,e,4)}function wj(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+it(e/60|0,"0",2)+it(e%60,"0",2)}function XI(t,e){return it(t.getUTCDate(),e,2)}function Mj(t,e){return it(t.getUTCHours(),e,2)}function Rj(t,e){return it(t.getUTCHours()%12||12,e,2)}function Pj(t,e){return it(1+nb.count(No(t),t),e,3)}function OB(t,e){return it(t.getUTCMilliseconds(),e,3)}function Dj(t,e){return OB(t,e)+"000"}function Nj(t,e){return it(t.getUTCMonth()+1,e,2)}function Ij(t,e){return it(t.getUTCMinutes(),e,2)}function kj(t,e){return it(t.getUTCSeconds(),e,2)}function Lj(t){var e=t.getUTCDay();return e===0?7:e}function Oj(t,e){return it(rb.count(No(t)-1,t),e,2)}function FB(t){var e=t.getUTCDay();return e>=4||e===0?ed(t):ed.ceil(t)}function Fj(t,e){return t=FB(t),it(ed.count(No(t),t)+(No(t).getUTCDay()===4),e,2)}function Uj(t){return t.getUTCDay()}function Bj(t,e){return it(Jy.count(No(t)-1,t),e,2)}function qj(t,e){return it(t.getUTCFullYear()%100,e,2)}function Hj(t,e){return t=FB(t),it(t.getUTCFullYear()%100,e,2)}function Vj(t,e){return it(t.getUTCFullYear()%1e4,e,4)}function zj(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ed(t):ed.ceil(t),it(t.getUTCFullYear()%1e4,e,4)}function Gj(){return"+0000"}function WI(){return"%"}function JI(t){return+t}function QI(t){return Math.floor(+t/1e3)}var Ic,UB,BB;$j({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $j(t){return Ic=$7(t),UB=Ic.format,Ic.parse,BB=Ic.utcFormat,Ic.utcParse,Ic}function Yj(t){return new Date(t)}function Kj(t){return t instanceof Date?+t:+new Date(+t)}function jx(t,e,n,i,r,s,a,u,c,f){var h=kx(),g=h.invert,y=h.domain,S=f(".%L"),T=f(":%S"),C=f("%I:%M"),_=f("%I %p"),x=f("%a %d"),R=f("%b %d"),M=f("%B"),U=f("%Y");function k(F){return(c(F)<F?S:u(F)<F?T:a(F)<F?C:s(F)<F?_:i(F)<F?r(F)<F?x:R:n(F)<F?M:U)(F)}return h.invert=function(F){return new Date(g(F))},h.domain=function(F){return arguments.length?y(Array.from(F,Kj)):y().map(Yj)},h.ticks=function(F){var q=y();return t(q[0],q[q.length-1],F??10)},h.tickFormat=function(F,q){return q==null?k:f(q)},h.nice=function(F){var q=y();return(!F||typeof F.range!="function")&&(F=e(q[0],q[q.length-1],F??10)),F?y(_B(q,F)):h},h.copy=function(){return Jm(h,jx(t,e,n,i,r,s,a,u,c,f))},h}function jj(){return Er.apply(jx(z7,G7,Do,Yx,ib,Qm,Gx,Vx,wl,UB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xj(){return Er.apply(jx(H7,V7,No,Kx,rb,nb,$x,zx,wl,BB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sb(){var t=0,e=1,n,i,r,s,a=ti,u=!1,c;function f(g){return g==null||isNaN(g=+g)?c:a(r===0?.5:(g=(s(g)-n)*r,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),i=s(e=+e),r=n===i?0:1/(i-n),f):[t,e]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(a=g,f):a};function h(g){return function(y){var S,T;return arguments.length?([S,T]=y,a=g(S,T),f):[a(0),a(1)]}}return f.range=h(rd),f.rangeRound=h(Ix),f.unknown=function(g){return arguments.length?(c=g,f):c},function(g){return s=g,n=g(t),i=g(e),r=n===i?0:1/(i-n),f}}function Ka(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qB(){var t=Ya(sb()(ti));return t.copy=function(){return Ka(t,qB())},Uo.apply(t,arguments)}function HB(){var t=Fx(sb()).domain([1,10]);return t.copy=function(){return Ka(t,HB()).base(t.base())},Uo.apply(t,arguments)}function VB(){var t=Ux(sb());return t.copy=function(){return Ka(t,VB()).constant(t.constant())},Uo.apply(t,arguments)}function Xx(){var t=Bx(sb());return t.copy=function(){return Ka(t,Xx()).exponent(t.exponent())},Uo.apply(t,arguments)}function Wj(){return Xx.apply(null,arguments).exponent(.5)}function zB(){var t=[],e=ti;function n(i){if(i!=null&&!isNaN(i=+i))return e((Xm(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let r of i)r!=null&&!isNaN(r=+r)&&t.push(r);return t.sort(Ba),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,r)=>e(r/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(r,s)=>LK(t,s/i))},n.copy=function(){return zB(e).domain(t)},Uo.apply(n,arguments)}function ob(){var t=0,e=.5,n=1,i=1,r,s,a,u,c,f=ti,h,g=!1,y;function S(C){return isNaN(C=+C)?y:(C=.5+((C=+h(C))-s)*(i*C<i*s?u:c),f(g?Math.max(0,Math.min(1,C)):C))}S.domain=function(C){return arguments.length?([t,e,n]=C,r=h(t=+t),s=h(e=+e),a=h(n=+n),u=r===s?0:.5/(s-r),c=s===a?0:.5/(a-s),i=s<r?-1:1,S):[t,e,n]},S.clamp=function(C){return arguments.length?(g=!!C,S):g},S.interpolator=function(C){return arguments.length?(f=C,S):f};function T(C){return function(_){var x,R,M;return arguments.length?([x,R,M]=_,f=l7(C,[x,R,M]),S):[f(0),f(.5),f(1)]}}return S.range=T(rd),S.rangeRound=T(Ix),S.unknown=function(C){return arguments.length?(y=C,S):y},function(C){return h=C,r=C(t),s=C(e),a=C(n),u=r===s?0:.5/(s-r),c=s===a?0:.5/(a-s),i=s<r?-1:1,S}}function GB(){var t=Ya(ob()(ti));return t.copy=function(){return Ka(t,GB())},Uo.apply(t,arguments)}function $B(){var t=Fx(ob()).domain([.1,1,10]);return t.copy=function(){return Ka(t,$B()).base(t.base())},Uo.apply(t,arguments)}function YB(){var t=Ux(ob());return t.copy=function(){return Ka(t,YB()).constant(t.constant())},Uo.apply(t,arguments)}function Wx(){var t=Bx(ob());return t.copy=function(){return Ka(t,Wx()).exponent(t.exponent())},Uo.apply(t,arguments)}function Jj(){return Wx.apply(null,arguments).exponent(.5)}const Vh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Px,scaleDiverging:GB,scaleDivergingLog:$B,scaleDivergingPow:Wx,scaleDivergingSqrt:Jj,scaleDivergingSymlog:YB,scaleIdentity:CB,scaleImplicit:y_,scaleLinear:EB,scaleLog:xB,scaleOrdinal:Rx,scalePoint:UK,scalePow:qx,scaleQuantile:RB,scaleQuantize:PB,scaleRadial:MB,scaleSequential:qB,scaleSequentialLog:HB,scaleSequentialPow:Xx,scaleSequentialQuantile:zB,scaleSequentialSqrt:Wj,scaleSequentialSymlog:VB,scaleSqrt:D7,scaleSymlog:wB,scaleThreshold:DB,scaleTime:jj,scaleUtc:Xj,tickFormat:TB},Symbol.toStringTag,{value:"Module"}));var ja=t=>t.chartData,Jx=Z([ja],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),KB=(t,e,n,i)=>i?Jx(t):ja(t);function td(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Kr(e)&&Kr(n))return!0}return!1}function ZI(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Qj(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,i]=t,r,s;if(Kr(n))r=n;else if(typeof n=="function")return;if(Kr(i))s=i;else if(typeof i=="function")return;var a=[r,s];if(td(a))return a}}function Zj(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var i=t(e,n);if(td(i))return ZI(i,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[r,s]=t,a,u;if(r==="auto")e!=null&&(a=Math.min(...e));else if(Be(r))a=r;else if(typeof r=="function")try{e!=null&&(a=r(e==null?void 0:e[0]))}catch{}else if(typeof r=="string"&&zN.test(r)){var c=zN.exec(r);if(c==null||e==null)a=void 0;else{var f=+c[1];a=e[0]-f}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Be(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&GN.test(s)){var h=GN.exec(s);if(h==null||e==null)u=void 0;else{var g=+h[1];u=e[1]+g}}else u=e==null?void 0:e[1];var y=[a,u];if(td(y))return e==null?y:ZI(y,e,n)}}}var sd=1e9,eX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zx,Ot=!0,Tr="[DecimalError] ",xu=Tr+"Invalid argument: ",Qx=Tr+"Exponent out of range: ",od=Math.floor,Sl=Math.pow,tX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zi,Tn=1e7,It=7,jB=9007199254740991,Qy=od(jB/It),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,n,i,r,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(i=s.d.length,r=t.d.length,e=0,n=i<r?i:r;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*It;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(t){return _o(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,n=e.constructor;return xt(_o(e,new n(t),0,1),n.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return rn(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,n=this,i=n.constructor,r=i.precision,s=r+5;if(t===void 0)t=new i(10);else if(t=new i(t),t.s<1||t.eq(zi))throw Error(Tr+"NaN");if(n.s<1)throw Error(Tr+(n.s?"NaN":"-Infinity"));return n.eq(zi)?new i(0):(Ot=!1,e=_o(rp(n,s),rp(t,s),s),Ot=!0,xt(e,r))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JB(e,t):XB(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,n=this,i=n.constructor,r=i.precision;if(t=new i(t),!t.s)throw Error(Tr+"NaN");return n.s?(Ot=!1,e=_o(n,t,0,1).times(t),Ot=!0,n.minus(e)):xt(new i(n),r)};ye.naturalExponential=ye.exp=function(){return WB(this)};ye.naturalLogarithm=ye.ln=function(){return rp(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XB(e,t):JB(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,n,i,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xu+t);if(e=rn(r)+1,i=r.d.length-1,n=i*It+1,i=r.d[i],i){for(;i%10==0;i/=10)n--;for(i=r.d[0];i>=10;i/=10)n++}return t&&e>n?e:n};ye.squareRoot=ye.sqrt=function(){var t,e,n,i,r,s,a,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Tr+"NaN")}for(t=rn(u),Ot=!1,r=Math.sqrt(+u),r==0||r==1/0?(e=ys(u.d),(e.length+t)%2==0&&(e+="0"),r=Math.sqrt(e),t=od((t+1)/2)-(t<0||t%2),r==1/0?e="5e"+t:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),i=new c(e)):i=new c(r.toString()),n=c.precision,r=a=n+3;;)if(s=i,i=s.plus(_o(u,s,a+2)).times(.5),ys(s.d).slice(0,a)===(e=ys(i.d)).slice(0,a)){if(e=e.slice(a-3,a+1),r==a&&e=="4999"){if(xt(s,n+1,0),s.times(s).eq(u)){i=s;break}}else if(e!="9999")break;a+=4}return Ot=!0,xt(i,n)};ye.times=ye.mul=function(t){var e,n,i,r,s,a,u,c,f,h=this,g=h.constructor,y=h.d,S=(t=new g(t)).d;if(!h.s||!t.s)return new g(0);for(t.s*=h.s,n=h.e+t.e,c=y.length,f=S.length,c<f&&(s=y,y=S,S=s,a=c,c=f,f=a),s=[],a=c+f,i=a;i--;)s.push(0);for(i=f;--i>=0;){for(e=0,r=c+i;r>i;)u=s[r]+S[i]*y[r-i-1]+e,s[r--]=u%Tn|0,e=u/Tn|0;s[r]=(s[r]+e)%Tn|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Ot?xt(t,g.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(Es(t,0,sd),e===void 0?e=i.rounding:Es(e,0,8),xt(n,t+rn(n)+1,e))};ye.toExponential=function(t,e){var n,i=this,r=i.constructor;return t===void 0?n=Iu(i,!0):(Es(t,0,sd),e===void 0?e=r.rounding:Es(e,0,8),i=xt(new r(i),t+1,e),n=Iu(i,!0,t+1)),n};ye.toFixed=function(t,e){var n,i,r=this,s=r.constructor;return t===void 0?Iu(r):(Es(t,0,sd),e===void 0?e=s.rounding:Es(e,0,8),i=xt(new s(r),t+rn(r)+1,e),n=Iu(i.abs(),!1,t+rn(i)+1),r.isneg()&&!r.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return xt(new e(t),rn(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,n,i,r,s,a,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(zi);if(u=new c(u),!u.s){if(t.s<1)throw Error(Tr+"Infinity");return u}if(u.eq(zi))return u;if(i=c.precision,t.eq(zi))return xt(u,i);if(e=t.e,n=t.d.length-1,a=e>=n,s=u.s,a){if((n=h<0?-h:h)<=jB){for(r=new c(zi),e=Math.ceil(i/It+4),Ot=!1;n%2&&(r=r.times(u),tk(r.d,e)),n=od(n/2),n!==0;)u=u.times(u),tk(u.d,e);return Ot=!0,t.s<0?new c(zi).div(r):xt(r,i)}}else if(s<0)throw Error(Tr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Ot=!1,r=t.times(rp(u,i+f)),Ot=!0,r=WB(r),r.s=s,r};ye.toPrecision=function(t,e){var n,i,r=this,s=r.constructor;return t===void 0?(n=rn(r),i=Iu(r,n<=s.toExpNeg||n>=s.toExpPos)):(Es(t,1,sd),e===void 0?e=s.rounding:Es(e,0,8),r=xt(new s(r),t,e),n=rn(r),i=Iu(r,t<=n||n<=s.toExpNeg,t)),i};ye.toSignificantDigits=ye.tosd=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(Es(t,1,sd),e===void 0?e=i.rounding:Es(e,0,8)),xt(new i(n),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=rn(t),n=t.constructor;return Iu(t,e<=n.toExpNeg||e>=n.toExpPos)};function XB(t,e){var n,i,r,s,a,u,c,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ot?xt(e,g):e;if(c=t.d,f=e.d,a=t.e,r=e.e,c=c.slice(),s=a-r,s){for(s<0?(i=c,s=-s,u=f.length):(i=f,r=a,u=c.length),a=Math.ceil(g/It),u=a>u?a+1:u+1,s>u&&(s=u,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(u=c.length,s=f.length,u-s<0&&(s=u,i=f,f=c,c=i),n=0;s;)n=(c[--s]=c[s]+f[s]+n)/Tn|0,c[s]%=Tn;for(n&&(c.unshift(n),++r),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=r,Ot?xt(e,g):e}function Es(t,e,n){if(t!==~~t||t<e||t>n)throw Error(xu+t)}function ys(t){var e,n,i,r=t.length-1,s="",a=t[0];if(r>0){for(s+=a,e=1;e<r;e++)i=t[e]+"",n=It-i.length,n&&(s+=pa(n)),s+=i;a=t[e],i=a+"",n=It-i.length,n&&(s+=pa(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var _o=(function(){function t(i,r){var s,a=0,u=i.length;for(i=i.slice();u--;)s=i[u]*r+a,i[u]=s%Tn|0,a=s/Tn|0;return a&&i.unshift(a),i}function e(i,r,s,a){var u,c;if(s!=a)c=s>a?1:-1;else for(u=c=0;u<s;u++)if(i[u]!=r[u]){c=i[u]>r[u]?1:-1;break}return c}function n(i,r,s){for(var a=0;s--;)i[s]-=a,a=i[s]<r[s]?1:0,i[s]=a*Tn+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,a){var u,c,f,h,g,y,S,T,C,_,x,R,M,U,k,F,q,z,G=i.constructor,ee=i.s==r.s?1:-1,K=i.d,ie=r.d;if(!i.s)return new G(i);if(!r.s)throw Error(Tr+"Division by zero");for(c=i.e-r.e,q=ie.length,k=K.length,S=new G(ee),T=S.d=[],f=0;ie[f]==(K[f]||0);)++f;if(ie[f]>(K[f]||0)&&--c,s==null?R=s=G.precision:a?R=s+(rn(i)-rn(r))+1:R=s,R<0)return new G(0);if(R=R/It+2|0,f=0,q==1)for(h=0,ie=ie[0],R++;(f<k||h)&&R--;f++)M=h*Tn+(K[f]||0),T[f]=M/ie|0,h=M%ie|0;else{for(h=Tn/(ie[0]+1)|0,h>1&&(ie=t(ie,h),K=t(K,h),q=ie.length,k=K.length),U=q,C=K.slice(0,q),_=C.length;_<q;)C[_++]=0;z=ie.slice(),z.unshift(0),F=ie[0],ie[1]>=Tn/2&&++F;do h=0,u=e(ie,C,q,_),u<0?(x=C[0],q!=_&&(x=x*Tn+(C[1]||0)),h=x/F|0,h>1?(h>=Tn&&(h=Tn-1),g=t(ie,h),y=g.length,_=C.length,u=e(g,C,y,_),u==1&&(h--,n(g,q<y?z:ie,y))):(h==0&&(u=h=1),g=ie.slice()),y=g.length,y<_&&g.unshift(0),n(C,g,_),u==-1&&(_=C.length,u=e(ie,C,q,_),u<1&&(h++,n(C,q<_?z:ie,_))),_=C.length):u===0&&(h++,C=[0]),T[f++]=h,u&&C[0]?C[_++]=K[U]||0:(C=[K[U]],_=1);while((U++<k||C[0]!==void 0)&&R--)}return T[0]||T.shift(),S.e=c,xt(S,a?s+rn(S)+1:s)}})();function WB(t,e){var n,i,r,s,a,u,c=0,f=0,h=t.constructor,g=h.precision;if(rn(t)>16)throw Error(Qx+rn(t));if(!t.s)return new h(zi);for(Ot=!1,u=g,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),f+=5;for(i=Math.log(Sl(2,f))/Math.LN10*2+5|0,u+=i,n=r=s=new h(zi),h.precision=u;;){if(r=xt(r.times(t),u),n=n.times(++c),a=s.plus(_o(r,n,u)),ys(a.d).slice(0,u)===ys(s.d).slice(0,u)){for(;f--;)s=xt(s.times(s),u);return h.precision=g,e==null?(Ot=!0,xt(s,g)):s}s=a}}function rn(t){for(var e=t.e*It,n=t.d[0];n>=10;n/=10)e++;return e}function rE(t,e,n){if(e>t.LN10.sd())throw Ot=!0,n&&(t.precision=n),Error(Tr+"LN10 precision limit exceeded");return xt(new t(t.LN10),e)}function pa(t){for(var e="";t--;)e+="0";return e}function rp(t,e){var n,i,r,s,a,u,c,f,h,g=1,y=10,S=t,T=S.d,C=S.constructor,_=C.precision;if(S.s<1)throw Error(Tr+(S.s?"NaN":"-Infinity"));if(S.eq(zi))return new C(0);if(e==null?(Ot=!1,f=_):f=e,S.eq(10))return e==null&&(Ot=!0),rE(C,f);if(f+=y,C.precision=f,n=ys(T),i=n.charAt(0),s=rn(S),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)S=S.times(t),n=ys(S.d),i=n.charAt(0),g++;s=rn(S),i>1?(S=new C("0."+n),s++):S=new C(i+"."+n.slice(1))}else return c=rE(C,f+2,_).times(s+""),S=rp(new C(i+"."+n.slice(1)),f-y).plus(c),C.precision=_,e==null?(Ot=!0,xt(S,_)):S;for(u=a=S=_o(S.minus(zi),S.plus(zi),f),h=xt(S.times(S),f),r=3;;){if(a=xt(a.times(h),f),c=u.plus(_o(a,new C(r),f)),ys(c.d).slice(0,f)===ys(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(rE(C,f+2,_).times(s+""))),u=_o(u,new C(g),f),C.precision=_,e==null?(Ot=!0,xt(u,_)):u;u=c,r+=2}}function ek(t,e){var n,i,r;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,n=n-i-1,t.e=od(n/It),t.d=[],i=(n+1)%It,n<0&&(i+=It),i<r){for(i&&t.d.push(+e.slice(0,i)),r-=It;i<r;)t.d.push(+e.slice(i,i+=It));e=e.slice(i),i=It-e.length}else i-=r;for(;i--;)e+="0";if(t.d.push(+e),Ot&&(t.e>Qy||t.e<-Qy))throw Error(Qx+n)}else t.s=0,t.e=0,t.d=[0];return t}function xt(t,e,n){var i,r,s,a,u,c,f,h,g=t.d;for(a=1,s=g[0];s>=10;s/=10)a++;if(i=e-a,i<0)i+=It,r=e,f=g[h=0];else{if(h=Math.ceil((i+1)/It),s=g.length,h>=s)return t;for(f=s=g[h],a=1;s>=10;s/=10)a++;i%=It,r=i-It+a}if(n!==void 0&&(s=Sl(10,a-r-1),u=f/s%10|0,c=e<0||g[h+1]!==void 0||f%s,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(i>0?r>0?f/Sl(10,a-r):0:g[h-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return c?(s=rn(t),g.length=1,e=e-s-1,g[0]=Sl(10,(It-e%It)%It),t.e=od(-e/It)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(i==0?(g.length=h,s=1,h--):(g.length=h+1,s=Sl(10,It-i),g[h]=r>0?(f/Sl(10,a-r)%Sl(10,r)|0)*s:0),c)for(;;)if(h==0){(g[0]+=s)==Tn&&(g[0]=1,++t.e);break}else{if(g[h]+=s,g[h]!=Tn)break;g[h--]=0,s=1}for(i=g.length;g[--i]===0;)g.pop();if(Ot&&(t.e>Qy||t.e<-Qy))throw Error(Qx+rn(t));return t}function JB(t,e){var n,i,r,s,a,u,c,f,h,g,y=t.constructor,S=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ot?xt(e,S):e;if(c=t.d,g=e.d,i=e.e,f=t.e,c=c.slice(),a=f-i,a){for(h=a<0,h?(n=c,a=-a,u=g.length):(n=g,i=f,u=c.length),r=Math.max(Math.ceil(S/It),u)+2,a>r&&(a=r,n.length=1),n.reverse(),r=a;r--;)n.push(0);n.reverse()}else{for(r=c.length,u=g.length,h=r<u,h&&(u=r),r=0;r<u;r++)if(c[r]!=g[r]){h=c[r]<g[r];break}a=0}for(h&&(n=c,c=g,g=n,e.s=-e.s),u=c.length,r=g.length-u;r>0;--r)c[u++]=0;for(r=g.length;r>a;){if(c[--r]<g[r]){for(s=r;s&&c[--s]===0;)c[s]=Tn-1;--c[s],c[r]+=Tn}c[r]-=g[r]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--i;return c[0]?(e.d=c,e.e=i,Ot?xt(e,S):e):new y(0)}function Iu(t,e,n){var i,r=rn(t),s=ys(t.d),a=s.length;return e?(n&&(i=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+pa(i):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+pa(-r-1)+s,n&&(i=n-a)>0&&(s+=pa(i))):r>=a?(s+=pa(r+1-a),n&&(i=n-r-1)>0&&(s=s+"."+pa(i))):((i=r+1)<a&&(s=s.slice(0,i)+"."+s.slice(i)),n&&(i=n-a)>0&&(r+1===a&&(s+="."),s+=pa(i))),t.s<0?"-"+s:s}function tk(t,e){if(t.length>e)return t.length=e,!0}function QB(t){var e,n,i;function r(s){var a=this;if(!(a instanceof r))return new r(s);if(a.constructor=r,s instanceof r){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(xu+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return ek(a,s.toString())}else if(typeof s!="string")throw Error(xu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,tX.test(s))ek(a,s);else throw Error(xu+s)}if(r.prototype=ye,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=QB,r.config=r.set=nX,t===void 0&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return r.config(t),r}function nX(t){if(!t||typeof t!="object")throw Error(Tr+"Object expected");var e,n,i,r=["precision",1,sd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=t[n=r[e]])!==void 0)if(od(i)===i&&i>=r[e+1]&&i<=r[e+2])this[n]=i;else throw Error(xu+n+": "+i);if((i=t[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(xu+n+": "+i);return this}var Zx=QB(eX);zi=new Zx(1);const ht=Zx;var iX=t=>t,ZB={},eq=t=>t===ZB,nk=t=>function e(){return arguments.length===0||arguments.length===1&&eq(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},tq=(t,e)=>t===1?e:nk(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var s=i.filter(a=>a!==ZB).length;return s>=t?e(...i):tq(t-s,nk(function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];var f=i.map(h=>eq(h)?u.shift():h);return e(...f,...u)}))}),ab=t=>tq(t.length,t),T_=(t,e)=>{for(var n=[],i=t;i<e;++i)n[i-t]=i;return n},rX=ab((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),sX=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(!n.length)return iX;var r=n.reverse(),s=r[0],a=r.slice(1);return function(){return a.reduce((u,c)=>c(u),s(...arguments))}},E_=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),nq=t=>{var e=null,n=null;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e&&r.every((a,u)=>{var c;return a===((c=e)===null||c===void 0?void 0:c[u])})||(e=r,n=t(...r)),n}};function iq(t){var e;return t===0?e=1:e=Math.floor(new ht(t).abs().log(10).toNumber())+1,e}function rq(t,e,n){for(var i=new ht(t),r=0,s=[];i.lt(e)&&r<1e5;)s.push(i.toNumber()),i=i.add(n),r++;return s}ab((t,e,n)=>{var i=+t,r=+e;return i+n*(r-i)});ab((t,e,n)=>{var i=e-+t;return i=i||1/0,(n-t)/i});ab((t,e,n)=>{var i=e-+t;return i=i||1/0,Math.max(0,Math.min(1,(n-t)/i))});var sq=t=>{var[e,n]=t,[i,r]=[e,n];return e>n&&([i,r]=[n,e]),[i,r]},oq=(t,e,n)=>{if(t.lte(0))return new ht(0);var i=iq(t.toNumber()),r=new ht(10).pow(i),s=t.div(r),a=i!==1?.05:.1,u=new ht(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=u.mul(r);return e?new ht(c.toNumber()):new ht(Math.ceil(c.toNumber()))},oX=(t,e,n)=>{var i=new ht(1),r=new ht(t);if(!r.isint()&&n){var s=Math.abs(t);s<1?(i=new ht(10).pow(iq(t)-1),r=new ht(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new ht(Math.floor(t)))}else t===0?r=new ht(Math.floor((e-1)/2)):n||(r=new ht(Math.floor(t)));var a=Math.floor((e-1)/2),u=sX(rX(c=>r.add(new ht(c-a).mul(i)).toNumber()),T_);return u(0,e)},aq=function(e,n,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(i-1)))return{step:new ht(0),tickMin:new ht(0),tickMax:new ht(0)};var a=oq(new ht(n).sub(e).div(i-1),r,s),u;e<=0&&n>=0?u=new ht(0):(u=new ht(e).add(n).div(2),u=u.sub(new ht(u).mod(a)));var c=Math.ceil(u.sub(e).div(a).toNumber()),f=Math.ceil(new ht(n).sub(u).div(a).toNumber()),h=c+f+1;return h>i?aq(e,n,i,r,s+1):(h<i&&(f=n>0?f+(i-h):f,c=n>0?c:c+(i-h)),{step:a,tickMin:u.sub(new ht(c).mul(a)),tickMax:u.add(new ht(f).mul(a))})};function aX(t){var[e,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[a,u]=sq([e,n]);if(a===-1/0||u===1/0){var c=u===1/0?[a,...T_(0,i-1).map(()=>1/0)]:[...T_(0,i-1).map(()=>-1/0),u];return e>n?E_(c):c}if(a===u)return oX(a,i,r);var{step:f,tickMin:h,tickMax:g}=aq(a,u,s,r,0),y=rq(h,g.add(new ht(.1).mul(f)),f);return e>n?E_(y):y}function lX(t,e){var[n,i]=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=sq([n,i]);if(s===-1/0||a===1/0)return[n,i];if(s===a)return[s];var u=Math.max(e,2),c=oq(new ht(a).sub(s).div(u-1),r,0),f=[...rq(new ht(s),new ht(a),c),a];return r===!1&&(f=f.map(h=>Math.round(h))),n>i?E_(f):f}var uX=nq(aX),cX=nq(lX),fX=t=>t.rootProps.barCategoryGap,Zm=t=>t.rootProps.stackOffset,ew=t=>t.options.chartName,tw=t=>t.rootProps.syncId,lq=t=>t.rootProps.syncMethod,nw=t=>t.options.eventEmitter,vo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Hi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},lb=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},dX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vo.angleAxisId,includeHidden:!1,name:void 0,reversed:vo.reversed,scale:vo.scale,tick:vo.tick,tickCount:void 0,ticks:void 0,type:vo.type,unit:void 0},hX={allowDataOverflow:Hi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hi.scale,tick:Hi.tick,tickCount:Hi.tickCount,ticks:void 0,type:Hi.type,unit:void 0},pX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:vo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vo.scale,tick:vo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},mX={allowDataOverflow:Hi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hi.scale,tick:Hi.tick,tickCount:Hi.tickCount,ticks:void 0,type:"category",unit:void 0},iw=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?pX:dX,rw=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?mX:hX,ub=t=>t.polarOptions,sw=Z([Lo,Oo,Cn],YU),uq=Z([ub,sw],(t,e)=>{if(t!=null)return $i(t.innerRadius,e,0)}),cq=Z([ub,sw],(t,e)=>{if(t!=null)return $i(t.outerRadius,e,e*.8)}),gX=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},fq=Z([ub],gX);Z([iw,fq],lb);var dq=Z([sw,uq,cq],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Z([rw,dq],lb);var hq=Z([Pt,ub,uq,cq,Lo,Oo],(t,e,n,i,r,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||i==null)){var{cx:a,cy:u,startAngle:c,endAngle:f}=e;return{cx:$i(a,r,r/2),cy:$i(u,s,s/2),innerRadius:n,outerRadius:i,startAngle:c,endAngle:f,clockWise:!1}}}),Ft=(t,e)=>e,eg=(t,e,n)=>n;function pq(t){return t==null?void 0:t.id}var mn=t=>{var e=Pt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ad=t=>t.tooltip.settings.axisId,xn=t=>{var e=mn(t),n=ad(t);return tg(t,e,n)},mq=Z([xn],t=>t==null?void 0:t.dataKey);function gq(t,e,n){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:s}=n,a=new Map;return t.forEach(u=>{var c,f=(c=u.data)!==null&&c!==void 0?c:i;if(!(f==null||f.length===0)){var h=pq(u);f.forEach((g,y)=>{var S=s==null||r?y:String(nn(g,s,null)),T=nn(g,u.dataKey,0),C;a.has(S)?C=a.get(S):C={},Object.assign(C,{[h]:T}),a.set(S,C)})}}),Array.from(a.values())}function ow(t){return t.stackId!=null&&t.dataKey!=null}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(i){vX(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function vX(t,e,n){return(e=yX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yX(t){var e=bX(t,"string");return typeof e=="symbol"?e:e+""}function bX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C_=[0,"auto"],AX={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},SX=(t,e)=>t.cartesianAxis.xAxis[e],Xa=(t,e)=>{var n=SX(t,e);return n??AX},TX={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:C_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Km},EX=(t,e)=>t.cartesianAxis.yAxis[e],Wa=(t,e)=>{var n=EX(t,e);return n??TX},CX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??CX},Wt=(t,e,n)=>{switch(e){case"xAxis":return Xa(t,n);case"yAxis":return Wa(t,n);case"zAxis":return aw(t,n);case"angleAxis":return iw(t,n);case"radiusAxis":return rw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},_X=(t,e,n)=>{switch(e){case"xAxis":return Xa(t,n);case"yAxis":return Wa(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},tg=(t,e,n)=>{switch(e){case"xAxis":return Xa(t,n);case"yAxis":return Wa(t,n);case"angleAxis":return iw(t,n);case"radiusAxis":return rw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},vq=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function lw(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var xX=t=>t.graphicalItems.cartesianItems,wX=Z([Ft,eg],lw),uw=(t,e,n)=>t.filter(n).filter(i=>(e==null?void 0:e.includeHidden)===!0?!0:!i.hide),ng=Z([xX,Wt,wX],uw),yq=Z([ng],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ow)),bq=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Aq=Z([ng],bq),cw=t=>t.map(e=>e.data).filter(Boolean).flat(1),MX=Z([ng],cw),fw=(t,e)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:r}=e;return t.length>0?t:n.slice(i,r+1)},dw=Z([MX,KB],fw),hw=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:nn(i,e.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>t.map(r=>({value:nn(r,i)}))):t.map(i=>({value:i})),cb=Z([dw,Wt,ng],hw);function Sq(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function zu(t){return t.filter(e=>Mo(e)||e instanceof Date).map(Number).filter(e=>Yr(e)===!1)}function RX(t,e,n){return!n||typeof e!="number"||Yr(e)?[]:n.length?zu(n.flatMap(i=>{var r=nn(t,i.dataKey),s,a;if(Array.isArray(r)?[s,a]=r:s=a=r,!(!Kr(s)||!Kr(a)))return[e-s,e+a]})):[]}var PX=Z([yq,KB,xn],gq),Tq=(t,e,n)=>{var i={},r=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),i);return Object.fromEntries(Object.entries(r).map(s=>{var[a,u]=s,c=u.map(pq);return[a,{stackedData:M8(t,c,n),graphicalItems:u}]}))},DX=Z([PX,yq,Zm],Tq),Eq=(t,e,n)=>{var{dataStartIndex:i,dataEndIndex:r}=e;if(n!=="zAxis"){var s=D8(t,i,r);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},NX=Z([DX,ja,Ft],Eq),Cq=(t,e,n,i,r)=>n.length>0?t.flatMap(s=>n.flatMap(a=>{var u,c,f=(u=i[a.id])===null||u===void 0?void 0:u.filter(g=>Sq(r,g)),h=nn(s,(c=e.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:h,errorDomain:RX(s,h,f)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:nn(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),fb=t=>t.errorBars,_q=(t,e,n)=>t.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>Sq(n,i));Z([Aq,fb,Ft],_q);var IX=Z([dw,Wt,Aq,fb,Ft],Cq);function kX(t){var{value:e}=t;if(Mo(e)||e instanceof Date)return e}var rk=t=>{var e=t.flatMap(i=>[i.value,i.errorDomain]).flat(1),n=zu(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},LX=(t,e,n)=>{var i=t.map(kX).filter(r=>r!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&UF(i))?dB(0,t.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},pw=t=>{var e;if(t==null||!("domain"in t))return C_;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=zu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:C_},e0=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n.filter(Boolean);if(r.length!==0){var s=r.flat(),a=Math.min(...s),u=Math.max(...s);return[a,u]}},xq=t=>t.referenceElements.dots,ld=(t,e,n)=>t.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===n:i.yAxisId===n),OX=Z([xq,Ft,eg],ld),wq=t=>t.referenceElements.areas,FX=Z([wq,Ft,eg],ld),Mq=t=>t.referenceElements.lines,UX=Z([Mq,Ft,eg],ld),Rq=(t,e)=>{var n=zu(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},BX=Z(OX,Ft,Rq),Pq=(t,e)=>{var n=zu(t.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qX=Z([FX,Ft],Pq),Dq=(t,e)=>{var n=zu(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},HX=Z(UX,Ft,Dq),VX=Z(BX,HX,qX,(t,e,n)=>e0(t,n,e)),Nq=Z([Wt],pw),mw=(t,e,n,i,r,s,a)=>{var u=Qj(e,t.allowDataOverflow);if(u!=null)return u;var c=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",f=c?e0(n,r,rk(i)):e0(r,rk(i));return Zj(e,f,t.allowDataOverflow)},zX=Z([Wt,Nq,NX,IX,VX,Pt,Ft],mw),GX=[0,1],gw=(t,e,n,i,r,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:u,type:c}=t,f=qu(e,s);return f&&u==null?dB(0,n.length):c==="category"?LX(i,t,f):r==="expand"?GX:a}},vw=Z([Wt,Pt,dw,cb,Zm,Ft,zX],gw),Iq=(t,e,n,i,r)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&r==="radiusAxis"?"band":e==="radial"&&r==="angleAxis"?"linear":a==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Gm(s));return u in Vh?u:"point"}}},ud=Z([Wt,Pt,vq,ew,Ft],Iq);function $X(t){if(t!=null){if(t in Vh)return Vh[t]();var e="scale".concat(Gm(t));if(e in Vh)return Vh[e]()}}function yw(t,e,n,i){if(!(n==null||i==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(i);var r=$X(e);if(r!=null){var s=r.domain(n).range(i);return C8(s),s}}}var bw=(t,e,n)=>{var i=pw(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&td(t))return uX(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&td(t))return cX(t,e.tickCount,e.allowDecimals)}},Aw=Z([vw,tg,ud],bw),Sw=(t,e,n,i)=>{if(i!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&td(e)&&Array.isArray(n)&&n.length>0){var r=e[0],s=n[0],a=e[1],u=n[n.length-1];return[Math.min(r,s),Math.max(a,u)]}return e},YX=Z([Wt,vw,Aw,Ft],Sw),KX=Z(cb,Wt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,i=Array.from(zu(t.map(u=>u.value))).sort((u,c)=>u-c);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var s=0;s<i.length-1;s++){var a=i[s+1]-i[s];n=Math.min(n,a)}return n/r}}),kq=Z(KX,Pt,fX,Cn,(t,e,n,i)=>i,(t,e,n,i,r)=>{if(!Kr(t))return 0;var s=e==="vertical"?i.height:i.width;if(r==="gap")return t*s/2;if(r==="no-gap"){var a=$i(n,t*s),u=t*s/2;return u-a-(u-a)/s*a}return 0}),jX=(t,e)=>{var n=Xa(t,e);return n==null||typeof n.padding!="string"?0:kq(t,"xAxis",e,n.padding)},XX=(t,e)=>{var n=Wa(t,e);return n==null||typeof n.padding!="string"?0:kq(t,"yAxis",e,n.padding)},WX=Z(Xa,jX,(t,e)=>{var n,i;if(t==null)return{left:0,right:0};var{padding:r}=t;return typeof r=="string"?{left:e,right:e}:{left:((n=r.left)!==null&&n!==void 0?n:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),JX=Z(Wa,XX,(t,e)=>{var n,i;if(t==null)return{top:0,bottom:0};var{padding:r}=t;return typeof r=="string"?{top:e,bottom:e}:{top:((n=r.top)!==null&&n!==void 0?n:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),QX=Z([Cn,WX,Z0,Q0,(t,e,n)=>n],(t,e,n,i,r)=>{var{padding:s}=i;return r?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),ZX=Z([Cn,Pt,JX,Z0,Q0,(t,e,n)=>n],(t,e,n,i,r,s)=>{var{padding:a}=r;return s?[i.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ig=(t,e,n,i)=>{var r;switch(e){case"xAxis":return QX(t,n,i);case"yAxis":return ZX(t,n,i);case"zAxis":return(r=aw(t,n))===null||r===void 0?void 0:r.range;case"angleAxis":return fq(t);case"radiusAxis":return dq(t,n);default:return}},Lq=Z([Wt,ig],lb),db=Z([Wt,ud,YX,Lq],yw);Z([ng,fb,Ft],_q);function Oq(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var hb=(t,e)=>e,pb=(t,e,n)=>n,e9=Z(W0,hb,pb,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(Oq)),t9=Z(J0,hb,pb,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(Oq)),Fq=(t,e)=>({width:t.width,height:e.height}),n9=(t,e)=>{var n=typeof e.width=="number"?e.width:Km;return{width:n,height:t.height}};Z(Cn,Xa,Fq);var i9=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},r9=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},s9=Z(Oo,Cn,e9,hb,pb,(t,e,n,i,r)=>{var s={},a;return n.forEach(u=>{var c=Fq(e,u);a==null&&(a=i9(e,i,t));var f=i==="top"&&!r||i==="bottom"&&r;s[u.id]=a-Number(f)*c.height,a+=(f?-1:1)*c.height}),s}),o9=Z(Lo,Cn,t9,hb,pb,(t,e,n,i,r)=>{var s={},a;return n.forEach(u=>{var c=n9(e,u);a==null&&(a=r9(e,i,t));var f=i==="left"&&!r||i==="right"&&r;s[u.id]=a-Number(f)*c.width,a+=(f?-1:1)*c.width}),s}),a9=(t,e)=>{var n=Xa(t,e);if(n!=null)return s9(t,n.orientation,n.mirror)};Z([Cn,Xa,a9,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var r=n==null?void 0:n[i];return r==null?{x:t.left,y:0}:{x:t.left,y:r}}});var l9=(t,e)=>{var n=Wa(t,e);if(n!=null)return o9(t,n.orientation,n.mirror)};Z([Cn,Wa,l9,(t,e)=>e],(t,e,n,i)=>{if(e!=null){var r=n==null?void 0:n[i];return r==null?{x:0,y:t.top}:{x:r,y:t.top}}});Z(Cn,Wa,(t,e)=>{var n=typeof e.width=="number"?e.width:Km;return{width:n,height:t.height}});var Uq=(t,e,n,i)=>{if(n!=null){var{allowDuplicatedCategory:r,type:s,dataKey:a}=n,u=qu(t,i),c=e.map(f=>f.value);if(a&&u&&s==="category"&&r&&UF(c))return c}},Tw=Z([Pt,cb,Wt,Ft],Uq),Bq=(t,e,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:r,scale:s}=n,a=qu(t,i);if(a&&(r==="number"||s!=="auto"))return e.map(u=>u.value)}},Ew=Z([Pt,cb,tg,Ft],Bq);Z([Pt,_X,ud,db,Tw,Ew,ig,Aw,Ft],(t,e,n,i,r,s,a,u,c)=>{if(e==null)return null;var f=qu(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:r,isCategorical:f,niceTicks:u,range:a,realScaleType:n,scale:i}});var u9=(t,e,n,i,r,s,a,u,c)=>{if(!(e==null||i==null)){var f=qu(t,c),{type:h,ticks:g,tickCount:y}=e,S=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,T=h==="category"&&i.bandwidth?i.bandwidth()/S:0;T=c==="angleAxis"&&s!=null&&s.length>=2?vi(s[0]-s[1])*2*T:T;var C=g||r;if(C){var _=C.map((x,R)=>{var M=a?a.indexOf(x):x;return{index:R,coordinate:i(M)+T,value:x,offset:T}});return _.filter(x=>!Yr(x.coordinate))}return f&&u?u.map((x,R)=>({coordinate:i(x)+T,value:x,index:R,offset:T})):i.ticks?i.ticks(y).map(x=>({coordinate:i(x)+T,value:x,offset:T})):i.domain().map((x,R)=>({coordinate:i(x)+T,value:a?a[x]:x,index:R,offset:T}))}};Z([Pt,tg,ud,db,Aw,ig,Tw,Ew,Ft],u9);var c9=(t,e,n,i,r,s,a)=>{if(!(e==null||n==null||i==null||i[0]===i[1])){var u=qu(t,a),{tickCount:c}=e,f=0;return f=a==="angleAxis"&&(i==null?void 0:i.length)>=2?vi(i[0]-i[1])*2*f:f,u&&s?s.map((h,g)=>({coordinate:n(h)+f,value:h,index:g,offset:f})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,g)=>({coordinate:n(h)+f,value:r?r[h]:h,index:g,offset:f}))}};Z([Pt,tg,db,ig,Tw,Ew,Ft],c9);Z(Wt,db,(t,e)=>{if(!(t==null||e==null))return Zy(Zy({},t),{},{scale:e})});var f9=Z([Wt,ud,vw,Lq],yw);Z((t,e,n)=>aw(t,n),f9,(t,e)=>{if(!(t==null||e==null))return Zy(Zy({},t),{},{scale:e})});var d9=Z([Pt,W0,J0],(t,e,n)=>{switch(t){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),qq=t=>t.options.defaultTooltipEventType,Hq=t=>t.options.validateTooltipEventTypes;function Vq(t,e,n){if(t==null)return e;var i=t?"axis":"item";return n==null?e:n.includes(i)?i:e}function Cw(t,e){var n=qq(t),i=Hq(t);return Vq(e,n,i)}function h9(t){return qe(e=>Cw(e,t))}var zq=(t,e)=>{var n,i=Number(e);if(!(Yr(i)||e==null))return i>=0?t==null||(n=t[i])===null||n===void 0?void 0:n.value:void 0},p9=t=>t.tooltip.settings,va={active:!1,index:null,dataKey:void 0,coordinate:void 0},m9={itemInteraction:{click:va,hover:va},axisInteraction:{click:va,hover:va},keyboardInteraction:va,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Gq=Xi({name:"tooltip",initialState:m9,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Co(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:g9,removeTooltipEntrySettings:v9,setTooltipSettingsState:y9,setActiveMouseOverItemIndex:$q,mouseLeaveItem:b9,mouseLeaveChart:Yq,setActiveClickItemIndex:A9,setMouseOverAxisIndex:Kq,setMouseClickAxisIndex:S9,setSyncInteraction:__,setKeyboardInteraction:x_}=Gq.actions,T9=Gq.reducer;function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(i){E9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function E9(t,e,n){return(e=C9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C9(t){var e=_9(t,"string");return typeof e=="symbol"?e:e+""}function _9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x9(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function w9(t){return t.index!=null}var jq=(t,e,n,i)=>{if(e==null)return va;var r=x9(t,e,n);if(r==null)return va;if(r.active)return r;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(w9(r)){if(s)return qv(qv({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return qv(qv({},va),{},{coordinate:r.coordinate})},_w=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var i=Number(n);if(!Kr(i))return n;var r=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(r,Math.min(i,s)))},Xq=(t,e,n,i,r,s,a,u)=>{if(!(s==null||u==null)){var c=a[0],f=c==null?void 0:u(c.positions,s);if(f!=null)return f;var h=r==null?void 0:r[Number(s)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(i.top+e)/2};default:return{x:(i.left+t)/2,y:h.coordinate}}}},Wq=(t,e,n,i)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var r;return n==="hover"?r=t.itemInteraction.hover.dataKey:r=t.itemInteraction.click.dataKey,r==null&&i!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===r})},rg=t=>t.options.tooltipPayloadSearcher,cd=t=>t.tooltip;function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ak(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(i){M9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function M9(t,e,n){return(e=R9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R9(t){var e=P9(t,"string");return typeof e=="symbol"?e:e+""}function P9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D9(t,e){return t??e}var Jq=(t,e,n,i,r,s,a)=>{if(!(e==null||s==null)){var{chartData:u,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,g=[];return t.reduce((y,S)=>{var T,{dataDefinedOnItem:C,settings:_}=S,x=D9(C,u),R=Array.isArray(x)?KU(x,f,h):x,M=(T=_==null?void 0:_.dataKey)!==null&&T!==void 0?T:i,U=_==null?void 0:_.nameKey,k;if(i&&Array.isArray(R)&&!Array.isArray(R[0])&&a==="axis"?k=h$(R,i,r):k=s(R,e,c,U),Array.isArray(k))k.forEach(q=>{var z=ak(ak({},_),{},{name:q.name,unit:q.unit,color:void 0,fill:void 0});y.push($N({tooltipEntrySettings:z,dataKey:q.dataKey,payload:q.payload,value:nn(q.payload,q.dataKey),name:q.name}))});else{var F;y.push($N({tooltipEntrySettings:_,dataKey:M,payload:k,value:nn(k,M),name:(F=nn(k,U))!==null&&F!==void 0?F:_==null?void 0:_.name}))}return y},g)}},xw=Z([xn,Pt,vq,ew,mn],Iq),N9=Z([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),I9=Z([mn,ad],lw),sg=Z([N9,xn,I9],uw),k9=Z([sg],t=>t.filter(ow)),L9=Z([sg],cw),fd=Z([L9,ja],fw),O9=Z([k9,ja,xn],gq),ww=Z([fd,xn,sg],hw),F9=Z([xn],pw),U9=Z([sg],t=>t.filter(ow)),B9=Z([O9,U9,Zm],Tq),q9=Z([B9,ja,mn],Eq),H9=Z([sg],bq),V9=Z([fd,xn,H9,fb,mn],Cq),z9=Z([xq,mn,ad],ld),G9=Z([z9,mn],Rq),$9=Z([wq,mn,ad],ld),Y9=Z([$9,mn],Pq),K9=Z([Mq,mn,ad],ld),j9=Z([K9,mn],Dq),X9=Z([G9,j9,Y9],e0),W9=Z([xn,F9,q9,V9,X9,Pt,mn],mw),Qq=Z([xn,Pt,fd,ww,Zm,mn,W9],gw),J9=Z([Qq,xn,xw],bw),Q9=Z([xn,Qq,J9,mn],Sw),Zq=t=>{var e=mn(t),n=ad(t),i=!1;return ig(t,e,n,i)},eH=Z([xn,Zq],lb),tH=Z([xn,xw,Q9,eH],yw),Z9=Z([Pt,ww,xn,mn],Uq),eW=Z([Pt,ww,xn,mn],Bq),tW=(t,e,n,i,r,s,a,u)=>{if(e){var{type:c}=e,f=qu(t,u);if(i){var h=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=c==="category"&&i.bandwidth?i.bandwidth()/h:0;return g=u==="angleAxis"&&r!=null&&(r==null?void 0:r.length)>=2?vi(r[0]-r[1])*2*g:g,f&&a?a.map((y,S)=>({coordinate:i(y)+g,value:y,index:S,offset:g})):i.domain().map((y,S)=>({coordinate:i(y)+g,value:s?s[y]:y,index:S,offset:g}))}}},Bo=Z([Pt,xn,xw,tH,Zq,Z9,eW,mn],tW),Mw=Z([qq,Hq,p9],(t,e,n)=>Vq(n.shared,t,e)),nH=t=>t.tooltip.settings.trigger,Rw=t=>t.tooltip.settings.defaultIndex,mb=Z([cd,Mw,nH,Rw],jq),sp=Z([mb,fd],_w),iH=Z([Bo,sp],zq),nW=Z([mb],t=>{if(t)return t.dataKey}),rH=Z([cd,Mw,nH,Rw],Wq),iW=Z([Lo,Oo,Pt,Cn,Bo,Rw,rH,rg],Xq),rW=Z([mb,iW],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),sW=Z([mb],t=>t.active),oW=Z([rH,sp,ja,mq,iH,rg,Mw],Jq);Z([oW],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function uk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(i){aW(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function aW(t,e,n){return(e=lW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lW(t){var e=uW(t,"string");return typeof e=="symbol"?e:e+""}function uW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cW=()=>qe(xn),fW=()=>{var t=cW(),e=qe(Bo),n=qe(tH);return N8(uk(uk({},t),{},{scale:n}),e)},dW=()=>qe(ew),Pw=(t,e)=>e,sH=(t,e,n)=>n,Dw=(t,e,n,i)=>i,hW=Z(Bo,t=>G0(t,e=>e.coordinate)),Nw=Z([cd,Pw,sH,Dw],jq),oH=Z([Nw,fd],_w),pW=(t,e,n)=>{if(e!=null){var i=cd(t);return e==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},aH=Z([cd,Pw,sH,Dw],Wq),t0=Z([Lo,Oo,Pt,Cn,Bo,Dw,aH,rg],Xq),mW=Z([Nw,t0],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),lH=Z(Bo,oH,zq),gW=Z([aH,oH,ja,mq,lH,rg,Pw],Jq),vW=Z([Nw],t=>({isActive:t.active,activeIndex:t.index})),yW=(t,e,n,i,r,s,a,u)=>{if(!(!t||!e||!i||!r||!s)){var c=I8(t.chartX,t.chartY,e,n,u);if(c){var f=L8(c,e),h=T8(f,a,s,i,r),g=k8(e,s,h,c);return{activeIndex:String(h),activeCoordinate:g}}}};function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},w_.apply(null,arguments)}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(i){bW(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function bW(t,e,n){return(e=AW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AW(t){var e=SW(t,"string");return typeof e=="symbol"?e:e+""}function SW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TW(t){var{coordinate:e,payload:n,index:i,offset:r,tooltipAxisBandSize:s,layout:a,cursor:u,tooltipEventType:c,chartName:f}=t,h=e,g=n,y=i;if(!u||!h||f!=="ScatterChart"&&c!=="axis")return null;var S,T;if(f==="ScatterChart")S=h,T=UY;else if(f==="BarChart")S=BY(a,h,r,s),T=lB;else if(a==="radial"){var{cx:C,cy:_,radius:x,startAngle:R,endAngle:M}=uB(h);S={cx:C,cy:_,startAngle:R,endAngle:M,innerRadius:x,outerRadius:x},T=fB}else S={points:yK(a,h,r)},T=iB;var U=typeof u=="object"&&"className"in u?u.className:void 0,k=Hv(Hv(Hv(Hv({stroke:"#ccc",pointerEvents:"none"},r),S),ri(u,!1)),{},{payload:g,payloadIndex:y,className:Xt("recharts-tooltip-cursor",U)});return O.isValidElement(u)?O.cloneElement(u,k):O.createElement(T,k)}function EW(t){var e=fW(),n=j8(),i=eB(),r=dW();return O.createElement(TW,w_({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:i,tooltipAxisBandSize:e,chartName:r}))}var uH=O.createContext(null),CW=()=>O.useContext(uH),sE={exports:{}},fk;function _W(){return fk||(fk=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function s(c,f,h,g,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var S=new r(h,g||c,y),T=n?n+f:f;return c._events[T]?c._events[T].fn?c._events[T]=[c._events[T],S]:c._events[T].push(S):(c._events[T]=S,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new i:delete c._events[f]}function u(){this._events=new i,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)e.call(h,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,S=g.length,T=new Array(S);y<S;y++)T[y]=g[y].fn;return T},u.prototype.listenerCount=function(f){var h=n?n+f:f,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,h,g,y,S,T){var C=n?n+f:f;if(!this._events[C])return!1;var _=this._events[C],x=arguments.length,R,M;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),x){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,g),!0;case 4:return _.fn.call(_.context,h,g,y),!0;case 5:return _.fn.call(_.context,h,g,y,S),!0;case 6:return _.fn.call(_.context,h,g,y,S,T),!0}for(M=1,R=new Array(x-1);M<x;M++)R[M-1]=arguments[M];_.fn.apply(_.context,R)}else{var U=_.length,k;for(M=0;M<U;M++)switch(_[M].once&&this.removeListener(f,_[M].fn,void 0,!0),x){case 1:_[M].fn.call(_[M].context);break;case 2:_[M].fn.call(_[M].context,h);break;case 3:_[M].fn.call(_[M].context,h,g);break;case 4:_[M].fn.call(_[M].context,h,g,y);break;default:if(!R)for(k=1,R=new Array(x-1);k<x;k++)R[k-1]=arguments[k];_[M].fn.apply(_[M].context,R)}}return!0},u.prototype.on=function(f,h,g){return s(this,f,h,g,!1)},u.prototype.once=function(f,h,g){return s(this,f,h,g,!0)},u.prototype.removeListener=function(f,h,g,y){var S=n?n+f:f;if(!this._events[S])return this;if(!h)return a(this,S),this;var T=this._events[S];if(T.fn)T.fn===h&&(!y||T.once)&&(!g||T.context===g)&&a(this,S);else{for(var C=0,_=[],x=T.length;C<x;C++)(T[C].fn!==h||y&&!T[C].once||g&&T[C].context!==g)&&_.push(T[C]);_.length?this._events[S]=_.length===1?_[0]:_:a(this,S)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&a(this,h)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(sE)),sE.exports}var xW=_W();const wW=Cs(xW);var op=new wW,M_="recharts.syncEvent.tooltip",dk="recharts.syncEvent.brush";function MW(t,e){if(e){var n=Number.parseInt(e,10);if(!Yr(n))return t==null?void 0:t[n]}}var RW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},cH=Xi({name:"options",initialState:RW,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),PW=cH.reducer,{createEventEmitter:DW}=cH.actions;function NW(t){return t.tooltip.syncInteraction}var IW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fH=Xi({name:"chartData",initialState:IW,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:i}=e.payload;n!=null&&(t.dataStartIndex=n),i!=null&&(t.dataEndIndex=i)}}}),{setChartData:hk,setDataStartEndIndexes:kW,setComputedData:Afe}=fH.actions,LW=fH.reducer,OW=["x","y"];function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(i){FW(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function FW(t,e,n){return(e=UW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UW(t){var e=BW(t,"string");return typeof e=="symbol"?e:e+""}function BW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qW(t,e){if(t==null)return{};var n,i,r=HW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HW(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var dH=()=>{};function VW(){var t=qe(tw),e=qe(nw),n=En(),i=qe(lq),r=qe(Bo),s=eB(),a=Cx(),u=qe(c=>c.rootProps.className);O.useEffect(()=>{if(t==null)return dH;var c=(f,h,g)=>{if(e!==g&&t===f){if(i==="index"){var y;if(a&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate){var S=h.payload.coordinate,{x:T,y:C}=S,_=qW(S,OW),x=ml(ml(ml({},_),typeof T=="number"&&{x:Math.max(a.x,Math.min(T,a.x+a.width))}),typeof C=="number"&&{y:Math.max(a.y,Math.min(C,a.y+a.height))}),R=ml(ml({},h),{},{payload:ml(ml({},h.payload),{},{coordinate:x})});n(R)}else n(h);return}if(r!=null){var M;if(typeof i=="function"){var U={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},k=i(r,U);M=r[k]}else i==="value"&&(M=r.find(he=>String(he.value)===h.payload.label));var{coordinate:F}=h.payload;if(M==null||h.payload.active===!1||F==null||a==null){n(__({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:q,y:z}=F,G=Math.min(q,a.x+a.width),ee=Math.min(z,a.y+a.height),K={x:s==="horizontal"?M.coordinate:G,y:s==="horizontal"?ee:M.coordinate},ie=__({active:h.payload.active,coordinate:K,dataKey:h.payload.dataKey,index:String(M.index),label:h.payload.label});n(ie)}}};return op.on(M_,c),()=>{op.off(M_,c)}},[u,n,e,t,i,r,s,a])}function zW(){var t=qe(tw),e=qe(nw),n=En();O.useEffect(()=>{if(t==null)return dH;var i=(r,s,a)=>{e!==a&&t===r&&n(kW(s))};return op.on(dk,i),()=>{op.off(dk,i)}},[n,e,t])}function GW(){var t=En();O.useEffect(()=>{t(DW())},[t]),VW(),zW()}function $W(t,e,n,i,r,s){var a=qe(y=>pW(y,t,e)),u=qe(nw),c=qe(tw),f=qe(lq),h=qe(NW),g=h==null?void 0:h.active;O.useEffect(()=>{if(!g&&c!=null&&u!=null){var y=__({active:s,coordinate:n,dataKey:a,index:r,label:typeof i=="number"?String(i):i});op.emit(M_,c,y,u)}},[g,n,a,r,i,u,c,f,s])}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(i){YW(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function YW(t,e,n){return(e=KW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KW(t){var e=jW(t,"string");return typeof e=="symbol"?e:e+""}function jW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XW(t){return t.dataKey}function WW(t,e){return O.isValidElement(t)?O.cloneElement(t,e):typeof t=="function"?O.createElement(t,e):O.createElement(gY,e)}var vk=[],JW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!jm.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function QW(t){var e=Fo(t,JW),{active:n,allowEscapeViewBox:i,animationDuration:r,animationEasing:s,content:a,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:h,position:g,reverseDirection:y,useTranslate3d:S,wrapperStyle:T,cursor:C,shared:_,trigger:x,defaultIndex:R,portal:M,axisId:U}=e,k=En(),F=typeof R=="number"?String(R):R;O.useEffect(()=>{k(y9({shared:_,trigger:x,axisId:U,active:n,defaultIndex:F}))},[k,_,x,U,n,F]);var q=Cx(),z=nB(),G=h9(_),{activeIndex:ee,isActive:K}=qe(Me=>vW(Me,G,x,F)),ie=qe(Me=>gW(Me,G,x,F)),he=qe(Me=>lH(Me,G,x,F)),fe=qe(Me=>mW(Me,G,x,F)),de=ie,Y=CW(),J=n??K,[se,_e]=SU([de,J]),H=G==="axis"?he:void 0;$W(G,x,fe,H,ee,J);var ae=M??Y;if(ae==null)return null;var ne=de??vk;J||(ne=vk),u&&ne.length&&(ne=gU(de.filter(Me=>Me.value!=null&&(Me.hide!==!0||e.includeHidden)),h,XW));var ce=ne.length>0,be=O.createElement(EY,{allowEscapeViewBox:i,animationDuration:r,animationEasing:s,isAnimationActive:c,active:J,coordinate:fe,hasPayload:ce,offset:f,position:g,reverseDirection:y,useTranslate3d:S,viewBox:q,wrapperStyle:T,lastBoundingBox:se,innerRef:_e,hasPortalFromProps:!!M},WW(a,gk(gk({},e),{},{payload:ne,label:H,active:J,coordinate:fe,accessibilityLayer:z})));return O.createElement(O.Fragment,null,zF.createPortal(be,ae),J&&O.createElement(EW,{cursor:C,tooltipEventType:G,coordinate:fe,payload:de,index:ee}))}var oE={},aE={},lE={},yk;function ZW(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i,{signal:r,edges:s}={}){let a,u=null;const c=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),h=()=>{u!==null&&(n.apply(a,u),a=void 0,u=null)},g=()=>{f&&h(),C()};let y=null;const S=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},i)},T=()=>{y!==null&&(clearTimeout(y),y=null)},C=()=>{T(),a=void 0,u=null},_=()=>{h()},x=function(...R){if(r!=null&&r.aborted)return;a=this,u=R;const M=y==null;S(),c&&M&&h()};return x.schedule=S,x.cancel=C,x.flush=_,r==null||r.addEventListener("abort",C,{once:!0}),x}t.debounce=e})(lE)),lE}var bk;function eJ(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZW();function n(i,r=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:u=!0,maxWait:c}=s,f=Array(2);a&&(f[0]="leading"),u&&(f[1]="trailing");let h,g=null;const y=e.debounce(function(...C){h=i.apply(this,C),g=null},r,{edges:f}),S=function(...C){return c!=null&&(g===null&&(g=Date.now()),Date.now()-g>=c)?(h=i.apply(this,C),g=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,C),h)},T=()=>(y.flush(),h);return S.cancel=y.cancel,S.flush=T,S}t.debounce=n})(aE)),aE}var Ak;function tJ(){return Ak||(Ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eJ();function n(i,r=0,s={}){const{leading:a=!0,trailing:u=!0}=s;return e.debounce(i,r,{leading:a,maxWait:r,trailing:u})}t.throttle=n})(oE)),oE}var uE,Sk;function nJ(){return Sk||(Sk=1,uE=tJ().throttle),uE}var iJ=nJ();const rJ=Cs(iJ);var cE=function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s]};function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function fE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(i){sJ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function sJ(t,e,n){return(e=oJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=aJ(t,"string");return typeof e=="symbol"?e:e+""}function aJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lJ=O.forwardRef((t,e)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:r="100%",height:s="100%",minWidth:a=0,minHeight:u,maxHeight:c,children:f,debounce:h=0,id:g,className:y,onResize:S,style:T={}}=t,C=O.useRef(null),_=O.useRef();_.current=S,O.useImperativeHandle(e,()=>C.current);var[x,R]=O.useState({containerWidth:i.width,containerHeight:i.height}),M=O.useCallback((k,F)=>{R(q=>{var z=Math.round(k),G=Math.round(F);return q.containerWidth===z&&q.containerHeight===G?q:{containerWidth:z,containerHeight:G}})},[]);O.useEffect(()=>{var k=G=>{var ee,{width:K,height:ie}=G[0].contentRect;M(K,ie),(ee=_.current)===null||ee===void 0||ee.call(_,K,ie)};h>0&&(k=rJ(k,h,{trailing:!0,leading:!1}));var F=new ResizeObserver(k),{width:q,height:z}=C.current.getBoundingClientRect();return M(q,z),F.observe(C.current),()=>{F.disconnect()}},[M,h]);var U=O.useMemo(()=>{var{containerWidth:k,containerHeight:F}=x;if(k<0||F<0)return null;cE(_l(r)||_l(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,r,s),cE(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=_l(r)?k:r,z=_l(s)?F:s;return n&&n>0&&(q?z=q/n:z&&(q=z*n),c&&z>c&&(z=c)),cE(q>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,z,r,s,a,u,n),O.Children.map(f,G=>O.cloneElement(G,{width:q,height:z,style:fE({width:q,height:z},G.props.style)}))},[n,f,s,c,u,a,x,r]);return O.createElement("div",{id:g?"".concat(g):void 0,className:Xt("recharts-responsive-container",y),style:fE(fE({},T),{},{width:r,height:s,minWidth:a,minHeight:u,maxHeight:c}),ref:C},O.createElement("div",{style:{width:0,height:0,overflow:"visible"}},U))}),gb=t=>null;gb.displayName="Cell";function uJ(t,e,n){return(e=cJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cJ(t){var e=fJ(t,"string");return typeof e=="symbol"?e:e+""}function fJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dJ{constructor(e){uJ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function hJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(i){pJ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function pJ(t,e,n){return(e=mJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=gJ(t,"string");return typeof e=="symbol"?e:e+""}function gJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vJ={cacheSize:2e3,enableCache:!0},hH=hJ({},vJ),Ck=new dJ(hH.cacheSize),yJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_k="recharts_measurement_span";function bJ(t,e){var n=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(i,"|").concat(r,"|").concat(s,"|").concat(a,"|").concat(u)}var xk=(t,e)=>{try{var n=document.getElementById(_k);n||(n=document.createElement("span"),n.setAttribute("id",_k),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,yJ,e),n.textContent="".concat(t);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},wk=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jm.isSsr)return{width:0,height:0};if(!hH.enableCache)return xk(e,n);var i=bJ(e,n),r=Ck.get(i);if(r)return r;var s=xk(e,n);return Ck.set(i,s),s},Mk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},TJ=Object.keys(pH),Hc="NaN";function EJ(t,e){return t*pH[e]}class mi{static parse(e){var n,[,i,r]=(n=SJ.exec(e))!==null&&n!==void 0?n:[];return new mi(parseFloat(i),r??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Yr(e)&&(this.unit=""),n!==""&&!AJ.test(n)&&(this.num=NaN,this.unit=""),TJ.includes(n)&&(this.num=EJ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new mi(NaN,""):new mi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new mi(NaN,""):new mi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new mi(NaN,""):new mi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new mi(NaN,""):new mi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Yr(this.num)}}function mH(t){if(t.includes(Hc))return Hc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,i,r,s]=(n=Mk.exec(e))!==null&&n!==void 0?n:[],a=mi.parse(i??""),u=mi.parse(s??""),c=r==="*"?a.multiply(u):a.divide(u);if(c.isNaN())return Hc;e=e.replace(Mk,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,g,y]=(f=Rk.exec(e))!==null&&f!==void 0?f:[],S=mi.parse(h??""),T=mi.parse(y??""),C=g==="+"?S.add(T):S.subtract(T);if(C.isNaN())return Hc;e=e.replace(Rk,C.toString())}return e}var Pk=/\(([^()]*)\)/;function CJ(t){for(var e=t,n;(n=Pk.exec(e))!=null;){var[,i]=n;e=e.replace(Pk,mH(i))}return e}function _J(t){var e=t.replace(/\s+/g,"");return e=CJ(e),e=mH(e),e}function xJ(t){try{return _J(t)}catch{return Hc}}function dE(t){var e=xJ(t.slice(5,-1));return e===Hc?"":e}var wJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MJ=["dx","dy","angle","className","breakAll"];function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},R_.apply(null,arguments)}function Dk(t,e){if(t==null)return{};var n,i,r=RJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RJ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var gH=/[ \f\n\r\t\v\u2028\u2029]+/,vH=t=>{var{children:e,breakAll:n,style:i}=t;try{var r=[];Ki(e)||(n?r=e.toString().split(""):r=e.toString().split(gH));var s=r.map(u=>({word:u,width:wk(u,i).width})),a=n?0:wk(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},PJ=(t,e,n,i,r)=>{var{maxLines:s,children:a,style:u,breakAll:c}=t,f=Be(s),h=a,g=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce((ie,he)=>{var{word:fe,width:de}=he,Y=ie[ie.length-1];if(Y&&(i==null||r||Y.width+de+n<Number(i)))Y.words.push(fe),Y.width+=de+n;else{var J={words:[fe],width:de};ie.push(J)}return ie},[])},y=g(e),S=ee=>ee.reduce((K,ie)=>K.width>ie.width?K:ie);if(!f||r)return y;var T=y.length>s||S(y).width>Number(i);if(!T)return y;for(var C="…",_=ee=>{var K=h.slice(0,ee),ie=vH({breakAll:c,style:u,children:K+C}).wordsWithComputedWidth,he=g(ie),fe=he.length>s||S(he).width>Number(i);return[fe,he]},x=0,R=h.length-1,M=0,U;x<=R&&M<=h.length-1;){var k=Math.floor((x+R)/2),F=k-1,[q,z]=_(F),[G]=_(k);if(!q&&!G&&(x=k+1),q&&G&&(R=k-1),!q&&G){U=z;break}M++}return U||y},Nk=t=>{var e=Ki(t)?[]:t.toString().split(gH);return[{words:e}]},DJ=t=>{var{width:e,scaleToFit:n,children:i,style:r,breakAll:s,maxLines:a}=t;if((e||n)&&!jm.isSsr){var u,c,f=vH({breakAll:s,children:i,style:r});if(f){var{wordsWithComputedWidth:h,spaceWidth:g}=f;u=h,c=g}else return Nk(i);return PJ({breakAll:s,children:i,maxLines:a,style:r},u,c,e,n)}return Nk(i)},Ik="#808080",Iw=O.forwardRef((t,e)=>{var{x:n=0,y:i=0,lineHeight:r="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:u="start",verticalAnchor:c="end",fill:f=Ik}=t,h=Dk(t,wJ),g=O.useMemo(()=>DJ({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:a,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,a,h.style,h.width]),{dx:y,dy:S,angle:T,className:C,breakAll:_}=h,x=Dk(h,MJ);if(!Mo(n)||!Mo(i)||g.length===0)return null;var R=n+(Be(y)?y:0),M=i+(Be(S)?S:0),U;switch(c){case"start":U=dE("calc(".concat(s,")"));break;case"middle":U=dE("calc(".concat((g.length-1)/2," * -").concat(r," + (").concat(s," / 2))"));break;default:U=dE("calc(".concat(g.length-1," * -").concat(r,")"));break}var k=[];if(a){var F=g[0].width,{width:q}=h;k.push("scale(".concat(Be(q)?q/F:1,")"))}return T&&k.push("rotate(".concat(T,", ").concat(R,", ").concat(M,")")),k.length&&(x.transform=k.join(" ")),O.createElement("text",R_({},ri(x,!0),{ref:e,x:R,y:M,className:Xt("recharts-text",C),textAnchor:u,fill:f.includes("url")?Ik:f}),g.map((z,G)=>{var ee=z.words.join(_?"":" ");return O.createElement("tspan",{x:R,dy:G===0?U:r,key:"".concat(ee,"-").concat(G)},ee)}))});Iw.displayName="Text";var NJ=["labelRef"];function IJ(t,e){if(t==null)return{};var n,i,r=kJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kJ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(i){LJ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function LJ(t,e,n){return(e=OJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OJ(t){var e=FJ(t,"string");return typeof e=="symbol"?e:e+""}function FJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n0(){return n0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},n0.apply(null,arguments)}var UJ=O.createContext(null),BJ=()=>{var t=O.useContext(UJ),e=Cx();return t||e},qJ=O.createContext(null),HJ=()=>{var t=O.useContext(qJ),e=qe(hq);return t||e},VJ=t=>{var{value:e,formatter:n}=t,i=Ki(t.children)?e:t.children;return typeof n=="function"?n(i):i},zJ=t=>t!=null&&typeof t=="function",GJ=(t,e)=>{var n=vi(e-t),i=Math.min(Math.abs(e-t),360);return n*i},$J=(t,e,n,i,r)=>{var{offset:s,className:a}=t,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:g,endAngle:y,clockWise:S}=r,T=(f+h)/2,C=GJ(g,y),_=C>=0?1:-1,x,R;switch(e){case"insideStart":x=g+_*s,R=S;break;case"insideEnd":x=y-_*s,R=!S;break;case"end":x=y+_*s,R=S;break;default:throw new Error("Unsupported position ".concat(e))}R=C<=0?R:!R;var M=tn(u,c,T,x),U=tn(u,c,T,x+(R?1:-1)*359),k="M".concat(M.x,",").concat(M.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(R?0:1,`,
    `).concat(U.x,",").concat(U.y),F=Ki(t.id)?Wh("recharts-radial-line-"):t.id;return O.createElement("text",n0({},i,{dominantBaseline:"central",className:Xt("recharts-radial-bar-label",a)}),O.createElement("defs",null,O.createElement("path",{id:F,d:k})),O.createElement("textPath",{xlinkHref:"#".concat(F)},n))},YJ=(t,e,n)=>{var{cx:i,cy:r,innerRadius:s,outerRadius:a,startAngle:u,endAngle:c}=t,f=(u+c)/2;if(n==="outside"){var{x:h,y:g}=tn(i,r,a+e,f);return{x:h,y:g,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var y=(s+a)/2,{x:S,y:T}=tn(i,r,y,f);return{x:S,y:T,textAnchor:"middle",verticalAnchor:"middle"}},yH=t=>"cx"in t&&Be(t.cx),KJ=(t,e)=>{var{parentViewBox:n,offset:i,position:r}=t,s;n!=null&&!yH(n)&&(s=n);var{x:a,y:u,width:c,height:f}=e,h=f>=0?1:-1,g=h*i,y=h>0?"end":"start",S=h>0?"start":"end",T=c>=0?1:-1,C=T*i,_=T>0?"end":"start",x=T>0?"start":"end";if(r==="top"){var R={x:a+c/2,y:u-h*i,textAnchor:"middle",verticalAnchor:y};return en(en({},R),s?{height:Math.max(u-s.y,0),width:c}:{})}if(r==="bottom"){var M={x:a+c/2,y:u+f+g,textAnchor:"middle",verticalAnchor:S};return en(en({},M),s?{height:Math.max(s.y+s.height-(u+f),0),width:c}:{})}if(r==="left"){var U={x:a-C,y:u+f/2,textAnchor:_,verticalAnchor:"middle"};return en(en({},U),s?{width:Math.max(U.x-s.x,0),height:f}:{})}if(r==="right"){var k={x:a+c+C,y:u+f/2,textAnchor:x,verticalAnchor:"middle"};return en(en({},k),s?{width:Math.max(s.x+s.width-k.x,0),height:f}:{})}var F=s?{width:c,height:f}:{};return r==="insideLeft"?en({x:a+C,y:u+f/2,textAnchor:x,verticalAnchor:"middle"},F):r==="insideRight"?en({x:a+c-C,y:u+f/2,textAnchor:_,verticalAnchor:"middle"},F):r==="insideTop"?en({x:a+c/2,y:u+g,textAnchor:"middle",verticalAnchor:S},F):r==="insideBottom"?en({x:a+c/2,y:u+f-g,textAnchor:"middle",verticalAnchor:y},F):r==="insideTopLeft"?en({x:a+C,y:u+g,textAnchor:x,verticalAnchor:S},F):r==="insideTopRight"?en({x:a+c-C,y:u+g,textAnchor:_,verticalAnchor:S},F):r==="insideBottomLeft"?en({x:a+C,y:u+f-g,textAnchor:x,verticalAnchor:y},F):r==="insideBottomRight"?en({x:a+c-C,y:u+f-g,textAnchor:_,verticalAnchor:y},F):r&&typeof r=="object"&&(Be(r.x)||_l(r.x))&&(Be(r.y)||_l(r.y))?en({x:a+$i(r.x,c),y:u+$i(r.y,f),textAnchor:"end",verticalAnchor:"end"},F):en({x:a+c/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},F)},jJ={offset:5};function bH(t){var e=Fo(t,jJ),{viewBox:n,position:i,value:r,children:s,content:a,className:u="",textBreakAll:c,labelRef:f}=e,h=HJ(),g=BJ(),y=i==="center"?g:h??g,S=n||y;if(!S||Ki(r)&&Ki(s)&&!O.isValidElement(a)&&typeof a!="function")return null;var T=en(en({},e),{},{viewBox:S});if(O.isValidElement(a)){var{labelRef:C}=T,_=IJ(T,NJ);return O.cloneElement(a,_)}var x;if(typeof a=="function"){if(x=O.createElement(a,T),O.isValidElement(x))return x}else x=VJ(e);var R=yH(S),M=ri(e,!0);if(R&&(i==="insideStart"||i==="insideEnd"||i==="end"))return $J(e,i,x,M,S);var U=R?YJ(S,e.offset,e.position):KJ(e,S);return O.createElement(Iw,n0({ref:f,className:Xt("recharts-label",u)},M,U,{breakAll:c}),x)}bH.displayName="Label";var hE={},pE={},Lk;function XJ(){return Lk||(Lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(pE)),pE}var mE={},Ok;function WJ(){return Ok||(Ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(mE)),mE}var Fk;function JJ(){return Fk||(Fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XJ(),n=WJ(),i=gx();function r(s){if(i.isArrayLike(s))return e.last(n.toArray(s))}t.last=r})(hE)),hE}var gE,Uk;function QJ(){return Uk||(Uk=1,gE=JJ().last),gE}var ZJ=QJ();const eQ=Cs(ZJ);var tQ=["valueAccessor"],nQ=["dataKey","clockWise","id","textBreakAll"];function i0(){return i0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i0.apply(null,arguments)}function Bk(t,e){if(t==null)return{};var n,i,r=iQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iQ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var rQ=t=>Array.isArray(t.value)?eQ(t.value):t.value,AH=O.createContext(void 0);AH.Provider;var SH=O.createContext(void 0),sQ=SH.Provider;function oQ(){return O.useContext(AH)}function aQ(){return O.useContext(SH)}function vy(t){var{valueAccessor:e=rQ}=t,n=Bk(t,tQ),{dataKey:i,clockWise:r,id:s,textBreakAll:a}=n,u=Bk(n,nQ),c=oQ(),f=aQ(),h=c||f;return!h||!h.length?null:O.createElement(Ha,{className:"recharts-label-list"},h.map((g,y)=>{var S,T=Ki(i)?e(g,y):nn(g&&g.payload,i),C=Ki(s)?{}:{id:"".concat(s,"-").concat(y)};return O.createElement(bH,i0({},ri(g,!0),u,C,{fill:(S=n.fill)!==null&&S!==void 0?S:g.fill,parentViewBox:g.parentViewBox,value:T,textBreakAll:a,viewBox:g.viewBox,key:"label-".concat(y),index:y}))}))}vy.displayName="LabelList";function lQ(t){var{label:e}=t;return e?e===!0?O.createElement(vy,{key:"labelList-implicit"}):O.isValidElement(e)||zJ(e)?O.createElement(vy,{key:"labelList-implicit",content:e}):typeof e=="object"?O.createElement(vy,i0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var TH=t=>t.graphicalItems.polarItems,uQ=Z([Ft,eg],lw),kw=Z([TH,Wt,uQ],uw),cQ=Z([kw],cw),Lw=Z([cQ,Jx],fw),fQ=Z([Lw,Wt,kw],hw),dQ=Z([Lw,Wt,kw],(t,e,n)=>n.length>0?t.flatMap(i=>n.flatMap(r=>{var s,a=nn(i,(s=e.dataKey)!==null&&s!==void 0?s:r.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:nn(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]}))),qk=()=>{},hQ=Z([Wt,Nq,qk,dQ,qk,Pt,Ft],mw),EH=Z([Wt,Pt,Lw,fQ,Zm,Ft,hQ],gw),pQ=Z([EH,Wt,ud],bw);Z([Wt,EH,pQ,Ft],Sw);var mQ={radiusAxis:{},angleAxis:{}},CH=Xi({name:"polarAxis",initialState:mQ,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Sfe,removeRadiusAxis:Tfe,addAngleAxis:Efe,removeAngleAxis:Cfe}=CH.actions,gQ=CH.reducer;function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(i){vQ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function vQ(t,e,n){return(e=yQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yQ(t){var e=bQ(t,"string");return typeof e=="symbol"?e:e+""}function bQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AQ=(t,e)=>e,Ow=Z([TH,AQ],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),SQ=[],Fw=(t,e,n)=>(n==null?void 0:n.length)===0?SQ:n,_H=Z([Jx,Ow,Fw],(t,e,n)=>{var{chartData:i}=t;if(e!=null){var r;if((e==null?void 0:e.data)!=null&&e.data.length>0?r=e.data:r=i,(!r||!r.length)&&n!=null&&(r=n.map(s=>Vk(Vk({},e.presentationProps),s.props))),r!=null)return r}}),TQ=Z([_H,Ow,Fw],(t,e,n)=>{if(!(t==null||e==null))return t.map((i,r)=>{var s,a=nn(i,e.nameKey,e.name),u;return n!=null&&(s=n[r])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[r].props.fill:typeof i=="object"&&i!=null&&"fill"in i?u=i.fill:u=e.fill,{value:jU(a,e.dataKey),color:u,payload:i,type:e.legendType}})}),EQ=Z([_H,Ow,Fw,Cn],(t,e,n,i)=>{if(!(e==null||t==null))return CZ({offset:i,pieSettings:e,displayedData:t,cells:n})}),vE={},zk;function CQ(){return zk||(zk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${s}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}t.isPlainObject=e})(vE)),vE}var yE,Gk;function _Q(){return Gk||(Gk=1,yE=CQ().isPlainObject),yE}var xQ=_Q();const wQ=Cs(xQ);function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(i){MQ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function MQ(t,e,n){return(e=RQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RQ(t){var e=PQ(t,"string");return typeof e=="symbol"?e:e+""}function PQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r0(){return r0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r0.apply(null,arguments)}var Kk=(t,e,n,i,r)=>{var s=n-i,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-s/2,",").concat(e+r),a+="L ".concat(t+n-s/2-i,",").concat(e+r),a+="L ".concat(t,",").concat(e," Z"),a},DQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NQ=t=>{var e=Fo(t,DQ),{x:n,y:i,upperWidth:r,lowerWidth:s,height:a,className:u}=e,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:g}=e,y=O.useRef(),[S,T]=O.useState(-1),C=O.useRef(r),_=O.useRef(s),x=O.useRef(a),R=O.useRef(n),M=O.useRef(i),U=wx(t,"trapezoid-");if(O.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var fe=y.current.getTotalLength();fe&&T(fe)}catch{}},[]),n!==+n||i!==+i||r!==+r||s!==+s||a!==+a||r===0&&s===0||a===0)return null;var k=Xt("recharts-trapezoid",u);if(!g)return O.createElement("g",null,O.createElement("path",r0({},ri(e,!0),{className:k,d:Kk(n,i,r,s,a)})));var F=C.current,q=_.current,z=x.current,G=R.current,ee=M.current,K="0px ".concat(S===-1?1:S,"px"),ie="".concat(S,"px 0px"),he=rB(["strokeDasharray"],f,c);return O.createElement(xx,{animationId:U,key:U,canBegin:S>0,duration:f,easing:c,isActive:g,begin:h},fe=>{var de=Vr(F,r,fe),Y=Vr(q,s,fe),J=Vr(z,a,fe),se=Vr(G,n,fe),_e=Vr(ee,i,fe);y.current&&(C.current=de,_.current=Y,x.current=J,R.current=se,M.current=_e);var H=fe>0?{transition:he,strokeDasharray:ie}:{strokeDasharray:K};return O.createElement("path",r0({},ri(e,!0),{className:k,d:Kk(se,_e,de,Y,J),ref:y,style:Yk(Yk({},H),e.style)}))})},IQ=["option","shapeType","propTransformer","activeClassName","isActive"];function kQ(t,e){if(t==null)return{};var n,i,r=LQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LQ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function s0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(i){OQ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function OQ(t,e,n){return(e=FQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FQ(t){var e=UQ(t,"string");return typeof e=="symbol"?e:e+""}function UQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BQ(t,e){return s0(s0({},e),t)}function qQ(t,e){return t==="symbols"}function Xk(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return O.createElement(lB,n);case"trapezoid":return O.createElement(NQ,n);case"sector":return O.createElement(fB,n);case"symbols":if(qQ(e))return O.createElement(hx,n);break;default:return null}}function HQ(t){return O.isValidElement(t)?t.props:t}function VQ(t){var{option:e,shapeType:n,propTransformer:i=BQ,activeClassName:r="recharts-active-shape",isActive:s}=t,a=kQ(t,IQ),u;if(O.isValidElement(e))u=O.cloneElement(e,s0(s0({},a),HQ(e)));else if(typeof e=="function")u=e(a);else if(wQ(e)&&typeof e!="boolean"){var c=i(e,a);u=O.createElement(Xk,{shapeType:n,elementProps:c})}else{var f=a;u=O.createElement(Xk,{shapeType:n,elementProps:f})}return s?O.createElement(Ha,{className:r},u):u}var zQ=(t,e)=>{var n=En();return(i,r)=>s=>{t==null||t(i,r,s),n($q({activeIndex:String(r),activeDataKey:e,activeCoordinate:i.tooltipPosition}))}},GQ=t=>{var e=En();return(n,i)=>r=>{t==null||t(n,i,r),e(b9())}},$Q=(t,e)=>{var n=En();return(i,r)=>s=>{t==null||t(i,r,s),n(A9({activeIndex:String(r),activeDataKey:e,activeCoordinate:i.tooltipPosition}))}};function YQ(t){var{fn:e,args:n}=t,i=En(),r=id();return O.useEffect(()=>{if(!r){var s=e(n);return i(g9(s)),()=>{i(v9(s))}}},[e,n,i,r]),null}var KQ=()=>{};function jQ(t){var{legendPayload:e}=t,n=En(),i=qe(Pt);return O.useEffect(()=>i!=="centric"&&i!=="radial"?KQ:(n(Q8(e)),()=>{n(Z8(e))}),[n,i,e]),null}var bE,XQ=()=>{var[t]=O.useState(()=>Wh("uid-"));return t},WQ=(bE=Wz.useId)!==null&&bE!==void 0?bE:XQ;function JQ(t,e){var n=WQ();return e||(t?"".concat(t,"-").concat(n):n)}var QQ=O.createContext(void 0),ZQ=t=>{var{id:e,type:n,children:i}=t,r=JQ("recharts-".concat(n),e);return O.createElement(QQ.Provider,{value:r},i(r))},eZ={cartesianItems:[],polarItems:[]},xH=Xi({name:"graphicalItems",initialState:eZ,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:i}=e.payload,r=Co(t).cartesianItems.indexOf(n);r>-1&&(t.cartesianItems[r]=i)},removeCartesianGraphicalItem(t,e){var n=Co(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Co(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:_fe,replaceCartesianGraphicalItem:xfe,removeCartesianGraphicalItem:wfe,addPolarGraphicalItem:tZ,removePolarGraphicalItem:nZ}=xH.actions,iZ=xH.reducer;function rZ(t){var e=En();return O.useEffect(()=>(e(tZ(t)),()=>{e(nZ(t))}),[e,t]),null}var sZ=["onMouseEnter","onClick","onMouseLeave"],oZ=["id"],aZ=["id"];function Uw(t,e){if(t==null)return{};var n,i,r=lZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lZ(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(i){uZ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function uZ(t,e,n){return(e=cZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cZ(t){var e=fZ(t,"string");return typeof e=="symbol"?e:e+""}function fZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Va(){return Va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Va.apply(null,arguments)}function dZ(t){var e=O.useMemo(()=>VF(t.children,gb),[t.children]),n=qe(i=>TQ(i,t.id,e));return n==null?null:O.createElement(jQ,{legendPayload:n})}function hZ(t){var{dataKey:e,nameKey:n,sectors:i,stroke:r,strokeWidth:s,fill:a,name:u,hide:c,tooltipType:f}=t;return{dataDefinedOnItem:i.map(h=>h.tooltipPayload),positions:i.map(h=>h.tooltipPosition),settings:{stroke:r,strokeWidth:s,fill:a,dataKey:e,nameKey:n,name:jU(u,e),hide:c,type:f,color:a,unit:""}}}var pZ=(t,e)=>t>e?"start":t<e?"end":"middle",mZ=(t,e,n)=>$i(typeof e=="function"?e(t):e,n,n*.8),gZ=(t,e,n)=>{var{top:i,left:r,width:s,height:a}=e,u=YU(s,a),c=r+$i(t.cx,s,s/2),f=i+$i(t.cy,a,a/2),h=$i(t.innerRadius,u,0),g=mZ(n,t.outerRadius,u),y=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:g,maxRadius:y}},vZ=(t,e)=>{var n=vi(e-t),i=Math.min(Math.abs(e-t),360);return n*i};function yZ(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var bZ=(t,e)=>{if(O.isValidElement(t))return O.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Xt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return O.createElement(iB,Va({},e,{type:"linear",className:n}))},AZ=(t,e,n)=>{if(O.isValidElement(t))return O.cloneElement(t,e);var i=n;if(typeof t=="function"&&(i=t(e),O.isValidElement(i)))return i;var r=Xt("recharts-pie-label-text",yZ(t));return O.createElement(Iw,Va({},e,{alignmentBaseline:"middle",className:r}),i)};function SZ(t){var{sectors:e,props:n,showLabels:i}=t,{label:r,labelLine:s,dataKey:a}=n;if(!i||!r||!e)return null;var u=q0(n),c=ri(r,!1),f=ri(s,!1),h=typeof r=="object"&&"offsetRadius"in r&&typeof r.offsetRadius=="number"&&r.offsetRadius||20,g=e.map((y,S)=>{var T=(y.startAngle+y.endAngle)/2,C=tn(y.cx,y.cy,y.outerRadius+h,T),_=Lt(Lt(Lt(Lt({},u),y),{},{stroke:"none"},c),{},{index:S,textAnchor:pZ(C.x,y.cx)},C),x=Lt(Lt(Lt(Lt({},u),y),{},{fill:"none",stroke:y.fill},f),{},{index:S,points:[tn(y.cx,y.cy,y.outerRadius,T),C],key:"line"});return O.createElement(Ha,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(S)},s&&bZ(s,x),AZ(r,_,nn(y,a)))});return O.createElement(Ha,{className:"recharts-pie-labels"},g)}function TZ(t){var{sectors:e,props:n,showLabels:i}=t,{label:r}=n;return typeof r=="object"&&r!=null&&"position"in r?O.createElement(lQ,{label:r}):O.createElement(SZ,{sectors:e,props:n,showLabels:i})}function EZ(t){var{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:r}=t,s=qe(sp),{onMouseEnter:a,onClick:u,onMouseLeave:c}=r,f=Uw(r,sZ),h=zQ(a,r.dataKey),g=GQ(c),y=$Q(u,r.dataKey);return e==null||e.length===0?null:O.createElement(O.Fragment,null,e.map((S,T)=>{if((S==null?void 0:S.startAngle)===0&&(S==null?void 0:S.endAngle)===0&&e.length!==1)return null;var C=n&&String(T)===s,_=s?i:null,x=C?n:_,R=Lt(Lt({},S),{},{stroke:S.stroke,tabIndex:-1,[WU]:T,[JU]:r.dataKey});return O.createElement(Ha,Va({tabIndex:-1,className:"recharts-pie-sector"},BF(f,S,T),{onMouseEnter:h(S,T),onMouseLeave:g(S,T),onClick:y(S,T),key:"sector-".concat(S==null?void 0:S.startAngle,"-").concat(S==null?void 0:S.endAngle,"-").concat(S.midAngle,"-").concat(T)}),O.createElement(VQ,Va({option:x,isActive:C,shapeType:"sector"},R)))}))}function CZ(t){var e,{pieSettings:n,displayedData:i,cells:r,offset:s}=t,{cornerRadius:a,startAngle:u,endAngle:c,dataKey:f,nameKey:h,tooltipType:g}=n,y=Math.abs(n.minAngle),S=vZ(u,c),T=Math.abs(S),C=i.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,_=i.filter(F=>nn(F,f,0)!==0).length,x=(T>=360?_:_-1)*C,R=T-_*y-x,M=i.reduce((F,q)=>{var z=nn(q,f,0);return F+(Be(z)?z:0)},0),U;if(M>0){var k;U=i.map((F,q)=>{var z=nn(F,f,0),G=nn(F,h,q),ee=gZ(n,s,F),K=(Be(z)?z:0)/M,ie,he=Lt(Lt({},F),r&&r[q]&&r[q].props);q?ie=k.endAngle+vi(S)*C*(z!==0?1:0):ie=u;var fe=ie+vi(S)*((z!==0?y:0)+K*R),de=(ie+fe)/2,Y=(ee.innerRadius+ee.outerRadius)/2,J=[{name:G,value:z,payload:he,dataKey:f,type:g}],se=tn(ee.cx,ee.cy,Y,de);return k=Lt(Lt(Lt(Lt({},n.presentationProps),{},{percent:K,cornerRadius:a,name:G,tooltipPayload:J,midAngle:de,middleRadius:Y,tooltipPosition:se},he),ee),{},{value:z,startAngle:ie,endAngle:fe,payload:he,paddingAngle:vi(S)*C}),k})}return U}function _Z(t){var{showLabels:e,sectors:n,children:i}=t,r=O.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return O.createElement(sQ,{value:e?r:void 0},i)}function xZ(t){var{props:e,previousSectorsRef:n}=t,{sectors:i,isAnimationActive:r,animationBegin:s,animationDuration:a,animationEasing:u,activeShape:c,inactiveShape:f,onAnimationStart:h,onAnimationEnd:g}=e,y=wx(e,"recharts-pie-"),S=n.current,[T,C]=O.useState(!1),_=O.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),x=O.useCallback(()=>{typeof h=="function"&&h(),C(!0)},[h]);return O.createElement(_Z,{showLabels:!T,sectors:i},O.createElement(xx,{animationId:y,begin:s,duration:a,isActive:r,easing:u,onAnimationStart:x,onAnimationEnd:_,key:y},R=>{var M=[],U=i&&i[0],k=U==null?void 0:U.startAngle;return i==null||i.forEach((F,q)=>{var z=S&&S[q],G=q>0?Xh(F,"paddingAngle",0):0;if(z){var ee=Vr(z.endAngle-z.startAngle,F.endAngle-F.startAngle,R),K=Lt(Lt({},F),{},{startAngle:k+G,endAngle:k+ee+G});M.push(K),k=K.endAngle}else{var{endAngle:ie,startAngle:he}=F,fe=Vr(0,ie-he,R),de=Lt(Lt({},F),{},{startAngle:k+G,endAngle:k+fe+G});M.push(de),k=de.endAngle}}),n.current=M,O.createElement(Ha,null,O.createElement(EZ,{sectors:M,activeShape:c,inactiveShape:f,allOtherPieProps:e}))}),O.createElement(TZ,{showLabels:!T,sectors:i,props:e}),e.children)}var wZ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!jm.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function MZ(t){var{id:e}=t,n=Uw(t,oZ),{hide:i,className:r,rootTabIndex:s}=t,a=O.useMemo(()=>VF(t.children,gb),[t.children]),u=qe(h=>EQ(h,e,a)),c=O.useRef(null),f=Xt("recharts-pie",r);return i||u==null?(c.current=null,O.createElement(Ha,{tabIndex:s,className:f})):O.createElement(O.Fragment,null,O.createElement(YQ,{fn:hZ,args:Lt(Lt({},t),{},{sectors:u})}),O.createElement(Ha,{tabIndex:s,className:f},O.createElement(xZ,{props:Lt(Lt({},n),{},{sectors:u}),previousSectorsRef:c})))}function wH(t){var e=Fo(t,wZ),{id:n}=e,i=Uw(e,aZ),r=q0(i);return O.createElement(ZQ,{id:n,type:"pie"},s=>O.createElement(O.Fragment,null,O.createElement(rZ,{type:"pie",id:s,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:r,maxRadius:e.maxRadius}),O.createElement(dZ,Va({},i,{id:s})),O.createElement(MZ,Va({},i,{id:s}))))}wH.displayName="Pie";function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(i){RZ(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function RZ(t,e,n){return(e=PZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PZ(t){var e=DZ(t,"string");return typeof e=="symbol"?e:e+""}function DZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NZ={xAxis:{},yAxis:{},zAxis:{}},MH=Xi({name:"cartesianAxis",initialState:NZ,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:i}=e.payload;t.yAxis[n]&&(t.yAxis[n]=Qk(Qk({},t.yAxis[n]),{},{width:i}))}}}),{addXAxis:Mfe,removeXAxis:Rfe,addYAxis:Pfe,removeYAxis:Dfe,addZAxis:Nfe,removeZAxis:Ife,updateYAxisWidth:kfe}=MH.actions,IZ=MH.reducer,kZ=Z([Cn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),LZ=Z([kZ,Lo,Oo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),OZ=()=>qe(LZ),FZ={},RH=Xi({name:"errorBars",initialState:FZ,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]||(t[n]=[]),t[n].push(i)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:i,next:r}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?r:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]&&(t[n]=t[n].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:Lfe,replaceErrorBar:Ofe,removeErrorBar:Ffe}=RH.actions,UZ=RH.reducer,BZ=t=>{var{chartData:e}=t,n=En(),i=id();return O.useEffect(()=>i?()=>{}:(n(hk(e)),()=>{n(hk(void 0))}),[e,n,i]),null},Zk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},PH=Xi({name:"brush",initialState:Zk,reducers:{setBrushSettings(t,e){return e.payload==null?Zk:e.payload}}}),{setBrushSettings:Ufe}=PH.actions,qZ=PH.reducer,HZ={dots:[],areas:[],lines:[]},DH=Xi({name:"referenceElements",initialState:HZ,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Co(t).dots.findIndex(i=>i===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Co(t).areas.findIndex(i=>i===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Co(t).lines.findIndex(i=>i===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Bfe,removeDot:qfe,addArea:Hfe,removeArea:Vfe,addLine:zfe,removeLine:Gfe}=DH.actions,VZ=DH.reducer,zZ=O.createContext(void 0),GZ=t=>{var{children:e}=t,[n]=O.useState("".concat(Wh("recharts"),"-clip")),i=OZ();if(i==null)return null;var{x:r,y:s,width:a,height:u}=i;return O.createElement(zZ.Provider,{value:n},O.createElement("defs",null,O.createElement("clipPath",{id:n},O.createElement("rect",{x:r,y:s,height:u,width:a}))),e)},AE={exports:{}},SE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eL;function $Z(){if(eL)return SE;eL=1;var t=nd();function e(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,r=t.useRef,s=t.useEffect,a=t.useMemo,u=t.useDebugValue;return SE.useSyncExternalStoreWithSelector=function(c,f,h,g,y){var S=r(null);if(S.current===null){var T={hasValue:!1,value:null};S.current=T}else T=S.current;S=a(function(){function _(k){if(!x){if(x=!0,R=k,k=g(k),y!==void 0&&T.hasValue){var F=T.value;if(y(F,k))return M=F}return M=k}if(F=M,n(R,k))return F;var q=g(k);return y!==void 0&&y(F,q)?(R=k,F):(R=k,M=q)}var x=!1,R,M,U=h===void 0?null:h;return[function(){return _(f())},U===null?void 0:function(){return _(U())}]},[f,h,g,y]);var C=i(c,S[0],S[1]);return s(function(){T.hasValue=!0,T.value=C},[C]),u(C),C},SE}var tL;function YZ(){return tL||(tL=1,AE.exports=$Z()),AE.exports}YZ();function KZ(t){t()}function jZ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){KZ(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!i||t===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var nL={notify(){},get:()=>[]};function XZ(t,e){let n,i=nL,r=0,s=!1;function a(C){h();const _=i.subscribe(C);let x=!1;return()=>{x||(x=!0,_(),g())}}function u(){i.notify()}function c(){T.onStateChange&&T.onStateChange()}function f(){return s}function h(){r++,n||(n=t.subscribe(c),i=jZ())}function g(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=nL)}function y(){s||(s=!0,h())}function S(){s&&(s=!1,g())}const T={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:f,trySubscribe:y,tryUnsubscribe:S,getListeners:()=>i};return T}var WZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JZ=WZ(),QZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ZZ=QZ(),eee=()=>JZ||ZZ?O.useLayoutEffect:O.useEffect,tee=eee(),TE=Symbol.for("react-redux-context"),EE=typeof globalThis<"u"?globalThis:{};function nee(){if(!O.createContext)return{};const t=EE[TE]??(EE[TE]=new Map);let e=t.get(O.createContext);return e||(e=O.createContext(null),t.set(O.createContext,e)),e}var iee=nee();function ree(t){const{children:e,context:n,serverState:i,store:r}=t,s=O.useMemo(()=>{const c=XZ(r);return{store:r,subscription:c,getServerState:i?()=>i:void 0}},[r,i]),a=O.useMemo(()=>r.getState(),[r]);tee(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==r.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const u=n||iee;return O.createElement(u.Provider,{value:s},e)}var see=ree,oee=(t,e)=>e,Bw=Z([oee,Pt,hq,mn,eH,Bo,hW,Cn],yW),qw=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,i=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/i)}},NH=Sr("mouseClick"),IH=Ym();IH.startListening({actionCreator:NH,effect:(t,e)=>{var n=t.payload,i=Bw(e.getState(),qw(n));(i==null?void 0:i.activeIndex)!=null&&e.dispatch(S9({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var P_=Sr("mouseMove"),kH=Ym();kH.startListening({actionCreator:P_,effect:(t,e)=>{var n=t.payload,i=e.getState(),r=Cw(i,i.tooltip.settings.shared),s=Bw(i,qw(n));r==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(Kq({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(Yq()))}});var iL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},LH=Xi({name:"rootProps",initialState:iL,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:iL.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),aee=LH.reducer,{updateOptions:lee}=LH.actions,OH=Xi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:uee}=OH.actions,cee=OH.reducer,FH=Sr("keyDown"),UH=Sr("focus"),Hw=Ym();Hw.startListening({actionCreator:FH,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(_w(r,fd(n))),u=Bo(n);if(s==="Enter"){var c=t0(n,"axis","hover",String(r.index));e.dispatch(x_({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}));return}var f=d9(n),h=f==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,y=a+g*h;if(!(u==null||y>=u.length||y<0)){var S=t0(n,"axis","hover",String(y));e.dispatch(x_({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}});Hw.startListening({actionCreator:UH,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&r.index==null){var s="0",a=t0(n,"axis","hover",String(s));e.dispatch(x_({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var ur=Sr("externalEvent"),BH=Ym();BH.startListening({actionCreator:ur,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),i={activeCoordinate:rW(n),activeDataKey:nW(n),activeIndex:sp(n),activeLabel:iH(n),activeTooltipIndex:sp(n),isTooltipActive:sW(n)};t.payload.handler(i,t.payload.reactEvent)}}});var fee=Z([cd],t=>t.tooltipItemPayloads),dee=Z([fee,rg,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,i)=>{var r=t.find(u=>u.settings.dataKey===i);if(r!=null){var{positions:s}=r;if(s!=null){var a=e(s,n);return a}}}),qH=Sr("touchMove"),HH=Ym();HH.startListening({actionCreator:qH,effect:(t,e)=>{var n=t.payload,i=e.getState(),r=Cw(i,i.tooltip.settings.shared);if(r==="axis"){var s=Bw(i,qw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(Kq({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(r==="item"){var a,u=n.touches[0],c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(WU),h=(a=c.getAttribute(JU))!==null&&a!==void 0?a:void 0,g=dee(e.getState(),f,h);e.dispatch($q({activeDataKey:h,activeIndex:f,activeCoordinate:g}))}}});var hee=EU({brush:qZ,cartesianAxis:IZ,chartData:LW,errorBars:UZ,graphicalItems:iZ,layout:u8,legend:eY,options:PW,polarAxis:gQ,polarOptions:cee,referenceElements:VZ,rootProps:aee,tooltip:T9}),pee=function(e){return k5({reducer:hee,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([IH.middleware,kH.middleware,Hw.middleware,BH.middleware,HH.middleware]),devTools:jm.devToolsEnabled})};function mee(t){var{preloadedState:e,children:n,reduxStoreName:i}=t,r=id(),s=O.useRef(null);if(r)return n;s.current==null&&(s.current=pee(e));var a=yx;return O.createElement(see,{context:a,store:s.current},n)}function gee(t){var{layout:e,width:n,height:i,margin:r}=t,s=En(),a=id();return O.useEffect(()=>{a||(s(o8(e)),s(a8({width:n,height:i})),s(s8(r)))},[s,a,e,n,i,r]),null}function vee(t){var e=En();return O.useEffect(()=>{e(lee(t))},[e,t]),null}var yee=["children"];function bee(t,e){if(t==null)return{};var n,i,r=Aee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aee(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o0.apply(null,arguments)}var See={width:"100%",height:"100%"},Tee=O.forwardRef((t,e)=>{var n=QU(),i=ZU(),r=nB();if(!By(n)||!By(i))return null;var{children:s,otherAttributes:a,title:u,desc:c}=t,f,h;return typeof a.tabIndex=="number"?f=a.tabIndex:f=r?0:void 0,typeof a.role=="string"?h=a.role:h=r?"application":void 0,O.createElement(ux,o0({},a,{title:u,desc:c,role:h,tabIndex:f,width:n,height:i,style:See,ref:e}),s)}),Eee=t=>{var{children:e}=t,n=qe(Z0);if(!n)return null;var{width:i,height:r,y:s,x:a}=n;return O.createElement(ux,{width:i,height:r,x:a,y:s},e)},rL=O.forwardRef((t,e)=>{var{children:n}=t,i=bee(t,yee),r=id();return r?O.createElement(Eee,null,n):O.createElement(Tee,o0({ref:e},i),n)});function Cee(){var t=En(),[e,n]=O.useState(null),i=qe(O8);return O.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),s=r.width/e.offsetWidth;Kr(s)&&s!==i&&t(l8(s))}},[e,t,i]),n}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function _ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(i){xee(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function xee(t,e,n){return(e=wee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wee(t){var e=Mee(t,"string");return typeof e=="symbol"?e:e+""}function Mee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ree=O.forwardRef((t,e)=>{var{children:n,className:i,height:r,onClick:s,onContextMenu:a,onDoubleClick:u,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:g,onMouseUp:y,onTouchEnd:S,onTouchMove:T,onTouchStart:C,style:_,width:x}=t,R=En(),[M,U]=O.useState(null),[k,F]=O.useState(null);GW();var q=Cee(),z=O.useCallback(ne=>{q(ne),typeof e=="function"&&e(ne),U(ne),F(ne)},[q,e,U,F]),G=O.useCallback(ne=>{R(NH(ne)),R(ur({handler:s,reactEvent:ne}))},[R,s]),ee=O.useCallback(ne=>{R(P_(ne)),R(ur({handler:f,reactEvent:ne}))},[R,f]),K=O.useCallback(ne=>{R(Yq()),R(ur({handler:h,reactEvent:ne}))},[R,h]),ie=O.useCallback(ne=>{R(P_(ne)),R(ur({handler:g,reactEvent:ne}))},[R,g]),he=O.useCallback(()=>{R(UH())},[R]),fe=O.useCallback(ne=>{R(FH(ne.key))},[R]),de=O.useCallback(ne=>{R(ur({handler:a,reactEvent:ne}))},[R,a]),Y=O.useCallback(ne=>{R(ur({handler:u,reactEvent:ne}))},[R,u]),J=O.useCallback(ne=>{R(ur({handler:c,reactEvent:ne}))},[R,c]),se=O.useCallback(ne=>{R(ur({handler:y,reactEvent:ne}))},[R,y]),_e=O.useCallback(ne=>{R(ur({handler:C,reactEvent:ne}))},[R,C]),H=O.useCallback(ne=>{R(qH(ne)),R(ur({handler:T,reactEvent:ne}))},[R,T]),ae=O.useCallback(ne=>{R(ur({handler:S,reactEvent:ne}))},[R,S]);return O.createElement(uH.Provider,{value:M},O.createElement(GF.Provider,{value:k},O.createElement("div",{className:Xt("recharts-wrapper",i),style:_ee({position:"relative",cursor:"default",width:x,height:r},_),onClick:G,onContextMenu:de,onDoubleClick:Y,onFocus:he,onKeyDown:fe,onMouseDown:J,onMouseEnter:ee,onMouseLeave:K,onMouseMove:ie,onMouseUp:se,onTouchEnd:ae,onTouchMove:H,onTouchStart:_e,ref:z},n)))}),Pee=["children","className","width","height","style","compact","title","desc"];function Dee(t,e){if(t==null)return{};var n,i,r=Nee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nee(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Iee=O.forwardRef((t,e)=>{var{children:n,className:i,width:r,height:s,style:a,compact:u,title:c,desc:f}=t,h=Dee(t,Pee),g=q0(h);return u?O.createElement(rL,{otherAttributes:g,title:c,desc:f},n):O.createElement(Ree,{className:i,style:a,width:r,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},O.createElement(rL,{otherAttributes:g,title:c,desc:f,ref:e},O.createElement(GZ,null,n)))});function kee(t){var e=En();return O.useEffect(()=>{e(uee(t))},[e,t]),null}var Lee=["width","height","layout"];function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},D_.apply(null,arguments)}function Oee(t,e){if(t==null)return{};var n,i,r=Fee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fee(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Uee={top:5,right:5,bottom:5,left:5},Bee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Uee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},qee=O.forwardRef(function(e,n){var i,r=Fo(e.categoricalChartProps,Bee),{width:s,height:a,layout:u}=r,c=Oee(r,Lee);if(!By(s)||!By(a))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:y}=e,S={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:y,eventEmitter:void 0};return O.createElement(mee,{preloadedState:{options:S},reduxStoreName:(i=r.id)!==null&&i!==void 0?i:f},O.createElement(BZ,{chartData:r.data}),O.createElement(gee,{width:s,height:a,layout:u,margin:r.margin}),O.createElement(vee,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),O.createElement(kee,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),O.createElement(Iee,D_({width:s,height:a},c,{ref:n})))}),Hee=["item"],Vee={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},zee=O.forwardRef((t,e)=>{var n=Fo(t,Vee);return O.createElement(qee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Hee,tooltipPayloadSearcher:MW,categoricalChartProps:n,ref:e})}),_t=(t=>(t.Flashcard="Flashcard",t.Quiz="Quiz",t))(_t||{}),yo=(t=>(t[t.Hard=0]="Hard",t[t.Good=1]="Good",t[t.Easy=2]="Easy",t))(yo||{}),Dt=(t=>(t.New="Nueva",t.Learning="Aprendiendo",t.Review="Repaso",t.Young="Joven",t.Mature="Madura",t))(Dt||{}),Tl=(t=>(t.Topic="tema",t.Document="documento",t))(Tl||{}),N_=(t=>(t.Basic="Básico",t.Intermediate="Intermedio",t.Advanced="Avanzado",t))(N_||{}),jc=(t=>(t.Concise="Concisa",t.Normal="Normal",t.Detailed="Detallada",t))(jc||{});const Ge=Bm.forwardRef(({children:t,variant:e="primary",size:n="md",className:i="",...r},s)=>{const a="inline-flex items-center justify-center font-semibold rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800 focus:ring-primary-500"},c={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return I.jsx("button",{ref:s,className:`${a} ${u[e]} ${c[n]} ${i}`,...r,children:t})}),Gu=({isOpen:t,onClose:e,title:n,children:i,footer:r,size:s="md"})=>{if(!t)return null;const a={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"};return I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:e,children:I.jsxs("div",{className:`relative bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full m-4 ${a[s]}`,onClick:u=>u.stopPropagation(),children:[I.jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[I.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:n}),I.jsxs("button",{onClick:e,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",children:[tt.x,I.jsx("span",{className:"sr-only",children:"Cerrar modal"})]})]}),I.jsx("div",{className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:i}),r&&I.jsx("div",{className:"flex items-center justify-end p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600",children:r})]})})},Gi=Bm.forwardRef(({className:t="",...e},n)=>I.jsx("input",{ref:n,className:`w-full px-3 py-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white ${t}`,...e})),Gee=Bm.forwardRef(({className:t="",...e},n)=>I.jsx("textarea",{ref:n,className:`w-full px-3 py-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white ${t}`,...e})),ma=({children:t,className:e="",label:n,...i})=>I.jsxs("div",{children:[n&&I.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:n}),I.jsx("select",{className:`w-full px-3 py-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white ${e}`,...i,children:t})]}),bo=({htmlFor:t,children:e,className:n})=>I.jsx("label",{htmlFor:t,className:`block mb-2 text-sm font-medium text-gray-900 dark:text-white ${n||""}`,children:e}),a0=({size:t="md"})=>{const e={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return I.jsx("div",{className:`animate-spin rounded-full border-t-2 border-b-2 border-primary-500 ${e[t]}`})},$ee=({selectedColor:t,onSelect:e})=>I.jsx("div",{className:"flex flex-wrap gap-2",children:s$.map(n=>I.jsx("button",{type:"button",onClick:()=>e(n),className:`w-8 h-8 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800 ${t===n?"ring-2 ring-primary-500":""}`,style:{backgroundColor:n}},n))}),I_=({trigger:t,children:e})=>{const[n,i]=O.useState(!1),r=O.useRef(null);return O.useEffect(()=>{const s=a=>{r.current&&!r.current.contains(a.target)&&i(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]),I.jsxs("div",{className:"relative",ref:r,children:[I.jsx("div",{onClick:s=>{s.stopPropagation(),i(!n)},children:t}),n&&I.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-md shadow-lg py-1 z-20",children:e})]})},zh=({onClick:t,children:e,className:n})=>I.jsx("div",{onClick:i=>{i.stopPropagation(),t&&t()},className:`px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer flex items-center gap-2 ${n||""}`,children:e}),Yee=({data:t})=>{const e=Object.entries(t).map(([r,s])=>({name:r,value:s})).filter(r=>r.value>0),n={[Dt.New]:"#9ca3af",[Dt.Learning]:"#f97316",[Dt.Review]:"#3b82f6",[Dt.Young]:"#22c55e",[Dt.Mature]:"#8b5cf6"};if(e.length===0)return I.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No hay datos de progreso."});const i=e.reduce((r,s)=>r+s.value,0);return I.jsx(lJ,{width:"100%",height:"100%",children:I.jsxs(zee,{children:[I.jsx(wH,{data:e,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({cx:r,cy:s,midAngle:a,innerRadius:u,outerRadius:c,value:f})=>{const h=Number(u)+(Number(c)-Number(u))*.5,g=Number(r)+h*Math.cos(-a*Math.PI/180),y=Number(s)+h*Math.sin(-a*Math.PI/180),S=Number(f)/i*100;return S<5?null:I.jsx("text",{x:g,y,fill:"white",textAnchor:g>Number(r)?"start":"end",dominantBaseline:"central",fontSize:12,children:`${Math.round(S)}%`})},children:e.map((r,s)=>I.jsx(gb,{fill:n[r.name]||"#8884d8"},`cell-${s}`))}),I.jsx(QW,{formatter:r=>`${r} tarjetas`}),I.jsx(eb,{})]})})},CE=({text:t,highlight:e})=>{if(!e.trim())return I.jsx("span",{children:t});const n=new RegExp(`(${e})`,"gi"),i=t.split(n);return I.jsx("span",{children:i.map((r,s)=>n.test(r)?I.jsx("mark",{className:"bg-yellow-300 dark:bg-yellow-500 rounded px-1 text-black",children:r},s):I.jsx("span",{children:r},s))})},Kee=({isOpen:t,onClose:e,onImport:n,folders:i})=>{const[r,s]=O.useState(null),[a,u]=O.useState(""),[c,f]=O.useState(""),[h,g]=O.useState(_t.Flashcard),y=O.useRef(null);O.useEffect(()=>{var T;t&&(s(null),u(""),f(((T=i[0])==null?void 0:T.id)||""),g(_t.Flashcard),y.current&&(y.current.value=""))},[t,i]);const S=()=>{r&&c&&a&&n(r,c,a,h)};return I.jsxs(Gu,{isOpen:t,onClose:e,title:"Importar Mazo desde .txt",children:[I.jsxs("div",{className:"space-y-4",children:[I.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"El archivo debe tener una tarjeta por línea. Formato para flashcards: `pregunta::respuesta`. Formato para quiz: `pregunta::opc1::opc2::opc3::opc4::índice_correcto` (el índice va de 0 a 3)."}),I.jsx(Gi,{type:"file",ref:y,onChange:T=>{var C;return s(((C=T.target.files)==null?void 0:C[0])||null)},accept:".txt"}),I.jsx(Gi,{placeholder:"Nombre del nuevo mazo",value:a,onChange:T=>u(T.target.value)}),I.jsx(ma,{label:"Carpeta de destino",value:c,onChange:T=>f(T.target.value),children:i.map(T=>I.jsx("option",{value:T.id,children:T.name},T.id))}),I.jsxs(ma,{label:"Tipo de mazo",value:h,onChange:T=>g(T.target.value),children:[I.jsx("option",{value:_t.Flashcard,children:"Flashcards"}),I.jsx("option",{value:_t.Quiz,children:"Quiz"})]})]}),I.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[I.jsx(Ge,{variant:"secondary",onClick:e,children:"Cancelar"}),I.jsxs(Ge,{onClick:S,disabled:!r||!a||!c,children:[tt.import," Importar"]})]})]})},k_=(t,e)=>e.some(n=>t instanceof n);let oL,aL;function jee(){return oL||(oL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xee(){return aL||(aL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L_=new WeakMap,_E=new WeakMap,vb=new WeakMap;function Wee(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(wu(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return vb.set(e,t),e}function Jee(t){if(L_.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});L_.set(t,e)}let O_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VH(t){O_=t(O_)}function Qee(t){return Xee().includes(t)?function(...e){return t.apply(F_(this),e),wu(this.request)}:function(...e){return wu(t.apply(F_(this),e))}}function Zee(t){return typeof t=="function"?Qee(t):(t instanceof IDBTransaction&&Jee(t),k_(t,jee())?new Proxy(t,O_):t)}function wu(t){if(t instanceof IDBRequest)return Wee(t);if(_E.has(t))return _E.get(t);const e=Zee(t);return e!==t&&(_E.set(t,e),vb.set(e,t)),e}const F_=t=>vb.get(t);function ete(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),u=wu(a);return i&&a.addEventListener("upgradeneeded",c=>{i(wu(a.result),c.oldVersion,c.newVersion,wu(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const tte=["get","getKey","getAll","getAllKeys","count"],nte=["put","add","delete","clear"],xE=new Map;function lL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xE.get(e))return xE.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=nte.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||tte.includes(n)))return;const s=async function(a,...u){const c=this.transaction(a,r?"readwrite":"readonly");let f=c.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&c.done]))[0]};return xE.set(e,s),s}VH(t=>({...t,get:(e,n,i)=>lL(e,n)||t.get(e,n,i),has:(e,n)=>!!lL(e,n)||t.has(e,n)}));const ite=["continue","continuePrimaryKey","advance"],uL={},U_=new WeakMap,zH=new WeakMap,rte={get(t,e){if(!ite.includes(e))return t[e];let n=uL[e];return n||(n=uL[e]=function(...i){U_.set(this,zH.get(this)[e](...i))}),n}};async function*ste(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,rte);for(zH.set(n,e),vb.set(n,F_(e));e;)yield n,e=await(U_.get(n)||e.continue()),U_.delete(n)}function cL(t,e){return e===Symbol.asyncIterator&&k_(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&k_(t,[IDBIndex,IDBObjectStore])}VH(t=>({...t,get(e,n,i){return cL(e,n)?ste:t.get(e,n,i)},has(e,n){return cL(e,n)||t.has(e,n)}}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ote,ate;function lte(){return{geminiUrl:ote,vertexUrl:ate}}function ute(t,e,n,i){var r,s;if(!(t!=null&&t.baseUrl)){const a=lte();return e?(r=a.vertexUrl)!==null&&r!==void 0?r:n:(s=a.geminiUrl)!==null&&s!==void 0?s:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $u{}function Ae(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function m(t,e,n){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];m(h,e.slice(s+1),n[f])}else for(const f of c)m(f,e.slice(s+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];m(c[0],e.slice(s+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function p(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in t){const s=t[r];return Array.isArray(s)?s.map(a=>p(a,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vw(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cte(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const i=p(t,["resourceName"]);return i!=null&&m(e,["_url","resourceName"],i),e}function fte(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const r=p(t,["done"]);r!=null&&m(e,["done"],r);const s=p(t,["error"]);s!=null&&m(e,["error"],s);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],hte(a)),e}function dte(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const r=p(t,["done"]);r!=null&&m(e,["done"],r);const s=p(t,["error"]);s!=null&&m(e,["error"],s);const a=p(t,["response"]);return a!=null&&m(e,["response"],pte(a)),e}function hte(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>mte(a))),m(e,["generatedVideos"],s)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function pte(t){const e={},n=p(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>gte(a))),m(e,["generatedVideos"],s)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function mte(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],bte(n)),e}function gte(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],Ate(n)),e}function vte(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function yte(t){const e={},n=p(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function bte(t){const e={},n=p(t,["video","uri"]);n!=null&&m(e,["uri"],n);const i=p(t,["video","encodedVideo"]);i!=null&&m(e,["videoBytes"],Vw(i));const r=p(t,["encoding"]);return r!=null&&m(e,["mimeType"],r),e}function Ate(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Vw(i));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fL;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(fL||(fL={}));var dL;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(dL||(dL={}));var Ht;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ht||(Ht={}));var hL;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(hL||(hL={}));var pL;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(pL||(pL={}));var mL;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(mL||(mL={}));var gL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gL||(gL={}));var vL;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(vL||(vL={}));var yL;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(yL||(yL={}));var bL;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(bL||(bL={}));var AL;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(AL||(AL={}));var SL;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(SL||(SL={}));var TL;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(TL||(TL={}));var EL;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(EL||(EL={}));var CL;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(CL||(CL={}));var l0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(l0||(l0={}));var _L;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_L||(_L={}));var B_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(B_||(B_={}));var xL;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(xL||(xL={}));var wL;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wL||(wL={}));var ML;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ML||(ML={}));var RL;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(RL||(RL={}));var PL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(PL||(PL={}));var DL;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(DL||(DL={}));var NL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(NL||(NL={}));var IL;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(IL||(IL={}));var kL;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(kL||(kL={}));var LL;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(LL||(LL={}));var OL;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(OL||(OL={}));var FL;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(FL||(FL={}));var UL;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(UL||(UL={}));var BL;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(BL||(BL={}));var qL;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(qL||(qL={}));var HL;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(HL||(HL={}));var VL;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(VL||(VL={}));var zL;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(zL||(zL={}));var GL;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(GL||(GL={}));var $L;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})($L||($L={}));var YL;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(YL||(YL={}));var KL;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(KL||(KL={}));var jL;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jL||(jL={}));var XL;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(XL||(XL={}));var WL;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(WL||(WL={}));var JL;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(JL||(JL={}));var QL;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(QL||(QL={}));var ZL;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ZL||(ZL={}));var eO;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(eO||(eO={}));var Vc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Vc||(Vc={}));class q_{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class _h{get text(){var e,n,i,r,s,a,u,c;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const g=[];for(const y of(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[S,T]of Object.entries(y))S!=="text"&&S!=="thought"&&(T!==null||T!==void 0)&&g.push(S);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,f+=y.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,i,r,s,a,u,c;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const g of(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[y,S]of Object.entries(g))y!=="inlineData"&&(S!==null||S!==void 0)&&h.push(y);g.inlineData&&typeof g.inlineData.data=="string"&&(f+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,r,s,a,u,c;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,r,s,a,u,c,f;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,r,s,a,u,c,f;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class tO{}class nO{}class Ste{}class Tte{}class Ete{}class Cte{}class iO{}class rO{}class sO{}class _te{}class u0{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const i=new u0;let r;const s=e;return n?r=dte(s):r=fte(s),Object.assign(i,r),i}}class oO{}class aO{}class lO{}class xte{}class wte{}class Mte{}class uO{}class Rte{get text(){var e,n,i;let r="",s=!1;const a=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&a.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,r+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,n,i;let r="";const s=[];for(const a of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(a))u!=="inlineData"&&c!==null&&s.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(r+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Pte{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function GH(t,e){const n=rt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function $H(t){return Array.isArray(t)?t.map(e=>c0(e)):[c0(t)]}function c0(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function YH(t){const e=c0(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function KH(t){const e=c0(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cO(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function jH(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>cO(e)):[cO(t)]}function H_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function fO(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function dO(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Xn(t){if(t==null)throw new Error("ContentUnion is required");return H_(t)?t:{role:"user",parts:jH(t)}}function zw(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Xn(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Xn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Xn(n)):[Xn(e)]}function Ar(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(fO(t)||dO(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Xn(t)]}const e=[],n=[],i=H_(t[0]);for(const r of t){const s=H_(r);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(r);else{if(fO(r)||dO(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:jH(n)}),e}function Dte(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Ht).includes(n[0].toUpperCase())?n[0].toUpperCase():Ht.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Ht).includes(i.toUpperCase())?i.toUpperCase():Ht.TYPE_UNSPECIFIED})}}function Xc(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&Dte(t.type,e);for(const[a,u]of Object.entries(t))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Ht).includes(u.toUpperCase())?u.toUpperCase():Ht.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=Xc(u);else if(i.includes(a)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Xc(f))}e[a]=c}else if(r.includes(a)){const c={};for(const[f,h]of Object.entries(u))c[f]=Xc(h);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=u}return e}function Gw(t){return Xc(t)}function $w(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Yw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function dd(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Xc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Xc(e.response));return t}function hd(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Nte(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function qo(t,e){if(typeof e!="string")throw new Error("name must be a string");return Nte(t,e,"cachedContents")}function XH(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Yu(t){return Vw(t)}function Ite(t){return t!=null&&typeof t=="object"&&"name"in t}function kte(t){return t!=null&&typeof t=="object"&&"video"in t}function Lte(t){return t!=null&&typeof t=="object"&&"uri"in t}function WH(t){var e;let n;if(Ite(t)&&(n=t.name),!(Lte(t)&&(n=t.uri,n===void 0))&&!(kte(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function JH(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function QH(t){for(const e of["models","tunedModels","publisherModels"])if(Ote(t,e))return t[e];return[]}function Ote(t,e){return t!==null&&typeof t=="object"&&e in t}function Fte(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function Ute(t,e={}){const n=[],i=new Set;for(const r of t){const s=r.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const a=Fte(r,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function ZH(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Bte(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function e3(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let s=!1;for(const a of r){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function pd(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function t3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qte(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const i=p(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>xne(a))),m(e,["inlinedResponses"],s)}const r=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Cne(a))),m(e,["inlinedEmbedContentResponses"],s)}return e}function Hte(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const i=p(t,["gcsDestination","outputUriPrefix"]);i!=null&&m(e,["gcsUri"],i);const r=p(t,["bigqueryDestination","outputUri"]);return r!=null&&m(e,["bigqueryUri"],r),e}function Vte(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const i=p(t,["gcsUri"]);i!=null&&m(e,["gcsDestination","outputUriPrefix"],i);const r=p(t,["bigqueryUri"]);if(r!=null&&m(e,["bigqueryDestination","outputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function qc(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["metadata","displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["metadata","state"]);r!=null&&m(e,["state"],t3(r));const s=p(t,["metadata","createTime"]);s!=null&&m(e,["createTime"],s);const a=p(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const u=p(t,["metadata","updateTime"]);u!=null&&m(e,["updateTime"],u);const c=p(t,["metadata","model"]);c!=null&&m(e,["model"],c);const f=p(t,["metadata","output"]);return f!=null&&m(e,["dest"],qte(e3(f))),e}function V_(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["state"]);r!=null&&m(e,["state"],t3(r));const s=p(t,["error"]);s!=null&&m(e,["error"],i3(s));const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const u=p(t,["startTime"]);u!=null&&m(e,["startTime"],u);const c=p(t,["endTime"]);c!=null&&m(e,["endTime"],c);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const h=p(t,["model"]);h!=null&&m(e,["model"],h);const g=p(t,["inputConfig"]);g!=null&&m(e,["src"],zte(g));const y=p(t,["outputConfig"]);return y!=null&&m(e,["dest"],Hte(e3(y))),e}function zte(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const i=p(t,["gcsSource","uris"]);i!=null&&m(e,["gcsUri"],i);const r=p(t,["bigquerySource","inputUri"]);return r!=null&&m(e,["bigqueryUri"],r),e}function Gte(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=p(e,["fileName"]);i!=null&&m(n,["fileName"],i);const r=p(e,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>_ne(t,a))),m(n,["requests","requests"],s)}return n}function $te(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const i=p(t,["gcsUri"]);i!=null&&m(e,["gcsSource","uris"],i);const r=p(t,["bigqueryUri"]);if(r!=null&&m(e,["bigquerySource","inputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Yte(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Kte(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function jte(t,e){const n={},i=p(e,["name"]);return i!=null&&m(n,["_url","name"],pd(t,i)),n}function Xte(t,e){const n={},i=p(e,["name"]);return i!=null&&m(n,["_url","name"],pd(t,i)),n}function Wte(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],Zte(n));const i=p(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],Jte(i));const r=p(t,["tokenCount"]);r!=null&&m(e,["tokenCount"],r);const s=p(t,["finishReason"]);s!=null&&m(e,["finishReason"],s);const a=p(t,["urlContextMetadata"]);a!=null&&m(e,["urlContextMetadata"],Xne(a));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&m(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&m(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const g=p(t,["safetyRatings"]);return g!=null&&m(e,["safetyRatings"],g),e}function Jte(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function Qte(t){const e={},n=p(t,["values"]);return n!=null&&m(e,["values"],n),e}function Zte(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>One(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function n3(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Fne(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function ene(t,e){const n={},i=p(t,["displayName"]);if(e!==void 0&&i!=null&&m(e,["batch","displayName"],i),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function tne(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const r=p(t,["dest"]);return e!==void 0&&r!=null&&m(e,["outputConfig"],Vte(Bte(r))),n}function wE(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["src"]);r!=null&&m(n,["batch","inputConfig"],Gte(t,ZH(t,r)));const s=p(e,["config"]);return s!=null&&ene(s,n),n}function nne(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["model"],rt(t,i));const r=p(e,["src"]);r!=null&&m(n,["inputConfig"],$te(ZH(t,r)));const s=p(e,["config"]);return s!=null&&tne(s,n),n}function ine(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["batch","displayName"],i),n}function ME(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["src"]);r!=null&&m(n,["batch","inputConfig"],fne(t,r));const s=p(e,["config"]);return s!=null&&ine(s,n),n}function rne(t,e){const n={},i=p(e,["name"]);return i!=null&&m(n,["_url","name"],pd(t,i)),n}function sne(t,e){const n={},i=p(e,["name"]);return i!=null&&m(n,["_url","name"],pd(t,i)),n}function one(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const r=p(t,["done"]);r!=null&&m(e,["done"],r);const s=p(t,["error"]);return s!=null&&m(e,["error"],Kw(s)),e}function ane(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const r=p(t,["done"]);r!=null&&m(e,["done"],r);const s=p(t,["error"]);return s!=null&&m(e,["error"],i3(s)),e}function lne(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function une(t,e){const n={},i=p(e,["contents"]);i!=null&&m(n,["requests[]","request","content"],zw(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],cne(r,n)),n}function cne(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&m(e,["requests[]","title"],r);const s=p(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&m(e,["requests[]","outputDimensionality"],s),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function fne(t,e){const n={},i=p(e,["fileName"]);i!=null&&m(n,["file_name"],i);const r=p(e,["inlinedRequests"]);return r!=null&&m(n,["requests"],une(t,r)),n}function dne(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function hne(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function pne(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function mne(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function gne(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);return i!=null&&m(e,["allowedFunctionNames"],i),e}function vne(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const s=p(t,["parameters"]);s!=null&&m(e,["parameters"],s);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function yne(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&m(n,["systemInstruction"],n3(Xn(r)));const s=p(e,["temperature"]);s!=null&&m(i,["temperature"],s);const a=p(e,["topP"]);a!=null&&m(i,["topP"],a);const u=p(e,["topK"]);u!=null&&m(i,["topK"],u);const c=p(e,["candidateCount"]);c!=null&&m(i,["candidateCount"],c);const f=p(e,["maxOutputTokens"]);f!=null&&m(i,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&m(i,["stopSequences"],h);const g=p(e,["responseLogprobs"]);g!=null&&m(i,["responseLogprobs"],g);const y=p(e,["logprobs"]);y!=null&&m(i,["logprobs"],y);const S=p(e,["presencePenalty"]);S!=null&&m(i,["presencePenalty"],S);const T=p(e,["frequencyPenalty"]);T!=null&&m(i,["frequencyPenalty"],T);const C=p(e,["seed"]);C!=null&&m(i,["seed"],C);const _=p(e,["responseMimeType"]);_!=null&&m(i,["responseMimeType"],_);const x=p(e,["responseSchema"]);x!=null&&m(i,["responseSchema"],Hne(Gw(x)));const R=p(e,["responseJsonSchema"]);if(R!=null&&m(i,["responseJsonSchema"],R),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=p(e,["safetySettings"]);if(n!==void 0&&M!=null){let K=M;Array.isArray(K)&&(K=K.map(ie=>qne(ie))),m(n,["safetySettings"],K)}const U=p(e,["tools"]);if(n!==void 0&&U!=null){let K=hd(U);Array.isArray(K)&&(K=K.map(ie=>jne(dd(ie)))),m(n,["tools"],K)}const k=p(e,["toolConfig"]);if(n!==void 0&&k!=null&&m(n,["toolConfig"],Kne(k)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=p(e,["cachedContent"]);n!==void 0&&F!=null&&m(n,["cachedContent"],qo(t,F));const q=p(e,["responseModalities"]);q!=null&&m(i,["responseModalities"],q);const z=p(e,["mediaResolution"]);z!=null&&m(i,["mediaResolution"],z);const G=p(e,["speechConfig"]);if(G!=null&&m(i,["speechConfig"],Gne($w(G))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=p(e,["thinkingConfig"]);return ee!=null&&m(i,["thinkingConfig"],$ne(ee)),i}function bne(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Wte(f))),m(e,["candidates"],c)}const r=p(t,["modelVersion"]);r!=null&&m(e,["modelVersion"],r);const s=p(t,["promptFeedback"]);s!=null&&m(e,["promptFeedback"],s);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function Ane(t,e){const n={},i=p(e,["name"]);return i!=null&&m(n,["_url","name"],pd(t,i)),n}function Sne(t,e){const n={},i=p(e,["name"]);return i!=null&&m(n,["_url","name"],pd(t,i)),n}function Tne(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],lne(n)),e}function Ene(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],wne(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Cne(t){const e={},n=p(t,["response"]);n!=null&&m(e,["response"],Vne(n));const i=p(t,["error"]);return i!=null&&m(e,["error"],Kw(i)),e}function _ne(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["request","model"],rt(t,i));const r=p(e,["contents"]);if(r!=null){let a=Ar(r);Array.isArray(a)&&(a=a.map(u=>n3(u))),m(n,["request","contents"],a)}const s=p(e,["config"]);return s!=null&&m(n,["request","generationConfig"],yne(t,s,n)),n}function xne(t){const e={},n=p(t,["response"]);n!=null&&m(e,["response"],bne(n));const i=p(t,["error"]);return i!=null&&m(e,["error"],Kw(i)),e}function wne(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function Kw(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const i=p(t,["code"]);i!=null&&m(e,["code"],i);const r=p(t,["message"]);return r!=null&&m(e,["message"],r),e}function i3(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const i=p(t,["code"]);i!=null&&m(e,["code"],i);const r=p(t,["message"]);return r!=null&&m(e,["message"],r),e}function Mne(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const i=p(t,["longitude"]);return i!=null&&m(e,["longitude"],i),e}function Rne(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);if(e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Pne(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const s=p(t,["filter"]);return e!==void 0&&s!=null&&m(e,["_query","filter"],s),n}function Dne(t){const e={},n=p(t,["config"]);return n!=null&&Rne(n,e),e}function Nne(t){const e={},n=p(t,["config"]);return n!=null&&Pne(n,e),e}function Ine(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=p(t,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>qc(a))),m(e,["batchJobs"],s)}return e}function kne(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=p(t,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>V_(a))),m(e,["batchJobs"],s)}return e}function Lne(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>zne(r))),m(e,["speakerVoiceConfigs"],i)}return e}function One(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Qne(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],Yte(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],dne(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],pne(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function Fne(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Zne(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],Kte(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],hne(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],mne(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function Une(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function Bne(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],Mne(n));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function qne(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const i=p(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function Hne(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const i=p(t,["default"]);i!=null&&m(e,["default"],i);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const s=p(t,["enum"]);s!=null&&m(e,["enum"],s);const a=p(t,["example"]);a!=null&&m(e,["example"],a);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const c=p(t,["items"]);c!=null&&m(e,["items"],c);const f=p(t,["maxItems"]);f!=null&&m(e,["maxItems"],f);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const g=p(t,["maxProperties"]);g!=null&&m(e,["maxProperties"],g);const y=p(t,["maximum"]);y!=null&&m(e,["maximum"],y);const S=p(t,["minItems"]);S!=null&&m(e,["minItems"],S);const T=p(t,["minLength"]);T!=null&&m(e,["minLength"],T);const C=p(t,["minProperties"]);C!=null&&m(e,["minProperties"],C);const _=p(t,["minimum"]);_!=null&&m(e,["minimum"],_);const x=p(t,["nullable"]);x!=null&&m(e,["nullable"],x);const R=p(t,["pattern"]);R!=null&&m(e,["pattern"],R);const M=p(t,["properties"]);M!=null&&m(e,["properties"],M);const U=p(t,["propertyOrdering"]);U!=null&&m(e,["propertyOrdering"],U);const k=p(t,["required"]);k!=null&&m(e,["required"],k);const F=p(t,["title"]);F!=null&&m(e,["title"],F);const q=p(t,["type"]);return q!=null&&m(e,["type"],q),e}function Vne(t){const e={},n=p(t,["embedding"]);n!=null&&m(e,["embedding"],Qte(n));const i=p(t,["tokenCount"]);return i!=null&&m(e,["tokenCount"],i),e}function zne(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const i=p(t,["voiceConfig"]);return i!=null&&m(e,["voiceConfig"],r3(i)),e}function Gne(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],r3(n));const i=p(t,["multiSpeakerVoiceConfig"]);i!=null&&m(e,["multiSpeakerVoiceConfig"],Lne(i));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function $ne(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const i=p(t,["thinkingBudget"]);return i!=null&&m(e,["thinkingBudget"],i),e}function Yne(t){const e={},n=p(t,["environment"]);n!=null&&m(e,["environment"],n);const i=p(t,["excludedPredefinedFunctions"]);return i!=null&&m(e,["excludedPredefinedFunctions"],i),e}function Kne(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],gne(n));const i=p(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],Bne(i)),e}function jne(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>vne(f))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],Ene(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],Tne(r)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],Wne());const a=p(t,["computerUse"]);a!=null&&m(e,["computerUse"],Yne(a));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function Xne(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Jne(r))),m(e,["urlMetadata"],i)}return e}function Wne(){return{}}function Jne(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const i=p(t,["urlRetrievalStatus"]);return i!=null&&m(e,["urlRetrievalStatus"],i),e}function Qne(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function Zne(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function r3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Une(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ku;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ku||(ku={}));class og{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!i||Object.keys(i).length===0?a={config:{}}:typeof i=="object"?a=Object.assign({},i):a=i,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(r=a.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eie extends $u{constructor(e){super(),this.apiClient=e,this.create=async n=>{var i,r;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const s=n.src;if(!(Array.isArray(n.src)||s.inlinedRequests!==void 0))return this.createInternal(n);const u=this.createInlinedGenerateContentRequest(n),c=u.path,f=u.body,h=wE(this.apiClient,n)._query||{};return this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()).then(y=>qc(y))},this.createEmbeddings=async n=>{var i,r;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const u=this.createInlinedEmbedContentRequest(n),c=u.path,f=u.body,h=ME(this.apiClient,n)._query||{};return this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=n.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()).then(y=>qc(y))},this.list=async(n={})=>new og(ku.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=wE(this.apiClient,e),i=n._url,r=Ae("{model}:batchGenerateContent",i),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const g=Object.assign({},h);if(g.systemInstruction){const y=g.systemInstruction;delete g.systemInstruction;const S=g.request;S.systemInstruction=y,g.request=S}f.push(g)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:r,body:n}}createInlinedEmbedContentRequest(e){const n=ME(this.apiClient,e),i=n._url,r=Ae("{model}:asyncBatchEmbedContent",i),u=n.batch.inputConfig.requests,c=u.requests,f=[];delete u.config;for(const h of c){const g=Object.assign({},h),y=g.request;for(const S in g)S!=="request"&&(y[S]=g[S],delete g[S]);f.push(g)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${r}`;else if(a)i.dest=`${a}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=nne(this.apiClient,e);return u=Ae("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>V_(h))}else{const f=wE(this.apiClient,e);return u=Ae("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>qc(h))}}async createEmbeddingsInternal(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ME(this.apiClient,e);return s=Ae("{model}:asyncBatchEmbedContent",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>qc(c))}}async get(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Sne(this.apiClient,e);return u=Ae("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>V_(h))}else{const f=Ane(this.apiClient,e);return u=Ae("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>qc(h))}}async cancel(e){var n,i,r,s;let a="",u={};if(this.apiClient.isVertexAI()){const c=Xte(this.apiClient,e);a=Ae("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=jte(this.apiClient,e);a=Ae("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Nne(e);return u=Ae("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=kne(h),y=new uO;return Object.assign(y,g),y})}else{const f=Dne(e);return u=Ae("batches",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Ine(h),y=new uO;return Object.assign(y,g),y})}}async delete(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=sne(this.apiClient,e);return u=Ae("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>ane(h))}else{const f=rne(this.apiClient,e);return u=Ae("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>one(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tie(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function nie(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],tie(n));const i=p(t,["authType"]);i!=null&&m(e,["authType"],i);const r=p(t,["googleServiceAccountConfig"]);r!=null&&m(e,["googleServiceAccountConfig"],r);const s=p(t,["httpBasicAuthConfig"]);s!=null&&m(e,["httpBasicAuthConfig"],s);const a=p(t,["oauthConfig"]);a!=null&&m(e,["oauthConfig"],a);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function iie(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function rie(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["data"]);i!=null&&m(e,["data"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function yy(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["model"]);r!=null&&m(e,["model"],r);const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const a=p(t,["updateTime"]);a!=null&&m(e,["updateTime"],a);const u=p(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const c=p(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function by(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["model"]);r!=null&&m(e,["model"],r);const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const a=p(t,["updateTime"]);a!=null&&m(e,["updateTime"],a);const u=p(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const c=p(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function hO(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Hie(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function pO(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Vie(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function sie(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&m(e,["expireTime"],r);const s=p(t,["displayName"]);e!==void 0&&s!=null&&m(e,["displayName"],s);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let h=Ar(a);Array.isArray(h)&&(h=h.map(g=>hO(g))),m(e,["contents"],h)}const u=p(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],hO(Xn(u)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>Xie(g))),m(e,["tools"],h)}const f=p(t,["toolConfig"]);if(e!==void 0&&f!=null&&m(e,["toolConfig"],Kie(f)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function oie(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&m(e,["expireTime"],r);const s=p(t,["displayName"]);e!==void 0&&s!=null&&m(e,["displayName"],s);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let g=Ar(a);Array.isArray(g)&&(g=g.map(y=>pO(y))),m(e,["contents"],g)}const u=p(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],pO(Xn(u)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>Wie(y))),m(e,["tools"],g)}const f=p(t,["toolConfig"]);e!==void 0&&f!=null&&m(e,["toolConfig"],jie(f));const h=p(t,["kmsKeyName"]);return e!==void 0&&h!=null&&m(e,["encryption_spec","kmsKeyName"],h),n}function aie(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["model"],GH(t,i));const r=p(e,["config"]);return r!=null&&sie(r,n),n}function lie(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["model"],GH(t,i));const r=p(e,["config"]);return r!=null&&oie(r,n),n}function uie(t,e){const n={},i=p(e,["name"]);return i!=null&&m(n,["_url","name"],qo(t,i)),n}function cie(t,e){const n={},i=p(e,["name"]);return i!=null&&m(n,["_url","name"],qo(t,i)),n}function fie(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function die(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function hie(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function pie(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function mie(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function gie(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function vie(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function yie(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function bie(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function Aie(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);return i!=null&&m(e,["allowedFunctionNames"],i),e}function Sie(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);return i!=null&&m(e,["allowedFunctionNames"],i),e}function Tie(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const s=p(t,["parameters"]);s!=null&&m(e,["parameters"],s);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function Eie(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const r=p(t,["parameters"]);r!=null&&m(e,["parameters"],r);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function Cie(t,e){const n={},i=p(e,["name"]);return i!=null&&m(n,["_url","name"],qo(t,i)),n}function _ie(t,e){const n={},i=p(e,["name"]);return i!=null&&m(n,["_url","name"],qo(t,i)),n}function xie(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],nie(n)),e}function wie(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],hie(n)),e}function Mie(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],pie(n)),e}function Rie(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Die(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Pie(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],Nie(n));const i=p(t,["excludeDomains"]);return i!=null&&m(e,["excludeDomains"],i),e}function Die(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function Nie(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function Iie(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const i=p(t,["longitude"]);return i!=null&&m(e,["longitude"],i),e}function kie(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const i=p(t,["longitude"]);return i!=null&&m(e,["longitude"],i),e}function Lie(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),n}function Oie(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),n}function Fie(t){const e={},n=p(t,["config"]);return n!=null&&Lie(n,e),e}function Uie(t){const e={},n=p(t,["config"]);return n!=null&&Oie(n,e),e}function Bie(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=p(t,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>yy(a))),m(e,["cachedContents"],s)}return e}function qie(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=p(t,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>by(a))),m(e,["cachedContents"],s)}return e}function Hie(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],ire(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],iie(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],gie(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],yie(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function Vie(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],rre(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],rie(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],vie(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],bie(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function zie(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],Iie(n));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function Gie(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],kie(n));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function $ie(t){const e={},n=p(t,["environment"]);n!=null&&m(e,["environment"],n);const i=p(t,["excludedPredefinedFunctions"]);return i!=null&&m(e,["excludedPredefinedFunctions"],i),e}function Yie(t){const e={},n=p(t,["environment"]);n!=null&&m(e,["environment"],n);const i=p(t,["excludedPredefinedFunctions"]);return i!=null&&m(e,["excludedPredefinedFunctions"],i),e}function Kie(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Aie(n));const i=p(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],zie(i)),e}function jie(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Sie(n));const i=p(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],Gie(i)),e}function Xie(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>Tie(f))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],Rie(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],wie(r)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],tre());const a=p(t,["computerUse"]);a!=null&&m(e,["computerUse"],$ie(a));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function Wie(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(y=>Eie(y))),m(e,["functionDeclarations"],g)}const i=p(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Pie(r));const s=p(t,["googleSearchRetrieval"]);s!=null&&m(e,["googleSearchRetrieval"],Mie(s));const a=p(t,["enterpriseWebSearch"]);a!=null&&m(e,["enterpriseWebSearch"],mie(a));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],xie(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],nre());const f=p(t,["computerUse"]);f!=null&&m(e,["computerUse"],Yie(f));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function Jie(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&m(e,["expireTime"],r),n}function Qie(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&m(e,["expireTime"],r),n}function Zie(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],qo(t,i));const r=p(e,["config"]);return r!=null&&Jie(r,n),n}function ere(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],qo(t,i));const r=p(e,["config"]);return r!=null&&Qie(r,n),n}function tre(){return{}}function nre(){return{}}function ire(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function rre(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sre extends $u{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new og(ku.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=lie(this.apiClient,e);return u=Ae("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>by(h))}else{const f=aie(this.apiClient,e);return u=Ae("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>yy(h))}}async get(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=_ie(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>by(h))}else{const f=Cie(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>yy(h))}}async delete(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=cie(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=die(h),y=new aO;return Object.assign(y,g),y})}else{const f=uie(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=fie(h),y=new aO;return Object.assign(y,g),y})}}async update(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=ere(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>by(h))}else{const f=Zie(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>yy(h))}}async listInternal(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Uie(e);return u=Ae("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=qie(h),y=new lO;return Object.assign(y,g),y})}else{const f=Fie(e);return u=Ae("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Bie(h),y=new lO;return Object.assign(y,g),y})}}}function mO(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nt(t){return this instanceof Nt?(this.v=t,this):new Nt(t)}function Wc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(S){return function(T){return Promise.resolve(T).then(S,g)}}function u(S,T){i[S]&&(r[S]=function(C){return new Promise(function(_,x){s.push([S,C,_,x])>1||c(S,C)})},T&&(r[S]=T(r[S])))}function c(S,T){try{f(i[S](T))}catch(C){y(s[0][3],C)}}function f(S){S.value instanceof Nt?Promise.resolve(S.value.v).then(h,g):y(s[0][2],S)}function h(S){c("next",S)}function g(S){c("throw",S)}function y(S,T){S(T),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Yh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mO=="function"?mO(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(a){return new Promise(function(u,c){a=t[s](a),r(u,c,a.done,a.value)})}}function r(s,a,u,c){Promise.resolve(c).then(function(f){s({value:f,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ore(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:s3(n)}function s3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function are(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function gO(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let s=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),s&&!s3(t[i])&&(s=!1),i++;s?e.push(...r):e.pop()}return e}class lre{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new ure(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ure{constructor(e,n,i,r={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),are(s)}async sendMessage(e){var n;await this.sendPromise;const i=Xn(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,u;const c=await r,f=(a=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,h=c.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(g))!==null&&u!==void 0?u:[]);const S=f?[f]:[];this.recordHistory(i,S,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=Xn(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,i)}getHistory(e=!1){const n=e?gO(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,r;return Wc(this,arguments,function*(){var a,u,c,f;const h=[];try{for(var g=!0,y=Yh(e),S;S=yield Nt(y.next()),a=S.done,!a;g=!0){f=S.value,g=!1;const T=f;if(ore(T)){const C=(r=(i=T.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;C!==void 0&&h.push(C)}yield yield Nt(T)}}catch(T){u={error:T}}finally{try{!g&&!a&&(c=y.return)&&(yield Nt(c.call(y)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(s=>s.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...gO(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yb extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,yb.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cre(t){const e={},n=p(t,["file"]);return n!=null&&m(e,["file"],gre(n)),e}function fre(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function dre(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],WH(n)),e}function hre(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function z_(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const s=p(t,["sizeBytes"]);s!=null&&m(e,["sizeBytes"],s);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const u=p(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const f=p(t,["sha256Hash"]);f!=null&&m(e,["sha256Hash"],f);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const g=p(t,["downloadUri"]);g!=null&&m(e,["downloadUri"],g);const y=p(t,["state"]);y!=null&&m(e,["state"],y);const S=p(t,["source"]);S!=null&&m(e,["source"],S);const T=p(t,["videoMetadata"]);T!=null&&m(e,["videoMetadata"],T);const C=p(t,["error"]);return C!=null&&m(e,["error"],pre(C)),e}function pre(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const i=p(t,["message"]);i!=null&&m(e,["message"],i);const r=p(t,["code"]);return r!=null&&m(e,["code"],r),e}function mre(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const i=p(t,["message"]);i!=null&&m(e,["message"],i);const r=p(t,["code"]);return r!=null&&m(e,["code"],r),e}function gre(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const s=p(t,["sizeBytes"]);s!=null&&m(e,["sizeBytes"],s);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const u=p(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const f=p(t,["sha256Hash"]);f!=null&&m(e,["sha256Hash"],f);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const g=p(t,["downloadUri"]);g!=null&&m(e,["downloadUri"],g);const y=p(t,["state"]);y!=null&&m(e,["state"],y);const S=p(t,["source"]);S!=null&&m(e,["source"],S);const T=p(t,["videoMetadata"]);T!=null&&m(e,["videoMetadata"],T);const C=p(t,["error"]);return C!=null&&m(e,["error"],mre(C)),e}function vre(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","file"],WH(n)),e}function yre(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),n}function bre(t){const e={},n=p(t,["config"]);return n!=null&&yre(n,e),e}function Are(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=p(t,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>z_(a))),m(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sre extends $u{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new og(ku.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>z_(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bre(e);return s=Ae("files",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),r.then(c=>{const f=Are(c),h=new xte;return Object.assign(h,f),h})}}async createInternal(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cre(e);return s=Ae("upload/v1beta/files",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=fre(c),h=new wte;return Object.assign(h,f),h})}}async get(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vre(e);return s=Ae("files/{file}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>z_(c))}}async delete(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dre(e);return s=Ae("files/{file}",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),r.then(c=>{const f=hre(c),h=new Mte;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tre(){return{}}function Ere(){return{}}function Cre(){return{}}function _re(){return{}}function xre(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function wre(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const r=p(t,["sourceMetadata"]);return r!=null&&m(e,["sourceMetadata"],vse(r)),e}function vO(){return{}}function yO(){return{}}function Mre(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],xre(n));const i=p(t,["authType"]);i!=null&&m(e,["authType"],i);const r=p(t,["googleServiceAccountConfig"]);r!=null&&m(e,["googleServiceAccountConfig"],r);const s=p(t,["httpBasicAuthConfig"]);s!=null&&m(e,["httpBasicAuthConfig"],s);const a=p(t,["oauthConfig"]);a!=null&&m(e,["oauthConfig"],a);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function Rre(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const i=p(t,["startOfSpeechSensitivity"]);i!=null&&m(e,["startOfSpeechSensitivity"],i);const r=p(t,["endOfSpeechSensitivity"]);r!=null&&m(e,["endOfSpeechSensitivity"],r);const s=p(t,["prefixPaddingMs"]);s!=null&&m(e,["prefixPaddingMs"],s);const a=p(t,["silenceDurationMs"]);return a!=null&&m(e,["silenceDurationMs"],a),e}function Pre(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const i=p(t,["startOfSpeechSensitivity"]);i!=null&&m(e,["startOfSpeechSensitivity"],i);const r=p(t,["endOfSpeechSensitivity"]);r!=null&&m(e,["endOfSpeechSensitivity"],r);const s=p(t,["prefixPaddingMs"]);s!=null&&m(e,["prefixPaddingMs"],s);const a=p(t,["silenceDurationMs"]);return a!=null&&m(e,["silenceDurationMs"],a),e}function Dre(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Nre(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["data"]);i!=null&&m(e,["data"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Ire(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function kre(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["data"]);i!=null&&m(e,["data"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Lre(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Lse(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function Ore(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Ose(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function Fre(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Fse(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function Ure(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Use(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function Bre(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const i=p(t,["slidingWindow"]);return i!=null&&m(e,["slidingWindow"],Kse(i)),e}function qre(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const i=p(t,["slidingWindow"]);return i!=null&&m(e,["slidingWindow"],jse(i)),e}function Hre(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function Vre(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function zre(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function Gre(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function $re(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Yre(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Kre(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function o3(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function a3(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function jre(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function Xre(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function Wre(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const s=p(t,["parameters"]);s!=null&&m(e,["parameters"],s);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function Jre(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const r=p(t,["parameters"]);r!=null&&m(e,["parameters"],r);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function Qre(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],Mre(n)),e}function Zre(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Hre(n)),e}function ese(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Vre(n)),e}function tse(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],ise(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function nse(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],rse(n));const i=p(t,["excludeDomains"]);return i!=null&&m(e,["excludeDomains"],i),e}function ise(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function rse(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function sse(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const s=p(t,["temperature"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","temperature"],s);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const g=p(t,["speechConfig"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","speechConfig"],Wse(Yw(g)));const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],y);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&m(e,["setup","systemInstruction"],Fre(Xn(S)));const T=p(t,["tools"]);if(e!==void 0&&T!=null){let k=hd(T);Array.isArray(k)&&(k=k.map(F=>eoe(dd(F)))),m(e,["setup","tools"],k)}const C=p(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],$se(C));const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","inputAudioTranscription"],vO());const x=p(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","outputAudioTranscription"],vO());const R=p(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&m(e,["setup","realtimeInputConfig"],zse(R));const M=p(t,["contextWindowCompression"]);e!==void 0&&M!=null&&m(e,["setup","contextWindowCompression"],Bre(M));const U=p(t,["proactivity"]);return e!==void 0&&U!=null&&m(e,["setup","proactivity"],Hse(U)),n}function ose(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const s=p(t,["temperature"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","temperature"],s);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const g=p(t,["speechConfig"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","speechConfig"],Jse(Yw(g)));const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],y);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&m(e,["setup","systemInstruction"],Ure(Xn(S)));const T=p(t,["tools"]);if(e!==void 0&&T!=null){let k=hd(T);Array.isArray(k)&&(k=k.map(F=>toe(dd(F)))),m(e,["setup","tools"],k)}const C=p(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],Yse(C));const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","inputAudioTranscription"],yO());const x=p(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","outputAudioTranscription"],yO());const R=p(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&m(e,["setup","realtimeInputConfig"],Gse(R));const M=p(t,["contextWindowCompression"]);e!==void 0&&M!=null&&m(e,["setup","contextWindowCompression"],qre(M));const U=p(t,["proactivity"]);return e!==void 0&&U!=null&&m(e,["setup","proactivity"],Vse(U)),n}function ase(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["setup","model"],rt(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],sse(r,n)),n}function lse(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["setup","model"],rt(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],ose(r,n)),n}function use(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>hoe(r))),m(e,["weightedPrompts"],i)}return e}function l3(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>d3(r))),m(e,["weightedPrompts"],i)}return e}function G_(t){const e={},n=p(t,["setup"]);n!=null&&m(e,["setup"],u3(n));const i=p(t,["clientContent"]);i!=null&&m(e,["clientContent"],l3(i));const r=p(t,["musicGenerationConfig"]);r!=null&&m(e,["musicGenerationConfig"],c3(r));const s=p(t,["playbackControl"]);return s!=null&&m(e,["playbackControl"],s),e}function u3(t){const e={},n=p(t,["model"]);return n!=null&&m(e,["model"],n),e}function cse(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const i=p(t,["filteredReason"]);return i!=null&&m(e,["filteredReason"],i),e}function fse(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const i=p(t,["topK"]);i!=null&&m(e,["topK"],i);const r=p(t,["seed"]);r!=null&&m(e,["seed"],r);const s=p(t,["guidance"]);s!=null&&m(e,["guidance"],s);const a=p(t,["bpm"]);a!=null&&m(e,["bpm"],a);const u=p(t,["density"]);u!=null&&m(e,["density"],u);const c=p(t,["brightness"]);c!=null&&m(e,["brightness"],c);const f=p(t,["scale"]);f!=null&&m(e,["scale"],f);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const g=p(t,["muteDrums"]);g!=null&&m(e,["muteDrums"],g);const y=p(t,["onlyBassAndDrums"]);y!=null&&m(e,["onlyBassAndDrums"],y);const S=p(t,["musicGenerationMode"]);return S!=null&&m(e,["musicGenerationMode"],S),e}function c3(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const i=p(t,["topK"]);i!=null&&m(e,["topK"],i);const r=p(t,["seed"]);r!=null&&m(e,["seed"],r);const s=p(t,["guidance"]);s!=null&&m(e,["guidance"],s);const a=p(t,["bpm"]);a!=null&&m(e,["bpm"],a);const u=p(t,["density"]);u!=null&&m(e,["density"],u);const c=p(t,["brightness"]);c!=null&&m(e,["brightness"],c);const f=p(t,["scale"]);f!=null&&m(e,["scale"],f);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const g=p(t,["muteDrums"]);g!=null&&m(e,["muteDrums"],g);const y=p(t,["onlyBassAndDrums"]);y!=null&&m(e,["onlyBassAndDrums"],y);const S=p(t,["musicGenerationMode"]);return S!=null&&m(e,["musicGenerationMode"],S),e}function dse(t){const e={},n=p(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>wre(r))),m(e,["audioChunks"],i)}return e}function hse(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],pse());const i=p(t,["serverContent"]);i!=null&&m(e,["serverContent"],dse(i));const r=p(t,["filteredPrompt"]);return r!=null&&m(e,["filteredPrompt"],cse(r)),e}function pse(){return{}}function mse(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],c3(n)),e}function gse(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>d3(r))),m(e,["weightedPrompts"],i)}return e}function vse(t){const e={},n=p(t,["clientContent"]);n!=null&&m(e,["clientContent"],use(n));const i=p(t,["musicGenerationConfig"]);return i!=null&&m(e,["musicGenerationConfig"],fse(i)),e}function yse(t){const e={},n=p(t,["media"]);if(n!=null){let f=$H(n);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["mediaChunks"],f)}const i=p(t,["audio"]);i!=null&&m(e,["audio"],KH(i));const r=p(t,["audioStreamEnd"]);r!=null&&m(e,["audioStreamEnd"],r);const s=p(t,["video"]);s!=null&&m(e,["video"],YH(s));const a=p(t,["text"]);return a!=null&&m(e,["text"],a),p(t,["activityStart"])!=null&&m(e,["activityStart"],Cre()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],Tre()),e}function bse(t){const e={},n=p(t,["media"]);if(n!=null){let f=$H(n);Array.isArray(f)&&(f=f.map(h=>h)),m(e,["mediaChunks"],f)}const i=p(t,["audio"]);i!=null&&m(e,["audio"],KH(i));const r=p(t,["audioStreamEnd"]);r!=null&&m(e,["audioStreamEnd"],r);const s=p(t,["video"]);s!=null&&m(e,["video"],YH(s));const a=p(t,["text"]);return a!=null&&m(e,["text"],a),p(t,["activityStart"])!=null&&m(e,["activityStart"],_re()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],Ere()),e}function Ase(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],Lre(n));const i=p(t,["turnComplete"]);i!=null&&m(e,["turnComplete"],i);const r=p(t,["interrupted"]);r!=null&&m(e,["interrupted"],r);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const a=p(t,["generationComplete"]);a!=null&&m(e,["generationComplete"],a);const u=p(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],bO(u));const c=p(t,["outputTranscription"]);c!=null&&m(e,["outputTranscription"],bO(c));const f=p(t,["urlContextMetadata"]);f!=null&&m(e,["urlContextMetadata"],noe(f));const h=p(t,["turnCompleteReason"]);h!=null&&m(e,["turnCompleteReason"],h);const g=p(t,["waitingForInput"]);return g!=null&&m(e,["waitingForInput"],g),e}function Sse(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],Ore(n));const i=p(t,["turnComplete"]);i!=null&&m(e,["turnComplete"],i);const r=p(t,["interrupted"]);r!=null&&m(e,["interrupted"],r);const s=p(t,["groundingMetadata"]);s!=null&&m(e,["groundingMetadata"],s);const a=p(t,["generationComplete"]);a!=null&&m(e,["generationComplete"],a);const u=p(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],AO(u));const c=p(t,["outputTranscription"]);c!=null&&m(e,["outputTranscription"],AO(c));const f=p(t,["turnCompleteReason"]);f!=null&&m(e,["turnCompleteReason"],f);const h=p(t,["waitingForInput"]);return h!=null&&m(e,["waitingForInput"],h),e}function Tse(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function Ese(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function Cse(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],Mse());const i=p(t,["serverContent"]);i!=null&&m(e,["serverContent"],Ase(i));const r=p(t,["toolCall"]);r!=null&&m(e,["toolCall"],Nse(r));const s=p(t,["toolCallCancellation"]);s!=null&&m(e,["toolCallCancellation"],Pse(s));const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],ooe(a));const u=p(t,["goAway"]);u!=null&&m(e,["goAway"],Tse(u));const c=p(t,["sessionResumptionUpdate"]);return c!=null&&m(e,["sessionResumptionUpdate"],xse(c)),e}function _se(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],Rse(n));const i=p(t,["serverContent"]);i!=null&&m(e,["serverContent"],Sse(i));const r=p(t,["toolCall"]);r!=null&&m(e,["toolCall"],Ise(r));const s=p(t,["toolCallCancellation"]);s!=null&&m(e,["toolCallCancellation"],Dse(s));const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],aoe(a));const u=p(t,["goAway"]);u!=null&&m(e,["goAway"],Ese(u));const c=p(t,["sessionResumptionUpdate"]);return c!=null&&m(e,["sessionResumptionUpdate"],wse(c)),e}function xse(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const i=p(t,["resumable"]);i!=null&&m(e,["resumable"],i);const r=p(t,["lastConsumedClientMessageIndex"]);return r!=null&&m(e,["lastConsumedClientMessageIndex"],r),e}function wse(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const i=p(t,["resumable"]);i!=null&&m(e,["resumable"],i);const r=p(t,["lastConsumedClientMessageIndex"]);return r!=null&&m(e,["lastConsumedClientMessageIndex"],r),e}function Mse(){return{}}function Rse(t){const e={},n=p(t,["sessionId"]);return n!=null&&m(e,["sessionId"],n),e}function Pse(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function Dse(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function Nse(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>o3(r))),m(e,["functionCalls"],i)}return e}function Ise(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>a3(r))),m(e,["functionCalls"],i)}return e}function Vv(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const i=p(t,["tokenCount"]);return i!=null&&m(e,["tokenCount"],i),e}function zv(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const i=p(t,["tokenCount"]);return i!=null&&m(e,["tokenCount"],i),e}function kse(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Xse(r))),m(e,["speakerVoiceConfigs"],i)}return e}function Lse(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],loe(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],Dre(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],Gre(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],o3(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function Ose(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],uoe(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],Nre(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],$re(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],a3(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function Fse(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],coe(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],Ire(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],Yre(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],jre(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function Use(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],foe(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],kre(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],Kre(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],Xre(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function Bse(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function qse(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function Hse(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function Vse(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function zse(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],Rre(n));const i=p(t,["activityHandling"]);i!=null&&m(e,["activityHandling"],i);const r=p(t,["turnCoverage"]);return r!=null&&m(e,["turnCoverage"],r),e}function Gse(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],Pre(n));const i=p(t,["activityHandling"]);i!=null&&m(e,["activityHandling"],i);const r=p(t,["turnCoverage"]);return r!=null&&m(e,["turnCoverage"],r),e}function $se(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Yse(t){const e={},n=p(t,["handle"]);n!=null&&m(e,["handle"],n);const i=p(t,["transparent"]);return i!=null&&m(e,["transparent"],i),e}function Kse(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function jse(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function Xse(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const i=p(t,["voiceConfig"]);return i!=null&&m(e,["voiceConfig"],f3(i)),e}function Wse(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],f3(n));const i=p(t,["multiSpeakerVoiceConfig"]);i!=null&&m(e,["multiSpeakerVoiceConfig"],kse(i));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Jse(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],doe(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function Qse(t){const e={},n=p(t,["environment"]);n!=null&&m(e,["environment"],n);const i=p(t,["excludedPredefinedFunctions"]);return i!=null&&m(e,["excludedPredefinedFunctions"],i),e}function Zse(t){const e={},n=p(t,["environment"]);n!=null&&m(e,["environment"],n);const i=p(t,["excludedPredefinedFunctions"]);return i!=null&&m(e,["excludedPredefinedFunctions"],i),e}function eoe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>Wre(f))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],tse(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],Zre(r)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],ioe());const a=p(t,["computerUse"]);a!=null&&m(e,["computerUse"],Qse(a));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function toe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(y=>Jre(y))),m(e,["functionDeclarations"],g)}const i=p(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],nse(r));const s=p(t,["googleSearchRetrieval"]);s!=null&&m(e,["googleSearchRetrieval"],ese(s));const a=p(t,["enterpriseWebSearch"]);a!=null&&m(e,["enterpriseWebSearch"],zre(a));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],Qre(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],roe());const f=p(t,["computerUse"]);f!=null&&m(e,["computerUse"],Zse(f));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function bO(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const i=p(t,["finished"]);return i!=null&&m(e,["finished"],i),e}function AO(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const i=p(t,["finished"]);return i!=null&&m(e,["finished"],i),e}function noe(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>soe(r))),m(e,["urlMetadata"],i)}return e}function ioe(){return{}}function roe(){return{}}function soe(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const i=p(t,["urlRetrievalStatus"]);return i!=null&&m(e,["urlRetrievalStatus"],i),e}function ooe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const i=p(t,["cachedContentTokenCount"]);i!=null&&m(e,["cachedContentTokenCount"],i);const r=p(t,["responseTokenCount"]);r!=null&&m(e,["responseTokenCount"],r);const s=p(t,["toolUsePromptTokenCount"]);s!=null&&m(e,["toolUsePromptTokenCount"],s);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const u=p(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const c=p(t,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(S=>Vv(S))),m(e,["promptTokensDetails"],y)}const f=p(t,["cacheTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(S=>Vv(S))),m(e,["cacheTokensDetails"],y)}const h=p(t,["responseTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(S=>Vv(S))),m(e,["responseTokensDetails"],y)}const g=p(t,["toolUsePromptTokensDetails"]);if(g!=null){let y=g;Array.isArray(y)&&(y=y.map(S=>Vv(S))),m(e,["toolUsePromptTokensDetails"],y)}return e}function aoe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const i=p(t,["cachedContentTokenCount"]);i!=null&&m(e,["cachedContentTokenCount"],i);const r=p(t,["candidatesTokenCount"]);r!=null&&m(e,["responseTokenCount"],r);const s=p(t,["toolUsePromptTokenCount"]);s!=null&&m(e,["toolUsePromptTokenCount"],s);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const u=p(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const c=p(t,["promptTokensDetails"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(T=>zv(T))),m(e,["promptTokensDetails"],S)}const f=p(t,["cacheTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(T=>zv(T))),m(e,["cacheTokensDetails"],S)}const h=p(t,["candidatesTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(T=>zv(T))),m(e,["responseTokensDetails"],S)}const g=p(t,["toolUsePromptTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(T=>zv(T))),m(e,["toolUsePromptTokensDetails"],S)}const y=p(t,["trafficType"]);return y!=null&&m(e,["trafficType"],y),e}function loe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function uoe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function coe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function foe(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function f3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Bse(n)),e}function doe(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],qse(n)),e}function hoe(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const i=p(t,["weight"]);return i!=null&&m(e,["weight"],i),e}function d3(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const i=p(t,["weight"]);return i!=null&&m(e,["weight"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function poe(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function moe(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],poe(n));const i=p(t,["authType"]);i!=null&&m(e,["authType"],i);const r=p(t,["googleServiceAccountConfig"]);r!=null&&m(e,["googleServiceAccountConfig"],r);const s=p(t,["httpBasicAuthConfig"]);s!=null&&m(e,["httpBasicAuthConfig"],s);const a=p(t,["oauthConfig"]);a!=null&&m(e,["oauthConfig"],a);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function goe(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function voe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["data"]);i!=null&&m(e,["data"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function yoe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function boe(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["data"]);i!=null&&m(e,["data"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Aoe(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],Poe(n));const i=p(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],Eoe(i));const r=p(t,["tokenCount"]);r!=null&&m(e,["tokenCount"],r);const s=p(t,["finishReason"]);s!=null&&m(e,["finishReason"],s);const a=p(t,["urlContextMetadata"]);a!=null&&m(e,["urlContextMetadata"],Wle(a));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&m(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&m(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const g=p(t,["safetyRatings"]);return g!=null&&m(e,["safetyRatings"],g),e}function Soe(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],Doe(n));const i=p(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],Coe(i));const r=p(t,["finishMessage"]);r!=null&&m(e,["finishMessage"],r);const s=p(t,["finishReason"]);s!=null&&m(e,["finishReason"],s);const a=p(t,["urlContextMetadata"]);a!=null&&m(e,["urlContextMetadata"],Jle(a));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&m(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&m(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const g=p(t,["safetyRatings"]);return g!=null&&m(e,["safetyRatings"],g),e}function Toe(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const i=p(t,["epoch"]);i!=null&&m(e,["epoch"],i);const r=p(t,["step"]);return r!=null&&m(e,["step"],r),e}function Eoe(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function Coe(t){const e={},n=p(t,["citations"]);return n!=null&&m(e,["citations"],n),e}function _oe(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["contents"]);if(r!=null){let s=Ar(r);Array.isArray(s)&&(s=s.map(a=>md(a))),m(n,["contents"],s)}return n}function xoe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["tokensInfo"]);return i!=null&&m(e,["tokensInfo"],i),e}function woe(t){const e={},n=p(t,["values"]);return n!=null&&m(e,["values"],n),e}function Moe(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const i=p(t,["statistics"]);return i!=null&&m(e,["statistics"],Roe(i)),e}function Roe(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const i=p(t,["token_count"]);return i!=null&&m(e,["tokenCount"],i),e}function Poe(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>ole(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function Doe(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>ale(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function bb(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>lle(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function md(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>ule(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function Noe(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const i=p(t,["enableControlImageComputation"]);return i!=null&&m(e,["computeControl"],i),e}function Ioe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function koe(t,e){const n={},i=p(t,["systemInstruction"]);e!==void 0&&i!=null&&m(e,["systemInstruction"],md(Xn(i)));const r=p(t,["tools"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>v3(u))),m(e,["tools"],a)}const s=p(t,["generationConfig"]);return e!==void 0&&s!=null&&m(e,["generationConfig"],s),n}function Loe(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["contents"]);if(r!=null){let a=Ar(r);Array.isArray(a)&&(a=a.map(u=>bb(u))),m(n,["contents"],a)}const s=p(e,["config"]);return s!=null&&Ioe(s),n}function Ooe(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["contents"]);if(r!=null){let a=Ar(r);Array.isArray(a)&&(a=a.map(u=>md(u))),m(n,["contents"],a)}const s=p(e,["config"]);return s!=null&&koe(s,n),n}function Foe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);i!=null&&m(e,["totalTokens"],i);const r=p(t,["cachedContentTokenCount"]);return r!=null&&m(e,["cachedContentTokenCount"],r),e}function Uoe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);return i!=null&&m(e,["totalTokens"],i),e}function Boe(t,e){const n={},i=p(e,["model"]);return i!=null&&m(n,["_url","name"],rt(t,i)),n}function qoe(t,e){const n={},i=p(e,["model"]);return i!=null&&m(n,["_url","name"],rt(t,i)),n}function Hoe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Voe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function zoe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function Goe(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function $oe(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&m(e,["parameters","negativePrompt"],r);const s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&m(e,["parameters","sampleCount"],s);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=p(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const f=p(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const g=p(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&m(e,["parameters","includeSafetyAttributes"],g);const y=p(t,["includeRaiReason"]);e!==void 0&&y!=null&&m(e,["parameters","includeRaiReason"],y);const S=p(t,["language"]);e!==void 0&&S!=null&&m(e,["parameters","language"],S);const T=p(t,["outputMimeType"]);e!==void 0&&T!=null&&m(e,["parameters","outputOptions","mimeType"],T);const C=p(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&m(e,["parameters","outputOptions","compressionQuality"],C);const _=p(t,["addWatermark"]);e!==void 0&&_!=null&&m(e,["parameters","addWatermark"],_);const x=p(t,["editMode"]);e!==void 0&&x!=null&&m(e,["parameters","editMode"],x);const R=p(t,["baseSteps"]);return e!==void 0&&R!=null&&m(e,["parameters","editConfig","baseSteps"],R),n}function Yoe(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const s=p(e,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>vle(c))),m(n,["instances[0]","referenceImages"],u)}const a=p(e,["config"]);return a!=null&&$oe(a,n),n}function Koe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Ab(s))),m(e,["generatedImages"],r)}return e}function joe(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&m(e,["requests[]","title"],r);const s=p(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&m(e,["requests[]","outputDimensionality"],s),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Xoe(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&m(e,["instances[]","task_type"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&m(e,["instances[]","title"],r);const s=p(t,["outputDimensionality"]);e!==void 0&&s!=null&&m(e,["parameters","outputDimensionality"],s);const a=p(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const u=p(t,["autoTruncate"]);return e!==void 0&&u!=null&&m(e,["parameters","autoTruncate"],u),n}function Woe(){return{}}function Joe(t){const e={},n=p(t,["billableCharacterCount"]);return n!=null&&m(e,["billableCharacterCount"],n),e}function Qoe(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["contents"]);r!=null&&m(n,["requests[]","content"],zw(t,r));const s=p(e,["config"]);s!=null&&joe(s,n);const a=p(e,["model"]);return a!==void 0&&m(n,["requests[]","model"],rt(t,a)),n}function Zoe(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["contents"]);r!=null&&m(n,["instances[]","content"],zw(t,r));const s=p(e,["config"]);return s!=null&&Xoe(s,n),n}function eae(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>woe(a))),m(e,["embeddings"],s)}return p(t,["metadata"])!=null&&m(e,["metadata"],Woe()),e}function tae(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Moe(a))),m(e,["embeddings"],s)}const r=p(t,["metadata"]);return r!=null&&m(e,["metadata"],Joe(r)),e}function nae(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const i=p(t,["deployedModelId"]);return i!=null&&m(e,["deployedModelId"],i),e}function iae(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function rae(t){const e={},n=p(t,["label"]);n!=null&&m(e,["label"],n);const i=p(t,["score"]);return i!=null&&m(e,["score"],i),e}function sae(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function oae(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function aae(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function lae(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function uae(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function cae(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function fae(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function dae(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function hae(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);return i!=null&&m(e,["allowedFunctionNames"],i),e}function pae(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);return i!=null&&m(e,["allowedFunctionNames"],i),e}function mae(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const s=p(t,["parameters"]);s!=null&&m(e,["parameters"],s);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function gae(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const r=p(t,["parameters"]);r!=null&&m(e,["parameters"],r);const s=p(t,["parametersJsonSchema"]);s!=null&&m(e,["parametersJsonSchema"],s);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function vae(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&m(n,["systemInstruction"],bb(Xn(r)));const s=p(e,["temperature"]);s!=null&&m(i,["temperature"],s);const a=p(e,["topP"]);a!=null&&m(i,["topP"],a);const u=p(e,["topK"]);u!=null&&m(i,["topK"],u);const c=p(e,["candidateCount"]);c!=null&&m(i,["candidateCount"],c);const f=p(e,["maxOutputTokens"]);f!=null&&m(i,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&m(i,["stopSequences"],h);const g=p(e,["responseLogprobs"]);g!=null&&m(i,["responseLogprobs"],g);const y=p(e,["logprobs"]);y!=null&&m(i,["logprobs"],y);const S=p(e,["presencePenalty"]);S!=null&&m(i,["presencePenalty"],S);const T=p(e,["frequencyPenalty"]);T!=null&&m(i,["frequencyPenalty"],T);const C=p(e,["seed"]);C!=null&&m(i,["seed"],C);const _=p(e,["responseMimeType"]);_!=null&&m(i,["responseMimeType"],_);const x=p(e,["responseSchema"]);x!=null&&m(i,["responseSchema"],Tle(Gw(x)));const R=p(e,["responseJsonSchema"]);if(R!=null&&m(i,["responseJsonSchema"],R),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=p(e,["safetySettings"]);if(n!==void 0&&M!=null){let K=M;Array.isArray(K)&&(K=K.map(ie=>Ale(ie))),m(n,["safetySettings"],K)}const U=p(e,["tools"]);if(n!==void 0&&U!=null){let K=hd(U);Array.isArray(K)&&(K=K.map(ie=>qle(dd(ie)))),m(n,["tools"],K)}const k=p(e,["toolConfig"]);if(n!==void 0&&k!=null&&m(n,["toolConfig"],Ule(k)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=p(e,["cachedContent"]);n!==void 0&&F!=null&&m(n,["cachedContent"],qo(t,F));const q=p(e,["responseModalities"]);q!=null&&m(i,["responseModalities"],q);const z=p(e,["mediaResolution"]);z!=null&&m(i,["mediaResolution"],z);const G=p(e,["speechConfig"]);if(G!=null&&m(i,["speechConfig"],Ple($w(G))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ee=p(e,["thinkingConfig"]);return ee!=null&&m(i,["thinkingConfig"],kle(ee)),i}function yae(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&m(n,["systemInstruction"],md(Xn(r)));const s=p(e,["temperature"]);s!=null&&m(i,["temperature"],s);const a=p(e,["topP"]);a!=null&&m(i,["topP"],a);const u=p(e,["topK"]);u!=null&&m(i,["topK"],u);const c=p(e,["candidateCount"]);c!=null&&m(i,["candidateCount"],c);const f=p(e,["maxOutputTokens"]);f!=null&&m(i,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&m(i,["stopSequences"],h);const g=p(e,["responseLogprobs"]);g!=null&&m(i,["responseLogprobs"],g);const y=p(e,["logprobs"]);y!=null&&m(i,["logprobs"],y);const S=p(e,["presencePenalty"]);S!=null&&m(i,["presencePenalty"],S);const T=p(e,["frequencyPenalty"]);T!=null&&m(i,["frequencyPenalty"],T);const C=p(e,["seed"]);C!=null&&m(i,["seed"],C);const _=p(e,["responseMimeType"]);_!=null&&m(i,["responseMimeType"],_);const x=p(e,["responseSchema"]);x!=null&&m(i,["responseSchema"],Ele(Gw(x)));const R=p(e,["responseJsonSchema"]);R!=null&&m(i,["responseJsonSchema"],R);const M=p(e,["routingConfig"]);M!=null&&m(i,["routingConfig"],M);const U=p(e,["modelSelectionConfig"]);U!=null&&m(i,["modelConfig"],rle(U));const k=p(e,["safetySettings"]);if(n!==void 0&&k!=null){let de=k;Array.isArray(de)&&(de=de.map(Y=>Sle(Y))),m(n,["safetySettings"],de)}const F=p(e,["tools"]);if(n!==void 0&&F!=null){let de=hd(F);Array.isArray(de)&&(de=de.map(Y=>v3(dd(Y)))),m(n,["tools"],de)}const q=p(e,["toolConfig"]);n!==void 0&&q!=null&&m(n,["toolConfig"],Ble(q));const z=p(e,["labels"]);n!==void 0&&z!=null&&m(n,["labels"],z);const G=p(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],qo(t,G));const ee=p(e,["responseModalities"]);ee!=null&&m(i,["responseModalities"],ee);const K=p(e,["mediaResolution"]);K!=null&&m(i,["mediaResolution"],K);const ie=p(e,["speechConfig"]);ie!=null&&m(i,["speechConfig"],Dle($w(ie)));const he=p(e,["audioTimestamp"]);he!=null&&m(i,["audioTimestamp"],he);const fe=p(e,["thinkingConfig"]);return fe!=null&&m(i,["thinkingConfig"],Lle(fe)),i}function SO(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["contents"]);if(r!=null){let a=Ar(r);Array.isArray(a)&&(a=a.map(u=>bb(u))),m(n,["contents"],a)}const s=p(e,["config"]);return s!=null&&m(n,["generationConfig"],vae(t,s,n)),n}function TO(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["contents"]);if(r!=null){let a=Ar(r);Array.isArray(a)&&(a=a.map(u=>md(u))),m(n,["contents"],a)}const s=p(e,["config"]);return s!=null&&m(n,["generationConfig"],yae(t,s,n)),n}function EO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Aoe(f))),m(e,["candidates"],c)}const r=p(t,["modelVersion"]);r!=null&&m(e,["modelVersion"],r);const s=p(t,["promptFeedback"]);s!=null&&m(e,["promptFeedback"],s);const a=p(t,["responseId"]);a!=null&&m(e,["responseId"],a);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function CO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>Soe(h))),m(e,["candidates"],f)}const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const s=p(t,["modelVersion"]);s!=null&&m(e,["modelVersion"],s);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=p(t,["responseId"]);u!=null&&m(e,["responseId"],u);const c=p(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function bae(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const r=p(t,["aspectRatio"]);e!==void 0&&r!=null&&m(e,["parameters","aspectRatio"],r);const s=p(t,["guidanceScale"]);if(e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const u=p(t,["personGeneration"]);e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&m(e,["parameters","includeSafetyAttributes"],c);const f=p(t,["includeRaiReason"]);e!==void 0&&f!=null&&m(e,["parameters","includeRaiReason"],f);const h=p(t,["language"]);e!==void 0&&h!=null&&m(e,["parameters","language"],h);const g=p(t,["outputMimeType"]);e!==void 0&&g!=null&&m(e,["parameters","outputOptions","mimeType"],g);const y=p(t,["outputCompressionQuality"]);if(e!==void 0&&y!=null&&m(e,["parameters","outputOptions","compressionQuality"],y),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const S=p(t,["imageSize"]);if(e!==void 0&&S!=null&&m(e,["parameters","sampleImageSize"],S),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Aae(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&m(e,["parameters","negativePrompt"],r);const s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&m(e,["parameters","sampleCount"],s);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=p(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const f=p(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const g=p(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&m(e,["parameters","includeSafetyAttributes"],g);const y=p(t,["includeRaiReason"]);e!==void 0&&y!=null&&m(e,["parameters","includeRaiReason"],y);const S=p(t,["language"]);e!==void 0&&S!=null&&m(e,["parameters","language"],S);const T=p(t,["outputMimeType"]);e!==void 0&&T!=null&&m(e,["parameters","outputOptions","mimeType"],T);const C=p(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&m(e,["parameters","outputOptions","compressionQuality"],C);const _=p(t,["addWatermark"]);e!==void 0&&_!=null&&m(e,["parameters","addWatermark"],_);const x=p(t,["imageSize"]);e!==void 0&&x!=null&&m(e,["parameters","sampleImageSize"],x);const R=p(t,["enhancePrompt"]);return e!==void 0&&R!=null&&m(e,["parameters","enhancePrompt"],R),n}function Sae(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const s=p(e,["config"]);return s!=null&&bae(s,n),n}function Tae(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const s=p(e,["config"]);return s!=null&&Aae(s,n),n}function Eae(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Lae(a))),m(e,["generatedImages"],s)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&m(e,["positivePromptSafetyAttributes"],m3(r)),e}function Cae(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Ab(a))),m(e,["generatedImages"],s)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&m(e,["positivePromptSafetyAttributes"],g3(r)),e}function _ae(t,e){const n={},i=p(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=p(t,["durationSeconds"]);if(e!==void 0&&r!=null&&m(e,["parameters","durationSeconds"],r),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const a=p(t,["resolution"]);e!==void 0&&a!=null&&m(e,["parameters","resolution"],a);const u=p(t,["personGeneration"]);if(e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&m(e,["parameters","negativePrompt"],c);const f=p(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&m(e,["parameters","enhancePrompt"],f),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(p(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(p(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function xae(t,e){const n={},i=p(t,["numberOfVideos"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const s=p(t,["fps"]);e!==void 0&&s!=null&&m(e,["parameters","fps"],s);const a=p(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const u=p(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const f=p(t,["resolution"]);e!==void 0&&f!=null&&m(e,["parameters","resolution"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const g=p(t,["pubsubTopic"]);e!==void 0&&g!=null&&m(e,["parameters","pubsubTopic"],g);const y=p(t,["negativePrompt"]);e!==void 0&&y!=null&&m(e,["parameters","negativePrompt"],y);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&m(e,["parameters","enhancePrompt"],S);const T=p(t,["generateAudio"]);e!==void 0&&T!=null&&m(e,["parameters","generateAudio"],T);const C=p(t,["lastFrame"]);e!==void 0&&C!=null&&m(e,["instances[0]","lastFrame"],Xr(C));const _=p(t,["referenceImages"]);if(e!==void 0&&_!=null){let M=_;Array.isArray(M)&&(M=M.map(U=>sue(U))),m(e,["instances[0]","referenceImages"],M)}const x=p(t,["mask"]);e!==void 0&&x!=null&&m(e,["instances[0]","mask"],rue(x));const R=p(t,["compressionQuality"]);return e!==void 0&&R!=null&&m(e,["parameters","compressionQuality"],R),n}function wae(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const r=p(t,["done"]);r!=null&&m(e,["done"],r);const s=p(t,["error"]);s!=null&&m(e,["error"],s);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],Dae(a)),e}function Mae(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const r=p(t,["done"]);r!=null&&m(e,["done"],r);const s=p(t,["error"]);s!=null&&m(e,["error"],s);const a=p(t,["response"]);return a!=null&&m(e,["response"],Nae(a)),e}function Rae(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const s=p(e,["image"]);if(s!=null&&m(n,["instances[0]","image"],p3(s)),p(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=p(e,["source"]);a!=null&&Iae(a,n);const u=p(e,["config"]);return u!=null&&_ae(u,n),n}function Pae(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const s=p(e,["image"]);s!=null&&m(n,["instances[0]","image"],Xr(s));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],y3(a));const u=p(e,["source"]);u!=null&&kae(u,n);const c=p(e,["config"]);return c!=null&&xae(c,n),n}function Dae(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Fae(a))),m(e,["generatedVideos"],s)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function Nae(t){const e={},n=p(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Uae(a))),m(e,["generatedVideos"],s)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function Iae(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const r=p(t,["image"]);if(e!==void 0&&r!=null&&m(e,["instances[0]","image"],p3(r)),p(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function kae(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const r=p(t,["image"]);e!==void 0&&r!=null&&m(e,["instances[0]","image"],Xr(r));const s=p(t,["video"]);return e!==void 0&&s!=null&&m(e,["instances[0]","video"],y3(s)),n}function Lae(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],Yae(n));const i=p(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const r=p(t,["_self"]);return r!=null&&m(e,["safetyAttributes"],m3(r)),e}function Ab(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],h3(n));const i=p(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const r=p(t,["_self"]);r!=null&&m(e,["safetyAttributes"],g3(r));const s=p(t,["prompt"]);return s!=null&&m(e,["enhancedPrompt"],s),e}function Oae(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["mask"],h3(n));const i=p(t,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>rae(s))),m(e,["labels"],r)}return e}function Fae(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],nue(n)),e}function Uae(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],iue(n)),e}function Bae(t,e){const n={},i=p(e,["model"]);return i!=null&&m(n,["_url","name"],rt(t,i)),n}function qae(t,e){const n={},i=p(e,["model"]);return i!=null&&m(n,["_url","name"],rt(t,i)),n}function Hae(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],moe(n)),e}function Vae(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],zoe(n)),e}function zae(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Goe(n)),e}function Gae(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Kae(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $ae(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],jae(n));const i=p(t,["excludeDomains"]);return i!=null&&m(e,["excludeDomains"],i),e}function Yae(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Yu(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function h3(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],Yu(i));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function p3(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Yu(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Xr(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=p(t,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Yu(i));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Kae(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function jae(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function Xae(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const i=p(t,["longitude"]);return i!=null&&m(e,["longitude"],i),e}function Wae(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const i=p(t,["longitude"]);return i!=null&&m(e,["longitude"],i),e}function Jae(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&m(n,["_query","pageSize"],r);const s=p(e,["pageToken"]);n!==void 0&&s!=null&&m(n,["_query","pageToken"],s);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],JH(t,u)),i}function Qae(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&m(n,["_query","pageSize"],r);const s=p(e,["pageToken"]);n!==void 0&&s!=null&&m(n,["_query","pageToken"],s);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],JH(t,u)),i}function Zae(t,e){const n={},i=p(e,["config"]);return i!=null&&Jae(t,i,n),n}function ele(t,e){const n={},i=p(e,["config"]);return i!=null&&Qae(t,i,n),n}function tle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=p(t,["_self"]);if(r!=null){let s=QH(r);Array.isArray(s)&&(s=s.map(a=>$_(a))),m(e,["models"],s)}return e}function nle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=p(t,["_self"]);if(r!=null){let s=QH(r);Array.isArray(s)&&(s=s.map(a=>Y_(a))),m(e,["models"],s)}return e}function ile(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const i=p(t,["segmentationClasses"]);i!=null&&m(e,["maskClasses"],i);const r=p(t,["maskDilation"]);return r!=null&&m(e,["dilation"],r),e}function $_(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const s=p(t,["version"]);s!=null&&m(e,["version"],s);const a=p(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],Hle(a));const u=p(t,["inputTokenLimit"]);u!=null&&m(e,["inputTokenLimit"],u);const c=p(t,["outputTokenLimit"]);c!=null&&m(e,["outputTokenLimit"],c);const f=p(t,["supportedGenerationMethods"]);return f!=null&&m(e,["supportedActions"],f),e}function Y_(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const s=p(t,["versionId"]);s!=null&&m(e,["version"],s);const a=p(t,["deployedModels"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(y=>nae(y))),m(e,["endpoints"],g)}const u=p(t,["labels"]);u!=null&&m(e,["labels"],u);const c=p(t,["_self"]);c!=null&&m(e,["tunedModelInfo"],Vle(c));const f=p(t,["defaultCheckpointId"]);f!=null&&m(e,["defaultCheckpointId"],f);const h=p(t,["checkpoints"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(y=>Toe(y))),m(e,["checkpoints"],g)}return e}function rle(t){const e={},n=p(t,["featureSelectionPreference"]);return n!=null&&m(e,["featureSelectionPreference"],n),e}function sle(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Rle(r))),m(e,["speakerVoiceConfigs"],i)}return e}function ole(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],oue(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],goe(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],sae(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],uae(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function ale(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],aue(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],voe(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],oae(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],cae(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function lle(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],lue(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],yoe(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],aae(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],fae(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function ule(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],uue(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],boe(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],lae(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],dae(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function cle(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function fle(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function dle(t){const e={},n=p(t,["productImage"]);return n!=null&&m(e,["image"],Xr(n)),e}function hle(t,e){const n={},i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const r=p(t,["baseSteps"]);e!==void 0&&r!=null&&m(e,["parameters","editConfig","baseSteps"],r);const s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&m(e,["parameters","storageUri"],s);const a=p(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=p(t,["addWatermark"]);e!==void 0&&f!=null&&m(e,["parameters","addWatermark"],f);const h=p(t,["outputMimeType"]);e!==void 0&&h!=null&&m(e,["parameters","outputOptions","mimeType"],h);const g=p(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&m(e,["parameters","outputOptions","compressionQuality"],g);const y=p(t,["enhancePrompt"]);return e!==void 0&&y!=null&&m(e,["parameters","enhancePrompt"],y),n}function ple(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["source"]);r!=null&&gle(r,n);const s=p(e,["config"]);return s!=null&&hle(s,n),n}function mle(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Ab(r))),m(e,["generatedImages"],i)}return e}function gle(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const r=p(t,["personImage"]);e!==void 0&&r!=null&&m(e,["instances[0]","personImage","image"],Xr(r));const s=p(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>dle(u))),m(e,["instances[0]","productImages"],a)}return n}function vle(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Xr(n));const i=p(t,["referenceId"]);i!=null&&m(e,["referenceId"],i);const r=p(t,["referenceType"]);r!=null&&m(e,["referenceType"],r);const s=p(t,["maskImageConfig"]);s!=null&&m(e,["maskImageConfig"],ile(s));const a=p(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],Noe(a));const u=p(t,["styleImageConfig"]);u!=null&&m(e,["styleImageConfig"],Nle(u));const c=p(t,["subjectImageConfig"]);return c!=null&&m(e,["subjectImageConfig"],Ile(c)),e}function yle(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],Xae(n));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function ble(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],Wae(n));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function m3(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const r=p(t,["contentType"]);return r!=null&&m(e,["contentType"],r),e}function g3(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const r=p(t,["contentType"]);return r!=null&&m(e,["contentType"],r),e}function Ale(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const i=p(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function Sle(t){const e={},n=p(t,["method"]);n!=null&&m(e,["method"],n);const i=p(t,["category"]);i!=null&&m(e,["category"],i);const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Tle(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const i=p(t,["default"]);i!=null&&m(e,["default"],i);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const s=p(t,["enum"]);s!=null&&m(e,["enum"],s);const a=p(t,["example"]);a!=null&&m(e,["example"],a);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const c=p(t,["items"]);c!=null&&m(e,["items"],c);const f=p(t,["maxItems"]);f!=null&&m(e,["maxItems"],f);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const g=p(t,["maxProperties"]);g!=null&&m(e,["maxProperties"],g);const y=p(t,["maximum"]);y!=null&&m(e,["maximum"],y);const S=p(t,["minItems"]);S!=null&&m(e,["minItems"],S);const T=p(t,["minLength"]);T!=null&&m(e,["minLength"],T);const C=p(t,["minProperties"]);C!=null&&m(e,["minProperties"],C);const _=p(t,["minimum"]);_!=null&&m(e,["minimum"],_);const x=p(t,["nullable"]);x!=null&&m(e,["nullable"],x);const R=p(t,["pattern"]);R!=null&&m(e,["pattern"],R);const M=p(t,["properties"]);M!=null&&m(e,["properties"],M);const U=p(t,["propertyOrdering"]);U!=null&&m(e,["propertyOrdering"],U);const k=p(t,["required"]);k!=null&&m(e,["required"],k);const F=p(t,["title"]);F!=null&&m(e,["title"],F);const q=p(t,["type"]);return q!=null&&m(e,["type"],q),e}function Ele(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const i=p(t,["default"]);i!=null&&m(e,["default"],i);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const s=p(t,["enum"]);s!=null&&m(e,["enum"],s);const a=p(t,["example"]);a!=null&&m(e,["example"],a);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const c=p(t,["items"]);c!=null&&m(e,["items"],c);const f=p(t,["maxItems"]);f!=null&&m(e,["maxItems"],f);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const g=p(t,["maxProperties"]);g!=null&&m(e,["maxProperties"],g);const y=p(t,["maximum"]);y!=null&&m(e,["maximum"],y);const S=p(t,["minItems"]);S!=null&&m(e,["minItems"],S);const T=p(t,["minLength"]);T!=null&&m(e,["minLength"],T);const C=p(t,["minProperties"]);C!=null&&m(e,["minProperties"],C);const _=p(t,["minimum"]);_!=null&&m(e,["minimum"],_);const x=p(t,["nullable"]);x!=null&&m(e,["nullable"],x);const R=p(t,["pattern"]);R!=null&&m(e,["pattern"],R);const M=p(t,["properties"]);M!=null&&m(e,["properties"],M);const U=p(t,["propertyOrdering"]);U!=null&&m(e,["propertyOrdering"],U);const k=p(t,["required"]);k!=null&&m(e,["required"],k);const F=p(t,["title"]);F!=null&&m(e,["title"],F);const q=p(t,["type"]);return q!=null&&m(e,["type"],q),e}function Cle(t){const e={},n=p(t,["image"]);return n!=null&&m(e,["image"],Xr(n)),e}function _le(t,e){const n={},i=p(t,["mode"]);e!==void 0&&i!=null&&m(e,["parameters","mode"],i);const r=p(t,["maxPredictions"]);e!==void 0&&r!=null&&m(e,["parameters","maxPredictions"],r);const s=p(t,["confidenceThreshold"]);e!==void 0&&s!=null&&m(e,["parameters","confidenceThreshold"],s);const a=p(t,["maskDilation"]);e!==void 0&&a!=null&&m(e,["parameters","maskDilation"],a);const u=p(t,["binaryColorThreshold"]);return e!==void 0&&u!=null&&m(e,["parameters","binaryColorThreshold"],u),n}function xle(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["source"]);r!=null&&Mle(r,n);const s=p(e,["config"]);return s!=null&&_le(s,n),n}function wle(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Oae(r))),m(e,["generatedMasks"],i)}return e}function Mle(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const r=p(t,["image"]);e!==void 0&&r!=null&&m(e,["instances[0]","image"],Xr(r));const s=p(t,["scribbleImage"]);return e!==void 0&&s!=null&&m(e,["instances[0]","scribble"],Cle(s)),n}function Rle(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const i=p(t,["voiceConfig"]);return i!=null&&m(e,["voiceConfig"],b3(i)),e}function Ple(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],b3(n));const i=p(t,["multiSpeakerVoiceConfig"]);i!=null&&m(e,["multiSpeakerVoiceConfig"],sle(i));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Dle(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],cue(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function Nle(t){const e={},n=p(t,["styleDescription"]);return n!=null&&m(e,["styleDescription"],n),e}function Ile(t){const e={},n=p(t,["subjectType"]);n!=null&&m(e,["subjectType"],n);const i=p(t,["subjectDescription"]);return i!=null&&m(e,["subjectDescription"],i),e}function kle(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const i=p(t,["thinkingBudget"]);return i!=null&&m(e,["thinkingBudget"],i),e}function Lle(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const i=p(t,["thinkingBudget"]);return i!=null&&m(e,["thinkingBudget"],i),e}function Ole(t){const e={},n=p(t,["environment"]);n!=null&&m(e,["environment"],n);const i=p(t,["excludedPredefinedFunctions"]);return i!=null&&m(e,["excludedPredefinedFunctions"],i),e}function Fle(t){const e={},n=p(t,["environment"]);n!=null&&m(e,["environment"],n);const i=p(t,["excludedPredefinedFunctions"]);return i!=null&&m(e,["excludedPredefinedFunctions"],i),e}function Ule(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],hae(n));const i=p(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],yle(i)),e}function Ble(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],pae(n));const i=p(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],ble(i)),e}function qle(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>mae(f))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],Gae(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],Vae(r)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],Qle());const a=p(t,["computerUse"]);a!=null&&m(e,["computerUse"],Ole(a));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function v3(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(y=>gae(y))),m(e,["functionDeclarations"],g)}const i=p(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],$ae(r));const s=p(t,["googleSearchRetrieval"]);s!=null&&m(e,["googleSearchRetrieval"],zae(s));const a=p(t,["enterpriseWebSearch"]);a!=null&&m(e,["enterpriseWebSearch"],iae(a));const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],Hae(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],Zle());const f=p(t,["computerUse"]);f!=null&&m(e,["computerUse"],Fle(f));const h=p(t,["codeExecution"]);return h!=null&&m(e,["codeExecution"],h),e}function Hle(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const r=p(t,["updateTime"]);return r!=null&&m(e,["updateTime"],r),e}function Vle(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const r=p(t,["updateTime"]);return r!=null&&m(e,["updateTime"],r),e}function zle(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const r=p(t,["description"]);e!==void 0&&r!=null&&m(e,["description"],r);const s=p(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&m(e,["defaultCheckpointId"],s),n}function Gle(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const r=p(t,["description"]);e!==void 0&&r!=null&&m(e,["description"],r);const s=p(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&m(e,["defaultCheckpointId"],s),n}function $le(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","name"],rt(t,i));const r=p(e,["config"]);return r!=null&&zle(r,n),n}function Yle(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["config"]);return r!=null&&Gle(r,n),n}function Kle(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const r=p(t,["includeRaiReason"]);e!==void 0&&r!=null&&m(e,["parameters","includeRaiReason"],r);const s=p(t,["outputMimeType"]);e!==void 0&&s!=null&&m(e,["parameters","outputOptions","mimeType"],s);const a=p(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&m(e,["parameters","outputOptions","compressionQuality"],a);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=p(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=p(t,["numberOfImages"]);e!==void 0&&f!=null&&m(e,["parameters","sampleCount"],f);const h=p(t,["mode"]);return e!==void 0&&h!=null&&m(e,["parameters","mode"],h),n}function jle(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],rt(t,i));const r=p(e,["image"]);r!=null&&m(n,["instances[0]","image"],Xr(r));const s=p(e,["upscaleFactor"]);s!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=p(e,["config"]);return a!=null&&Kle(a,n),n}function Xle(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Ab(s))),m(e,["generatedImages"],r)}return e}function Wle(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>eue(r))),m(e,["urlMetadata"],i)}return e}function Jle(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>tue(r))),m(e,["urlMetadata"],i)}return e}function Qle(){return{}}function Zle(){return{}}function eue(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const i=p(t,["urlRetrievalStatus"]);return i!=null&&m(e,["urlRetrievalStatus"],i),e}function tue(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const i=p(t,["urlRetrievalStatus"]);return i!=null&&m(e,["urlRetrievalStatus"],i),e}function nue(t){const e={},n=p(t,["video","uri"]);n!=null&&m(e,["uri"],n);const i=p(t,["video","encodedVideo"]);i!=null&&m(e,["videoBytes"],Yu(i));const r=p(t,["encoding"]);return r!=null&&m(e,["mimeType"],r),e}function iue(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Yu(i));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function rue(t){const e={},n=p(t,["image"]);n!=null&&m(e,["_self"],Xr(n));const i=p(t,["maskMode"]);return i!=null&&m(e,["maskMode"],i),e}function sue(t){const e={},n=p(t,["image"]);n!=null&&m(e,["image"],Xr(n));const i=p(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function oue(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function aue(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function lue(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function uue(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function y3(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const i=p(t,["videoBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Yu(i));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function b3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],cle(n)),e}function cue(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],fle(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fue="Content-Type",due="X-Server-Timeout",hue="User-Agent",K_="x-goog-api-client",pue="1.21.0",mue=`google-genai-sdk/${pue}`,gue="v1beta1",vue="v1beta",_O=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class yue{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:gue,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:vue,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))r.searchParams.append(a,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(n))typeof s=="object"?i[r]=Object.assign(Object.assign({},i[r]),s):s!==void 0&&(i[r]=s);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const r=new AbortController,s=r.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>r.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=s}return n&&n.extraBody!==null&&bue(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await xO(r),new q_(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await xO(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return Wc(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:c}=yield Nt(r.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(c,{stream:!0});try{const g=JSON.parse(f);if("error"in g){const y=JSON.parse(JSON.stringify(g.error)),S=y.status,T=y.code,C=`got status: ${S}. ${JSON.stringify(g)}`;if(T>=400&&T<600)throw new yb({message:C,status:T})}}catch(g){if(g.name==="ApiError")throw g}a+=f;let h=a.match(_O);for(;h;){const g=h[1];try{const y=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Nt(new q_(y)),a=a.slice(h[0].length),h=a.match(_O)}catch(y){throw new Error(`exception parsing stream chunk ${g}. ${y}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=mue+" "+this.clientOptions.userAgentExtra;return e[hue]=n,e[K_]=n,e[fue]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))n.append(i,r);e.timeout&&e.timeout>0&&n.append(due,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);r.sizeBytes=String(a.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c=await this.fetchUploadUrl(r,n);return s.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let r={};n!=null&&n.httpOptions?r=n.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},a=await this.request({path:Ae("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:r});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=a==null?void 0:a.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function xO(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new yb({message:r,status:n}):new Error(r)}}function bue(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,a){const u=Object.assign({},s);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const f=a[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=i(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const r=i(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Aue="mcp_used/unknown";let Sue=!1;function A3(t){for(const e of t)if(Tue(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Sue}function S3(t){var e;const n=(e=t[K_])!==null&&e!==void 0?e:"";t[K_]=(n+` ${Aue}`).trimStart()}function Tue(t){return t!==null&&typeof t=="object"&&t instanceof jw}function Eue(t,e=100){return Wc(this,arguments,function*(){let i,r=0;for(;r<e;){const s=yield Nt(t.listTools({cursor:i}));for(const a of s.tools)yield yield Nt(a),r++;if(!s.nextCursor)break;i=s.nextCursor}})}class jw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new jw(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const s={},a=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Yh(Eue(h))),f;f=await c.next(),e=f.done,!e;u=!0){r=f.value,u=!1;const g=r;a.push(g);const y=g.name;if(s[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);s[y]=h}}catch(g){n={error:g}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Ute(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await r.callTool({name:i.name,arguments:i.args},void 0,s);n.push({functionResponse:{name:i.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Cue(t,e,n){const i=new Pte;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data);const s=hse(r);Object.assign(i,s),e(i)}class _ue{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=Mue(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(M=>{f=M}),g=e.callbacks,y=function(){f({})},S=this.apiClient,T={onopen:y,onmessage:M=>{Cue(S,g.onmessage,M)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(M){},onclose:(i=g==null?void 0:g.onclose)!==null&&i!==void 0?i:function(M){}},C=this.webSocketFactory.create(c,wue(a),T);C.connect(),await h;const _=rt(this.apiClient,e.model),x=u3({model:_}),R=G_({setup:x});return C.send(JSON.stringify(R)),new xue(C,this.apiClient)}}class xue{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=gse(e),i=l3(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=mse(e),i=G_(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=G_({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Vc.PLAY)}pause(){this.sendPlaybackControl(Vc.PAUSE)}stop(){this.sendPlaybackControl(Vc.STOP)}resetContext(){this.sendPlaybackControl(Vc.RESET_CONTEXT)}close(){this.conn.close()}}function wue(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Mue(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rue="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Pue(t,e,n){const i=new Rte;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const s=JSON.parse(r);if(t.isVertexAI()){const a=_se(s);Object.assign(i,a)}else{const a=Cse(s);Object.assign(i,a)}e(i)}class Due{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new _ue(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,s,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&A3(e.config.tools)&&S3(g);const y=Lue(g);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y);else{const G=this.apiClient.getApiKey();let ee="BidiGenerateContent",K="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ee="BidiGenerateContentConstrained",K="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${ee}?${K}=${G}`}let S=()=>{};const T=new Promise(G=>{S=G}),C=e.callbacks,_=function(){var G;(G=C==null?void 0:C.onopen)===null||G===void 0||G.call(C),S({})},x=this.apiClient,R={onopen:_,onmessage:G=>{Pue(x,C.onmessage,G)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(G){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(G){}},M=this.webSocketFactory.create(h,kue(y),R);M.connect(),await T;let U=rt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&U.startsWith("publishers/")){const G=this.apiClient.getProject(),ee=this.apiClient.getLocation();U=`projects/${G}/locations/${ee}/`+U}let k={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[l0.AUDIO]}:e.config.responseModalities=[l0.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const F=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],q=[];for(const G of F)if(this.isCallableTool(G)){const ee=G;q.push(await ee.tool())}else q.push(G);q.length>0&&(e.config.tools=q);const z={model:U,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?k=lse(this.apiClient,z):k=ase(this.apiClient,z),delete k.config,M.send(JSON.stringify(k)),new Iue(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Nue={turnComplete:!0};class Iue{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Ar(n.turns),e.isVertexAI()?i=i.map(r=>md(r)):i=i.map(r=>bb(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Rue)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Nue),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:bse(e)}:n={realtimeInput:yse(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function kue(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Lue(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wO=10;function MO(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Jc(a)){r=!0;break}if(!r)return!0;const s=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Jc(t){return"callTool"in t&&typeof t.callTool=="function"}function Oue(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Jc(r)))!==null&&i!==void 0?i:!1}function Fue(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>!Jc(r)))!==null&&i!==void 0?i:!1}function RO(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uue extends $u{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,s,a,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Oue(n)||MO(n.config))return await this.generateContentInternal(c);if(Fue(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const g=Ar(c.contents),y=(s=(r=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:wO;let S=0;for(;S<y&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const T=f.candidates[0].content,C=[];for(const _ of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(Jc(_)){const R=await _.callTool(f.functionCalls);C.push(...R)}S++,h={role:"user",parts:C},c.contents=Ar(c.contents),c.contents.push(T),c.contents.push(h),RO(c.config)&&(g.push(T),g.push(h))}return RO(c.config)&&(f.automaticFunctionCallingHistory=g),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),MO(n.config)){const i=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let s;const a=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:a.push(c);let u;return s?u={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:i.sdkHttpResponse},u}),this.list=async n=>{var i;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((i=a.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new og(ku.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const a=await Promise.all(s.map(async c=>Jc(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&A3(e.config.tools)){const c=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),S3(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,i,r;const s=new Map;for(const a of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Jc(a)){const u=a,c=await u.tool();for(const f of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,u)}}return s}async processAfcStream(e){var n,i,r;const s=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:wO;let a=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(f,h,g){var y,S;return Wc(this,arguments,function*(){for(var T,C,_,x;u<s;){a&&(u++,a=!1);const k=yield Nt(f.processParamsMaybeAddMcpUsage(g)),F=yield Nt(f.generateContentStreamInternal(k)),q=[],z=[];try{for(var R=!0,M=(C=void 0,Yh(F)),U;U=yield Nt(M.next()),T=U.done,!T;R=!0){x=U.value,R=!1;const G=x;if(yield yield Nt(G),G.candidates&&(!((y=G.candidates[0])===null||y===void 0)&&y.content)){z.push(G.candidates[0].content);for(const ee of(S=G.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(u<s&&ee.functionCall){if(!ee.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(ee.functionCall.name)){const K=yield Nt(h.get(ee.functionCall.name).callTool([ee.functionCall]));q.push(...K)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${ee.functionCall.name}`)}}}}catch(G){C={error:G}}finally{try{!R&&!T&&(_=M.return)&&(yield Nt(_.call(M)))}finally{if(C)throw C.error}}if(q.length>0){a=!0;const G=new _h;G.candidates=[{content:{role:"user",parts:q}}],yield yield Nt(G);const ee=[];ee.push(...z),ee.push({role:"user",parts:q});const K=Ar(g.contents).concat(ee);g.contents=K}else break}})})(this,c,e)}async generateContentInternal(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=TO(this.apiClient,e);return u=Ae("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=CO(h),y=new _h;return Object.assign(y,g),y})}else{const f=SO(this.apiClient,e);return u=Ae("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=EO(h),y=new _h;return Object.assign(y,g),y})}}async generateContentStreamInternal(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=TO(this.apiClient,e);return u=Ae("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(g){return Wc(this,arguments,function*(){var y,S,T,C;try{for(var _=!0,x=Yh(g),R;R=yield Nt(x.next()),y=R.done,!y;_=!0){C=R.value,_=!1;const M=C,U=CO(yield Nt(M.json()));U.sdkHttpResponse={headers:M.headers};const k=new _h;Object.assign(k,U),yield yield Nt(k)}}catch(M){S={error:M}}finally{try{!_&&!y&&(T=x.return)&&(yield Nt(T.call(x)))}finally{if(S)throw S.error}}})})}else{const f=SO(this.apiClient,e);return u=Ae("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(g){return Wc(this,arguments,function*(){var y,S,T,C;try{for(var _=!0,x=Yh(g),R;R=yield Nt(x.next()),y=R.done,!y;_=!0){C=R.value,_=!1;const M=C,U=EO(yield Nt(M.json()));U.sdkHttpResponse={headers:M.headers};const k=new _h;Object.assign(k,U),yield yield Nt(k)}}catch(M){S={error:M}}finally{try{!_&&!y&&(T=x.return)&&(yield Nt(T.call(x)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Zoe(this.apiClient,e);return u=Ae("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=tae(h),y=new tO;return Object.assign(y,g),y})}else{const f=Qoe(this.apiClient,e);return u=Ae("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=eae(h),y=new tO;return Object.assign(y,g),y})}}async generateImagesInternal(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Tae(this.apiClient,e);return u=Ae("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Cae(h),y=new nO;return Object.assign(y,g),y})}else{const f=Sae(this.apiClient,e);return u=Ae("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Eae(h),y=new nO;return Object.assign(y,g),y})}}async editImageInternal(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const u=Yoe(this.apiClient,e);return s=Ae("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),r.then(c=>{const f=Koe(c),h=new Ste;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const u=jle(this.apiClient,e);return s=Ae("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),r.then(c=>{const f=Xle(c),h=new Tte;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const u=ple(this.apiClient,e);return s=Ae("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=mle(c),h=new Ete;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const u=xle(this.apiClient,e);return s=Ae("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const f=wle(c),h=new Cte;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=qae(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>Y_(h))}else{const f=Bae(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>$_(h))}}async listInternal(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=ele(this.apiClient,e);return u=Ae("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=nle(h),y=new iO;return Object.assign(y,g),y})}else{const f=Zae(this.apiClient,e);return u=Ae("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=tle(h),y=new iO;return Object.assign(y,g),y})}}async update(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Yle(this.apiClient,e);return u=Ae("{model}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>Y_(h))}else{const f=$le(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>$_(h))}}async delete(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=qoe(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Voe(h),y=new rO;return Object.assign(y,g),y})}else{const f=Boe(this.apiClient,e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Hoe(h),y=new rO;return Object.assign(y,g),y})}}async countTokens(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Ooe(this.apiClient,e);return u=Ae("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Uoe(h),y=new sO;return Object.assign(y,g),y})}else{const f=Loe(this.apiClient,e);return u=Ae("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Foe(h),y=new sO;return Object.assign(y,g),y})}}async computeTokens(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const u=_oe(this.apiClient,e);return s=Ae("{model}:computeTokens",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),r.then(c=>{const f=xoe(c),h=new _te;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Pae(this.apiClient,e);return u=Ae("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>{const g=Mae(h),y=new u0;return Object.assign(y,g),y})}else{const f=Rae(this.apiClient,e);return u=Ae("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>{const g=wae(h),y=new u0;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bue extends $u{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=yte(e);return u=Ae("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a}else{const f=vte(e);return u=Ae("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a}}async fetchPredictVideosOperationInternal(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const u=cte(e);return s=Ae("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PO(){return{}}function que(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["name"],n),e}function Hue(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const i=p(t,["startOfSpeechSensitivity"]);i!=null&&m(e,["startOfSpeechSensitivity"],i);const r=p(t,["endOfSpeechSensitivity"]);r!=null&&m(e,["endOfSpeechSensitivity"],r);const s=p(t,["prefixPaddingMs"]);s!=null&&m(e,["prefixPaddingMs"],s);const a=p(t,["silenceDurationMs"]);return a!=null&&m(e,["silenceDurationMs"],a),e}function Vue(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function zue(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>ice(s))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function Gue(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const i=p(t,["slidingWindow"]);return i!=null&&m(e,["slidingWindow"],lce(i)),e}function $ue(t,e,n){const i={},r=p(e,["expireTime"]);n!==void 0&&r!=null&&m(n,["expireTime"],r);const s=p(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&m(n,["newSessionExpireTime"],s);const a=p(e,["uses"]);n!==void 0&&a!=null&&m(n,["uses"],a);const u=p(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&m(n,["bidiGenerateContentSetup"],tce(t,u));const c=p(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&m(n,["fieldMask"],c),i}function Yue(t,e){const n={},i=p(e,["config"]);return i!=null&&m(n,["config"],$ue(t,i,n)),n}function Kue(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function jue(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Xue(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function Wue(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const s=p(t,["parameters"]);s!=null&&m(e,["parameters"],s);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function Jue(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Kue(n)),e}function Que(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Zue(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Zue(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function ece(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const s=p(t,["temperature"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","temperature"],s);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const g=p(t,["speechConfig"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","speechConfig"],cce(Yw(g)));const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],y);const S=p(t,["systemInstruction"]);e!==void 0&&S!=null&&m(e,["setup","systemInstruction"],zue(Xn(S)));const T=p(t,["tools"]);if(e!==void 0&&T!=null){let k=hd(T);Array.isArray(k)&&(k=k.map(F=>dce(dd(F)))),m(e,["setup","tools"],k)}const C=p(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],ace(C));const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&m(e,["setup","inputAudioTranscription"],PO());const x=p(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","outputAudioTranscription"],PO());const R=p(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&m(e,["setup","realtimeInputConfig"],oce(R));const M=p(t,["contextWindowCompression"]);e!==void 0&&M!=null&&m(e,["setup","contextWindowCompression"],Gue(M));const U=p(t,["proactivity"]);return e!==void 0&&U!=null&&m(e,["setup","proactivity"],sce(U)),n}function tce(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["setup","model"],rt(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],ece(r,n)),n}function nce(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>uce(r))),m(e,["speakerVoiceConfigs"],i)}return e}function ice(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],pce(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],Vue(r));const s=p(t,["fileData"]);s!=null&&m(e,["fileData"],jue(s));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["functionCall"]);u!=null&&m(e,["functionCall"],Xue(u));const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const f=p(t,["executableCode"]);f!=null&&m(e,["executableCode"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function rce(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function sce(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function oce(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],Hue(n));const i=p(t,["activityHandling"]);i!=null&&m(e,["activityHandling"],i);const r=p(t,["turnCoverage"]);return r!=null&&m(e,["turnCoverage"],r),e}function ace(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function lce(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function uce(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const i=p(t,["voiceConfig"]);return i!=null&&m(e,["voiceConfig"],T3(i)),e}function cce(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],T3(n));const i=p(t,["multiSpeakerVoiceConfig"]);i!=null&&m(e,["multiSpeakerVoiceConfig"],nce(i));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function fce(t){const e={},n=p(t,["environment"]);n!=null&&m(e,["environment"],n);const i=p(t,["excludedPredefinedFunctions"]);return i!=null&&m(e,["excludedPredefinedFunctions"],i),e}function dce(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>Wue(f))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],Que(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],Jue(r)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],hce());const a=p(t,["computerUse"]);a!=null&&m(e,["computerUse"],fce(a));const u=p(t,["codeExecution"]);return u!=null&&m(e,["codeExecution"],u),e}function hce(){return{}}function pce(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function T3(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],rce(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mce(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(s=>`${n}.${s}`);e.push(...r)}else e.push(n)}return e.join(",")}function gce(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const s=mce(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(f=>a.includes(f)?`generationConfig.${f}`:f));const c=[];s&&c.push(s),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class vce extends $u{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Yue(this.apiClient,e);s=Ae("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=gce(u,e.config);return r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>que(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yce(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function bce(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Ace(t,e){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=p(t,["epochCount"]);e!==void 0&&r!=null&&m(e,["tuningTask","hyperparameters","epochCount"],r);const s=p(t,["learningRateMultiplier"]);if(s!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=p(t,["batchSize"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","batchSize"],a);const u=p(t,["learningRate"]);if(e!==void 0&&u!=null&&m(e,["tuningTask","hyperparameters","learningRate"],u),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function Sce(t,e){const n={},i=p(t,["validationDataset"]);e!==void 0&&i!=null&&m(e,["supervisedTuningSpec"],Bce(i,n));const r=p(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&m(e,["tunedModelDisplayName"],r);const s=p(t,["description"]);e!==void 0&&s!=null&&m(e,["description"],s);const a=p(t,["epochCount"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const u=p(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=p(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=p(t,["adapterSize"]);if(e!==void 0&&f!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=p(t,["labels"]);return e!==void 0&&h!=null&&m(e,["labels"],h),n}function Tce(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const i=p(t,["preTunedModel"]);i!=null&&m(e,["preTunedModel"],i);const r=p(t,["trainingDataset"]);r!=null&&m(e,["tuningTask","trainingData"],Lce(r));const s=p(t,["config"]);return s!=null&&Ace(s,e),e}function Ece(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const i=p(t,["preTunedModel"]);i!=null&&m(e,["preTunedModel"],i);const r=p(t,["trainingDataset"]);r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],Oce(r,e));const s=p(t,["config"]);return s!=null&&Sce(s,e),e}function Cce(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function _ce(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function xce(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const s=p(t,["filter"]);return e!==void 0&&s!=null&&m(e,["_query","filter"],s),n}function wce(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const s=p(t,["filter"]);return e!==void 0&&s!=null&&m(e,["_query","filter"],s),n}function Mce(t){const e={},n=p(t,["config"]);return n!=null&&xce(n,e),e}function Rce(t){const e={},n=p(t,["config"]);return n!=null&&wce(n,e),e}function Pce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=p(t,["tunedModels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>E3(a))),m(e,["tuningJobs"],s)}return e}function Dce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const r=p(t,["tuningJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>j_(a))),m(e,["tuningJobs"],s)}return e}function Nce(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const i=p(t,["epoch"]);i!=null&&m(e,["epoch"],i);const r=p(t,["step"]);r!=null&&m(e,["step"],r);const s=p(t,["endpoint"]);return s!=null&&m(e,["endpoint"],s),e}function Ice(t){const e={},n=p(t,["name"]);n!=null&&m(e,["model"],n);const i=p(t,["name"]);return i!=null&&m(e,["endpoint"],i),e}function kce(t){const e={},n=p(t,["model"]);n!=null&&m(e,["model"],n);const i=p(t,["endpoint"]);i!=null&&m(e,["endpoint"],i);const r=p(t,["checkpoints"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Nce(a))),m(e,["checkpoints"],s)}return e}function Lce(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Fce(r))),m(e,["examples","examples"],i)}return e}function Oce(t,e){const n={},i=p(t,["gcsUri"]);e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i);const r=p(t,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r),p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Fce(t){const e={},n=p(t,["textInput"]);n!=null&&m(e,["textInput"],n);const i=p(t,["output"]);return i!=null&&m(e,["output"],i),e}function E3(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const r=p(t,["state"]);r!=null&&m(e,["state"],XH(r));const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const a=p(t,["tuningTask","startTime"]);a!=null&&m(e,["startTime"],a);const u=p(t,["tuningTask","completeTime"]);u!=null&&m(e,["endTime"],u);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const f=p(t,["description"]);f!=null&&m(e,["description"],f);const h=p(t,["baseModel"]);h!=null&&m(e,["baseModel"],h);const g=p(t,["_self"]);g!=null&&m(e,["tunedModel"],Ice(g));const y=p(t,["customBaseModel"]);y!=null&&m(e,["customBaseModel"],y);const S=p(t,["experiment"]);S!=null&&m(e,["experiment"],S);const T=p(t,["labels"]);T!=null&&m(e,["labels"],T);const C=p(t,["outputUri"]);C!=null&&m(e,["outputUri"],C);const _=p(t,["pipelineJob"]);_!=null&&m(e,["pipelineJob"],_);const x=p(t,["serviceAccount"]);x!=null&&m(e,["serviceAccount"],x);const R=p(t,["tunedModelDisplayName"]);return R!=null&&m(e,["tunedModelDisplayName"],R),e}function j_(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const r=p(t,["state"]);r!=null&&m(e,["state"],XH(r));const s=p(t,["createTime"]);s!=null&&m(e,["createTime"],s);const a=p(t,["startTime"]);a!=null&&m(e,["startTime"],a);const u=p(t,["endTime"]);u!=null&&m(e,["endTime"],u);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const f=p(t,["error"]);f!=null&&m(e,["error"],f);const h=p(t,["description"]);h!=null&&m(e,["description"],h);const g=p(t,["baseModel"]);g!=null&&m(e,["baseModel"],g);const y=p(t,["tunedModel"]);y!=null&&m(e,["tunedModel"],kce(y));const S=p(t,["preTunedModel"]);S!=null&&m(e,["preTunedModel"],S);const T=p(t,["supervisedTuningSpec"]);T!=null&&m(e,["supervisedTuningSpec"],T);const C=p(t,["tuningDataStats"]);C!=null&&m(e,["tuningDataStats"],C);const _=p(t,["encryptionSpec"]);_!=null&&m(e,["encryptionSpec"],_);const x=p(t,["partnerModelTuningSpec"]);x!=null&&m(e,["partnerModelTuningSpec"],x);const R=p(t,["customBaseModel"]);R!=null&&m(e,["customBaseModel"],R);const M=p(t,["experiment"]);M!=null&&m(e,["experiment"],M);const U=p(t,["labels"]);U!=null&&m(e,["labels"],U);const k=p(t,["outputUri"]);k!=null&&m(e,["outputUri"],k);const F=p(t,["pipelineJob"]);F!=null&&m(e,["pipelineJob"],F);const q=p(t,["serviceAccount"]);q!=null&&m(e,["serviceAccount"],q);const z=p(t,["tunedModelDisplayName"]);return z!=null&&m(e,["tunedModelDisplayName"],z),e}function Uce(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const s=p(t,["done"]);s!=null&&m(e,["done"],s);const a=p(t,["error"]);return a!=null&&m(e,["error"],a),e}function Bce(t,e){const n={},i=p(t,["gcsUri"]);i!=null&&m(n,["validationDatasetUri"],i);const r=p(t,["vertexDatasetResource"]);return e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qce extends $u{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new og(ku.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:r});return s.baseModel=void 0,await this.tuneInternal(s)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),s=await this.tuneMldevInternal(r);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:B_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=_ce(e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>j_(h))}else{const f=Cce(e);return u=Ae("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>E3(h))}}async listInternal(e){var n,i,r,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Rce(e);return u=Ae("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Dce(h),y=new oO;return Object.assign(y,g),y})}else{const f=Mce(e);return u=Ae("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:h.headers},y})),a.then(h=>{const g=Pce(h),y=new oO;return Object.assign(y,g),y})}}async cancel(e){var n,i,r,s;let a="",u={};if(this.apiClient.isVertexAI()){const c=bce(e);a=Ae("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=yce(e);a=Ae("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI()){const u=Ece(e);return s=Ae("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),r.then(c=>j_(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tce(e);return s=Ae("tunedModels",u._url),a=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),r.then(c=>Uce(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hce{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Vce=1024*1024*8,zce=3,Gce=1e3,$ce=2,RE="x-goog-upload-status";async function Yce(t,e,n){var i,r,s;let a=0,u=0,c=new q_(new Response),f="upload";for(a=t.size;u<a;){const g=Math.min(Vce,a-u),y=t.slice(u,u+g);u+g>=a&&(f+=", finalize");let S=0,T=Gce;for(;S<zce&&(c=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(g)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[RE]));)S++,await jce(T),T=T*$ce;if(u+=g,((r=c==null?void 0:c.headers)===null||r===void 0?void 0:r[RE])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(c==null?void 0:c.json());if(((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[RE])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function Kce(t){return{size:t.size,type:t.type}}function jce(t){return new Promise(e=>setTimeout(e,t))}class Xce{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Yce(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Kce(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wce{create(e,n,i){return new Jce(e,n,i)}}class Jce{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DO="x-goog-api-key";class Qce{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(DO)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(DO,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zce="gl-node/";class efe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=ute(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new Qce(this.apiKey);this.apiClient=new yue({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Zce+"web",uploader:new Xce,downloader:new Hce}),this.models=new Uue(this.apiClient),this.live=new Due(this.apiClient,r,new Wce),this.batches=new eie(this.apiClient),this.chats=new lre(this.models,this.apiClient),this.caches=new sre(this.apiClient),this.files=new Sre(this.apiClient),this.operations=new Bue(this.apiClient),this.authTokens=new vce(this.apiClient),this.tunings=new qce(this.apiClient)}}IF.workerSrc="https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs";const tfe="StudyAI-DB",nfe=1;class ife{constructor(){this.dbPromise=ete(tfe,nfe,{upgrade(e){e.objectStoreNames.contains("documents")||e.createObjectStore("documents",{keyPath:"id"}),e.objectStoreNames.contains("folders")||e.createObjectStore("folders",{keyPath:"id"}),e.objectStoreNames.contains("decks")||e.createObjectStore("decks",{keyPath:"id"}).createIndex("folderId","folderId")}})}async getStore(e,n="readonly"){return(await this.dbPromise).transaction(e,n).objectStore(e)}async addDocument(e){await(await this.getStore("documents","readwrite")).put(e)}async getDocuments(){return(await this.getStore("documents")).getAll()}async getDocument(e){return(await this.getStore("documents")).get(e)}async deleteDocument(e){await(await this.getStore("documents","readwrite")).delete(e)}async addFolder(e){await(await this.getStore("folders","readwrite")).put(e)}async getFolders(){return(await this.getStore("folders")).getAll()}async deleteFolder(e){const n=(await this.dbPromise).transaction(["folders","decks"],"readwrite");await n.objectStore("folders").delete(e);let r=await n.objectStore("decks").index("folderId").openCursor(e);for(;r;)await n.objectStore("decks").delete(r.primaryKey),r=await r.continue();await n.done}async updateFolder(e){await(await this.getStore("folders","readwrite")).put(e)}async addDeck(e){await(await this.getStore("decks","readwrite")).put(e)}async getDecksByFolder(e){return(await this.getStore("decks")).index("folderId").getAll(e)}async getDeck(e){return(await this.getStore("decks")).get(e)}async updateDeck(e){await(await this.getStore("decks","readwrite")).put(e)}async deleteDeck(e){await(await this.getStore("decks","readwrite")).delete(e)}async getAll(e){return(await this.getStore(e)).getAll()}}const fi=new ife;class rfe{constructor(){this.ai=new efe({apiKey:"AIzaSyCyYzdVyh9APwAZ24UhbpaZMdwfUTPUCZE"})}getFlashcardSchema(){return{type:Ht.OBJECT,properties:{question:{type:Ht.STRING},answer:{type:Ht.STRING}},required:["question","answer"]}}getQuizSchema(){return{type:Ht.OBJECT,properties:{question:{type:Ht.STRING},options:{type:Ht.ARRAY,items:{type:Ht.STRING},minItems:4,maxItems:4},correctAnswer:{type:Ht.INTEGER,description:"Index (0-3) of the correct answer in the options array."}},required:["question","options","correctAnswer"]}}async generateStudyMaterial(e,n,i){const{type:r,quantity:s,difficulty:a,answerLength:u,focus:c,topic:f}=e,h=r===_t.Flashcard,g=h?"flashcards":"preguntas de quiz de opción múltiple",y={[jc.Concise]:"Las respuestas deben ser muy concisas, idealmente una sola frase o término clave.",[jc.Normal]:"Las respuestas deben ser una frase o dos, claras y directas.",[jc.Detailed]:"Las respuestas deben ser detalladas, proporcionando una explicación completa en uno o dos párrafos cortos."};let S=`Eres un educador experto creando materiales de estudio en español. Todo el contenido (preguntas, respuestas y etiquetas) debe estar en español.
Crea un objeto JSON que contenga dos propiedades: "cards" y "tags".
- "cards" debe ser un array de ${s} ${g} únicos sobre el tema de "${f}".
- "tags" debe ser un array de 3 a 5 strings (palabras clave) relevantes que resuman el contenido de las tarjetas generadas.

Detalles para las tarjetas:
- Las preguntas deben ser directas y claras.
- El nivel de dificultad debe ser ${a}.
${c?`- El contenido debe centrarse en estos aspectos específicos: ${c}.`:""}
${h?`- ${y[u]}`:""}
`;if(n&&(S+=`Basa el contenido principalmente en el siguiente texto:
---
${n}
---
`),i.length>0){const M=i.map(U=>U.question).join("; ");S+=`
Fundamental: NO DEBES crear preguntas que sean duplicados o ligeras variaciones de las siguientes preguntas ya existentes: ${M}`}const T=h?this.getFlashcardSchema():this.getQuizSchema(),_=(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:S,config:{responseMimeType:"application/json",responseSchema:{type:Ht.OBJECT,properties:{cards:{type:Ht.ARRAY,items:T},tags:{type:Ht.ARRAY,items:{type:Ht.STRING}}},required:["cards","tags"]}}})).text.trim(),x=JSON.parse(_);return{cards:x.cards.map(M=>({id:self.crypto.randomUUID(),type:r,...M,srs:$r.getInitialSrsData()})),tags:x.tags}}async evaluateAnswer(e,n,i){const r=`You are a helpful study assistant. A student was asked the following question:
Question: "${e}"
The expected correct answer is: "${n}"
The student provided this answer: "${i}"

Evaluate if the student's answer is conceptually correct, even if the wording is different.
Provide a short, one-sentence feedback in Spanish explaining why it's correct, partially correct, or what's missing.
Respond ONLY in JSON format with a 'correct' (boolean) and 'feedback' (string) field. The 'correct' field should be true if the student's answer is conceptually the same as the correct answer.`,a=(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json",responseSchema:{type:Ht.OBJECT,properties:{correct:{type:Ht.BOOLEAN},feedback:{type:Ht.STRING}},required:["correct","feedback"]}}})).text.trim();return JSON.parse(a)}}const X_=new rfe;class sfe{getInitialSrsData(){return{stage:Dt.New,interval:0,easeFactor:2.5,nextReview:Date.now(),lapses:0}}updateSrsData(e,n){let{srs:i}=e;return n<yo.Good?(i.lapses+=1,i.interval=1/1440,i.stage=Dt.Learning):i.stage===Dt.New||i.stage===Dt.Learning?(n===yo.Good&&(i.interval=1),n===yo.Easy&&(i.interval=4),i.stage=Dt.Young):(i.stage===Dt.Young||i.stage===Dt.Mature)&&(i.interval=i.interval*i.easeFactor,i.interval>365&&(i.interval=365),i.interval>21&&(i.stage=Dt.Mature)),i.easeFactor=i.easeFactor+(.1-(2-n)*(.08+(2-n)*.02)),i.easeFactor<1.3&&(i.easeFactor=1.3),i.nextReview=Date.now()+i.interval*24*60*60*1e3,{...i}}calculateDeckMastery(e){if(!e.cards||e.cards.length===0)return 0;const n=e.cards.reduce((i,r)=>{const s=r.srs.interval,a=Math.min(100,Math.log2(s+1)*(100/Math.log2(91)));return i+a},0);return Math.round(n/e.cards.length)}getStageCounts(e){const n={[Dt.New]:0,[Dt.Learning]:0,[Dt.Review]:0,[Dt.Young]:0,[Dt.Mature]:0},i=Date.now();return e.cards.forEach(r=>{r.srs.nextReview<=i&&r.srs.stage!==Dt.New?n[Dt.Review]++:n[r.srs.stage]++}),n}getStudyQueue(e){const n=Date.now(),i=e.cards.filter(u=>u.srs.nextReview<=n),r=i.filter(u=>u.srs.stage===Dt.Learning),s=i.filter(u=>u.srs.stage!==Dt.Learning&&u.srs.stage!==Dt.New),a=i.filter(u=>u.srs.stage===Dt.New);return s.sort((u,c)=>u.srs.interval-c.srs.interval),[...r,...s,...a].slice(0,20)}}const $r=new sfe;class ofe{async readFileAsText(e,n){return new Promise((i,r)=>{const s=new FileReader;e.type==="text/plain"?(s.onload=a=>{var u;i((u=a.target)==null?void 0:u.result)},s.onerror=a=>{r(a)},s.readAsText(e)):e.type==="application/pdf"?(s.onload=async a=>{var u;try{const c=(u=a.target)==null?void 0:u.result;if(!c)return r(new Error("No se pudo leer el archivo como ArrayBuffer."));const f=await kF({data:c}).promise;let h="";const g=n!=null&&n.start?Math.max(1,n.start):1,y=n!=null&&n.end?Math.min(f.numPages,n.end):f.numPages;if(g>y)return r(new Error("La página de inicio no puede ser mayor que la página final."));for(let S=g;S<=y;S++){const _=(await(await f.getPage(S)).getTextContent()).items.map(x=>"str"in x?x.str:"").join(" ");h+=_+`

`}i(h)}catch(c){console.error("Error al procesar el PDF:",c),r(new Error("Error al procesar el PDF. Asegúrate de que el archivo no esté dañado."))}},s.onerror=a=>{r(a)},s.readAsArrayBuffer(e)):r(new Error(`Tipo de archivo ${e.type} no soportado. Por favor, usa archivos .txt o .pdf.`))})}async parseDeckFromFile(e,n){return new Promise((i,r)=>{const s=new FileReader;s.onload=a=>{var h;const u=(h=a.target)==null?void 0:h.result;if(u===null){r(new Error("File content is null."));return}const c=u.split(/\r?\n/).filter(g=>g.trim()!==""),f=[];try{c.forEach((g,y)=>{const S=g.split("::").map(T=>T.trim());if(n===_t.Flashcard){if(S.length!==2)throw new Error(`Error en la línea ${y+1}: Se esperaban 2 partes (pregunta::respuesta), pero se encontraron ${S.length}.`);f.push({type:_t.Flashcard,question:S[0],answer:S[1]})}else if(n===_t.Quiz){if(S.length!==6)throw new Error(`Error en la línea ${y+1}: Se esperaban 6 partes (pregunta::opc1::opc2::opc3::opc4::índice_correcto), pero se encontraron ${S.length}.`);const T=parseInt(S[5],10);if(isNaN(T)||T<0||T>3)throw new Error(`Error en la línea ${y+1}: El índice de la respuesta correcta ('${S[5]}') no es un número válido entre 0 y 3.`);f.push({type:_t.Quiz,question:S[0],options:S.slice(1,5),correctAnswer:T})}}),i(f)}catch(g){r(g)}},s.onerror=a=>r(a),s.readAsText(e)})}}const NO=new ofe;IF.workerSrc="https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs";const afe=t=>{const{folders:e,decks:n,documents:i,activeFolderId:r,view:s,filterText:a,onFilterTextChange:u,onFolderSelect:c,onDeckSelect:f,onDashboardSelect:h,onNewFolder:g,onEditFolder:y,onDeleteFolder:S,onNewDeck:T,onEditDeck:C,onDeleteDeck:_,onUploadDocument:x,onViewDocuments:R,onImportDeck:M,darkMode:U,toggleDarkMode:k}=t,F=O.useMemo(()=>{if(!a)return n;const z=a.toLowerCase();return n.filter(G=>{var ee;return G.name.toLowerCase().includes(z)||((ee=G.tags)==null?void 0:ee.some(K=>K.toLowerCase().includes(z)))})},[n,a]),q=z=>F.filter(G=>G.folderId===z);return I.jsxs("aside",{className:"w-72 bg-white dark:bg-gray-800 border-r dark:border-gray-700 flex flex-col h-full",children:[I.jsxs("div",{className:"p-4 border-b dark:border-gray-700 flex justify-between items-center",children:[I.jsx("h1",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:"StudyAI"}),I.jsx(Ge,{variant:"ghost",size:"sm",onClick:k,children:U?tt.sun:tt.moon})]}),I.jsxs("nav",{className:"flex-1 p-2 space-y-2 overflow-y-auto",children:[I.jsxs(Ge,{variant:"ghost",className:"w-full justify-start gap-2",onClick:h,children:[tt.dashboard,I.jsx("span",{children:"Panel"})]}),I.jsxs(Ge,{variant:"secondary",className:"w-full",onClick:g,children:[tt.plus,I.jsx("span",{children:"Nueva Carpeta"})]}),I.jsx("div",{className:"px-2 pt-2",children:I.jsx(Gi,{placeholder:"Filtrar mazos...",value:a,onChange:z=>u(z.target.value)})}),I.jsxs("div",{className:"mt-4",children:[I.jsx("h2",{className:"px-2 text-xs font-semibold tracking-wider text-gray-500 uppercase",children:"Carpetas"}),I.jsx("div",{className:"space-y-1 mt-1",children:e.map(z=>{const G=q(z.id);return a&&G.length===0?null:I.jsxs("div",{children:[I.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md cursor-pointer group ${r===z.id?"bg-primary-100 dark:bg-primary-900/50":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>c(z.id),children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{style:{color:z.color},children:tt.folder}),I.jsx("span",{className:"font-semibold text-sm",children:z.name})]}),I.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[I.jsx(Ge,{variant:"ghost",size:"sm",onClick:ee=>{ee.stopPropagation(),T(z.id)},children:tt.plus}),I.jsxs(I_,{trigger:I.jsx(Ge,{variant:"ghost",size:"sm",children:tt.dotsVertical}),children:[I.jsxs(zh,{onClick:()=>y(z),children:[tt.edit," Editar"]}),I.jsxs(zh,{onClick:()=>S(z),className:"text-red-500",children:[tt.trash," Eliminar"]})]}),I.jsx("span",{className:`transition-transform duration-300 ${r===z.id?"rotate-90":""}`,children:tt.chevronRight})]})]}),r===z.id&&I.jsx("div",{className:"ml-4 mt-1 space-y-1",children:G.map(ee=>I.jsxs("div",{onClick:()=>f(ee.id),className:`flex justify-between items-center p-2 rounded-md cursor-pointer text-sm group ${s.type==="deck"&&s.deckId===ee.id?"bg-gray-200 dark:bg-gray-700":"hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:[I.jsxs("div",{className:"flex items-center gap-2 truncate",children:[I.jsx("span",{children:ee.type===_t.Quiz?tt.quiz:tt.deck}),I.jsx("span",{className:"truncate",children:ee.name})]}),I.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:I.jsxs(I_,{trigger:I.jsx(Ge,{variant:"ghost",size:"sm",children:tt.dotsVertical}),children:[I.jsxs(zh,{onClick:()=>C(ee),children:[tt.edit," Editar Nombre"]}),I.jsxs(zh,{onClick:()=>_(ee),className:"text-red-500",children:[tt.trash," Eliminar"]})]})})]},ee.id))})]},z.id)})})]})]}),I.jsxs("div",{className:"p-2 border-t dark:border-gray-700 space-y-2",children:[I.jsxs(Ge,{variant:"secondary",className:"w-full",onClick:M,children:[tt.import,I.jsx("span",{children:"Importar Mazo"})]}),I.jsxs(Ge,{variant:"secondary",className:"w-full",onClick:x,children:[tt.upload,I.jsx("span",{children:"Subir Documento"})]}),I.jsxs(Ge,{variant:"secondary",className:"w-full",onClick:R,children:[tt.document,I.jsxs("span",{children:["Mis Documentos (",i.length,")"]})]})]})]})},IO=({decks:t,setView:e})=>{const{totalFlashcards:n,totalQuizQuestions:i}=O.useMemo(()=>t.reduce((s,a)=>(a.type===_t.Flashcard?s.totalFlashcards+=a.cards.length:a.type===_t.Quiz&&(s.totalQuizQuestions+=a.cards.length),s),{totalFlashcards:0,totalQuizQuestions:0}),[t]),r=O.useMemo(()=>{if(t.length===0)return 0;const s=t.reduce((a,u)=>a+(u.stats.mastery||0),0);return Math.round(s/t.length)},[t]);return I.jsxs("div",{children:[I.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Panel de Control"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[I.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[I.jsx("h2",{className:"text-lg font-semibold text-gray-500 dark:text-gray-400",children:"Total de Mazos"}),I.jsx("p",{className:"text-4xl font-bold mt-2",children:t.length})]}),I.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[I.jsx("h2",{className:"text-lg font-semibold text-gray-500 dark:text-gray-400",children:"Dominio Promedio"}),I.jsxs("p",{className:"text-4xl font-bold mt-2",children:[r,"%"]})]}),I.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[I.jsx("h2",{className:"text-lg font-semibold text-gray-500 dark:text-gray-400",children:"Total Flashcards"}),I.jsx("p",{className:"text-4xl font-bold mt-2",children:n})]}),I.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[I.jsx("h2",{className:"text-lg font-semibold text-gray-500 dark:text-gray-400",children:"Total Preguntas (Quiz)"}),I.jsx("p",{className:"text-4xl font-bold mt-2",children:i})]})]}),I.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[I.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Mazos Recientes"}),t.slice(0,5).map(s=>I.jsxs("div",{onClick:()=>e({type:"deck",deckId:s.id}),className:"flex justify-between items-center p-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",children:[I.jsxs("div",{children:[I.jsx("p",{className:"font-semibold",children:s.name}),I.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.cards.length," tarjetas"]})]}),I.jsx("div",{className:"w-32",children:I.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:I.jsx("div",{className:"bg-primary-600 h-2.5 rounded-full",style:{width:`${s.stats.mastery}%`}})})})]},s.id))]})]})},lfe=({deck:t,updateDeck:e,setView:n,onDeleteCard:i,onExportDeck:r})=>{var h;const[s,a]=O.useState(""),u=O.useMemo(()=>$r.getStageCounts(t),[t]),c=O.useMemo(()=>t.cards.filter(g=>g.srs.nextReview<=Date.now()).length,[t]),f=O.useMemo(()=>{if(!s)return t.cards;const g=s.toLowerCase();return t.cards.filter(y=>{if(!y)return!1;const S=y.question.toLowerCase().includes(g);let T=!1;return y.type===_t.Flashcard?T=y.answer.toLowerCase().includes(g):T=y.options.some(C=>C.toLowerCase().includes(g)),S||T})},[t.cards,s]);return I.jsxs("div",{children:[I.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-2 gap-2",children:[I.jsx("h1",{className:"text-3xl font-bold truncate",children:t.name}),I.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t.type===_t.Flashcard?I.jsxs(I.Fragment,{children:[I.jsxs(Ge,{onClick:()=>n({type:"study",deckId:t.id,studyMode:"test"}),disabled:c===0,variant:"secondary",size:"sm",children:[tt.edit," Modo Examen"]}),I.jsxs(Ge,{onClick:()=>n({type:"study",deckId:t.id,studyMode:"classic"}),disabled:c===0,size:"sm",children:[tt.brain," Repaso (",c,")"]})]}):I.jsxs(Ge,{onClick:()=>n({type:"study",deckId:t.id}),disabled:c===0,size:"sm",children:[tt.brain," Empezar Quiz (",c,")"]}),I.jsx(I_,{trigger:I.jsx(Ge,{variant:"ghost",size:"sm",children:tt.dotsVertical}),children:I.jsxs(zh,{onClick:()=>r(t),children:[tt.export," Exportar a .txt"]})})]})]}),I.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:(h=t.tags)==null?void 0:h.map(g=>I.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 text-xs font-semibold px-2.5 py-0.5 rounded-full",children:g},g))}),I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[I.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[I.jsx("h2",{className:"text-xl font-bold mb-4",children:"Estadísticas"}),I.jsxs("p",{children:["Dominio: ",t.stats.mastery,"%"]}),I.jsx("div",{className:"h-64 mt-4",children:I.jsx(Yee,{data:u})})]}),I.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[I.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2",children:[I.jsxs("h2",{className:"text-xl font-bold",children:["Tarjetas (",`${f.length} de ${t.cards.length}`,")"]}),I.jsx(Gi,{placeholder:"Buscar pregunta...",value:s,onChange:g=>a(g.target.value),className:"w-full sm:max-w-xs"})]}),I.jsx("div",{className:"max-h-80 overflow-y-auto pr-2",children:f.map((g,y)=>g?I.jsxs("div",{className:"p-3 border-b dark:border-gray-700 flex justify-between items-start group",children:[I.jsxs("div",{className:"flex-1 mr-2 text-sm",children:[I.jsxs("p",{className:"font-semibold",children:[y+1,". ",I.jsx(CE,{text:g.question,highlight:s})]}),g.type===_t.Flashcard&&I.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["R: ",I.jsx(CE,{text:g.answer,highlight:s})]}),g.type===_t.Quiz&&I.jsx("ul",{className:"list-disc pl-5 mt-1",children:g.options.map((S,T)=>I.jsx("li",{className:`${T===g.correctAnswer?"font-bold text-green-600":""}`,children:I.jsx(CE,{text:S,highlight:s})},T))})]}),I.jsx(Ge,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>i(g.id),children:tt.trash})]},g.id):null)})]})]})]})},ufe=({deck:t,updateDeck:e,setView:n,mode:i})=>{const[r,s]=O.useState(()=>$r.getStudyQueue(t)),[a,u]=O.useState(0),[c,f]=O.useState(!1),[h,g]=O.useState(""),[y,S]=O.useState(null),[T,C]=O.useState(!1),[_,x]=O.useState(null);O.useEffect(()=>{const k=$r.getStudyQueue(t);s(k)},[t.id]);const R=async k=>{if(k!==null){const F=r[a];if(!F)return;const q=$r.updateSrsData(F,k),z=t.cards.findIndex(G=>G.id===F.id);if(z>-1){const G=[...t.cards];G[z]={...F,srs:q};const ee={...t,cards:G};ee.stats.mastery=$r.calculateDeckMastery(ee),await e(ee)}}a<r.length-1?(u(a+1),f(!1),g(""),S(null),x(null)):n({type:"deck",deckId:t.id})},M=async()=>{const k=r[a];C(!0),S(null);try{const F=await X_.evaluateAnswer(k.question,k.answer,h);S({correct:F.correct,text:F.feedback})}catch(F){console.error("Evaluation failed:",F),S({correct:!1,text:"No se pudo evaluar la respuesta."})}finally{C(!1),f(!0)}};if(r.length===0)return I.jsxs("div",{className:"text-center",children:[I.jsx("p",{children:"¡Felicidades! No tienes tarjetas para repasar en este mazo."}),I.jsx(Ge,{onClick:()=>n({type:"deck",deckId:t.id}),className:"mt-4",children:"Volver al Mazo"})]});const U=r[a];return U?I.jsxs("div",{className:"max-w-2xl mx-auto relative",children:[I.jsx("div",{className:"absolute top-0 right-0 z-10 -mt-4 -mr-4 md:mt-0 md:mr-0",children:I.jsx(Ge,{variant:"ghost",size:"md",onClick:()=>n({type:"deck",deckId:t.id}),children:tt.x})}),I.jsxs("div",{className:"flex justify-between items-baseline",children:[I.jsx("h1",{className:"text-2xl font-bold mb-4",children:t.name}),I.jsxs("p",{className:"text-sm text-gray-500",children:[a+1," / ",r.length]})]}),I.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-lg min-h-[20rem] flex flex-col justify-center items-center text-center",children:[I.jsx("p",{className:"text-2xl font-semibold",children:U.question}),c&&U.type===_t.Flashcard&&I.jsx("p",{className:"text-xl mt-4 text-primary-600 dark:text-primary-400",children:U.answer}),c&&U.type===_t.Quiz&&I.jsx("div",{className:"mt-4 space-y-2",children:U.options.map((k,F)=>I.jsx("p",{className:`p-2 rounded ${F===U.correctAnswer?"bg-green-200 dark:bg-green-800":""}`,children:k},F))})]}),U.type===_t.Flashcard&&!c&&I.jsx("div",{className:"mt-4",children:i==="test"?I.jsxs(I.Fragment,{children:[I.jsx(Gee,{value:h,onChange:k=>g(k.target.value),placeholder:"Escribe tu respuesta...",rows:3}),I.jsx("div",{className:"flex gap-2 mt-2",children:I.jsx(Ge,{onClick:M,disabled:T||!h,children:T?I.jsx(a0,{size:"sm"}):"Evaluar"})})]}):I.jsx("div",{className:"flex justify-center mt-2",children:I.jsx(Ge,{variant:"secondary",onClick:()=>f(!0),children:"Mostrar Respuesta"})})}),c&&y&&I.jsxs("div",{className:`mt-4 p-4 rounded-lg ${y.correct?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:[I.jsx("p",{className:"font-semibold",children:y.correct?"¡Correcto!":"Necesita mejorar."}),I.jsx("p",{children:y.text})]}),c?U.type===_t.Quiz?I.jsx("div",{className:"mt-6 flex justify-center",children:I.jsx(Ge,{onClick:()=>R(_!=null&&_.isCorrect?yo.Good:yo.Hard),children:"Siguiente"})}):I.jsxs("div",{className:"mt-6 text-center space-y-2",children:[I.jsx("p",{className:"font-semibold",children:"¿Qué tan bien recordaste la respuesta?"}),I.jsxs("div",{className:"flex justify-center gap-4",children:[I.jsx(Ge,{variant:"danger",onClick:()=>R(yo.Hard),children:"Difícil"}),I.jsx(Ge,{variant:"secondary",onClick:()=>R(yo.Good),children:"Bien"}),I.jsx(Ge,{variant:"primary",onClick:()=>R(yo.Easy),children:"Fácil"})]})]}):U.type===_t.Quiz?I.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:U.options.map((k,F)=>{let q="";if(_){const z=U.correctAnswer;F===_.selectedIndex?q=_.isCorrect?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white":F===z&&(q="bg-green-500 hover:bg-green-600 text-white")}return I.jsx(Ge,{variant:"secondary",className:`justify-start p-4 h-full text-left ${q}`,onClick:()=>{const z=F===U.correctAnswer;x({selectedIndex:F,isCorrect:z}),f(!0)},disabled:!!_,children:k},F)})}):null]}):(n({type:"deck",deckId:t.id}),null)},cfe=({isOpen:t,onClose:e,onSave:n,folder:i})=>{const[r,s]=O.useState(""),[a,u]=O.useState("");O.useEffect(()=>{t&&(s((i==null?void 0:i.name)??""),u((i==null?void 0:i.color)??"#3b82f6"))},[t,i]);const c=()=>{r.trim()&&n({name:r,color:a},i==null?void 0:i.id)},f=h=>{h.key==="Enter"&&c()};return I.jsxs(Gu,{isOpen:t,onClose:e,title:i?"Editar Carpeta":"Nueva Carpeta",children:[I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx(bo,{htmlFor:"folder-name",children:"Nombre"}),I.jsx(Gi,{id:"folder-name",value:r,onChange:h=>s(h.target.value),placeholder:"Ej. Biología Celular",onKeyDown:f})]}),I.jsxs("div",{children:[I.jsx(bo,{children:"Color"}),I.jsx($ee,{selectedColor:a,onSelect:u})]})]}),I.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[I.jsx(Ge,{variant:"secondary",onClick:e,children:"Cancelar"}),I.jsx(Ge,{onClick:c,children:"Guardar"})]})]})},ffe=({isOpen:t,onClose:e,onSave:n,deck:i})=>{const[r,s]=O.useState("");O.useEffect(()=>{t&&s((i==null?void 0:i.name)??"")},[t,i]);const a=()=>{r.trim()&&i&&n(i.id,r.trim())},u=c=>{c.key==="Enter"&&a()};return I.jsxs(Gu,{isOpen:t,onClose:e,title:"Editar Nombre del Mazo",children:[I.jsx(Gi,{value:r,onChange:c=>s(c.target.value),placeholder:"Nuevo nombre del mazo",onKeyDown:u}),I.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[I.jsx(Ge,{variant:"secondary",onClick:e,children:"Cancelar"}),I.jsx(Ge,{onClick:a,children:"Guardar"})]})]})},dfe=({isOpen:t,onClose:e,onGenerate:n,documents:i,decks:r,folderId:s})=>{const[a,u]=O.useState({source:Tl.Topic,topic:"",type:_t.Flashcard,difficulty:N_.Intermediate,quantity:10,answerLength:jc.Normal,focus:""}),[c,f]=O.useState([]),[h,g]=O.useState(""),[y,S]=O.useState("new"),[T,C]=O.useState(""),_=O.useMemo(()=>r.filter(M=>M.type===a.type),[r,a.type]);O.useEffect(()=>{C("")},[a.type]);const x=()=>{const M={...a,documentIds:c};if(y==="new"){if(!s||!h)return;n(M,{folderId:s,deckName:h})}else{if(!T)return;n(M,{existingDeckId:T})}},R=y==="new"&&(!s||!h.trim())||y==="existing"&&!T||a.source===Tl.Document&&c.length===0;return I.jsxs(Gu,{isOpen:t,onClose:e,title:"Generar Mazo con IA",size:"lg",children:[I.jsxs("div",{className:"space-y-4",children:[I.jsxs(ma,{label:"Destino",value:y,onChange:M=>S(M.target.value),children:[I.jsx("option",{value:"new",children:"Crear Mazo Nuevo"}),I.jsx("option",{value:"existing",children:"Añadir a Mazo Existente"})]}),y==="new"?I.jsx(Gi,{placeholder:"Nombre del Mazo",value:h,onChange:M=>g(M.target.value)}):I.jsxs(ma,{label:"Mazo Existente",value:T,onChange:M=>C(M.target.value),children:[I.jsx("option",{value:"",disabled:!0,children:"Selecciona un mazo..."}),_.map(M=>I.jsx("option",{value:M.id,children:M.name},M.id))]}),I.jsx("hr",{className:"dark:border-gray-600"}),I.jsxs(ma,{label:"Fuente",value:a.source,onChange:M=>u({...a,source:M.target.value}),children:[I.jsx("option",{value:Tl.Topic,children:"Desde un Tema"}),I.jsx("option",{value:Tl.Document,children:"Desde un Documento"})]}),a.source===Tl.Topic?I.jsx(Gi,{placeholder:"Ej. La Mitocondria",value:a.topic,onChange:M=>u({...a,topic:M.target.value})}):I.jsxs("div",{children:[I.jsx(bo,{children:"Documentos"}),I.jsx("div",{className:"max-h-32 overflow-y-auto border rounded-md p-2 dark:border-gray-600",children:i.map(M=>I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("input",{type:"checkbox",id:`doc-${M.id}`,checked:c.includes(M.id),onChange:U=>{U.target.checked?f([...c,M.id]):f(c.filter(k=>k!==M.id))}}),I.jsx("label",{htmlFor:`doc-${M.id}`,children:M.name})]},M.id))})]}),I.jsxs(ma,{label:"Tipo de Mazo",value:a.type,onChange:M=>u({...a,type:M.target.value}),children:[I.jsx("option",{value:_t.Flashcard,children:"Flashcards"}),I.jsx("option",{value:_t.Quiz,children:"Quiz (Opción Múltiple)"})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx(bo,{children:"Dificultad"}),I.jsx(ma,{value:a.difficulty,onChange:M=>u({...a,difficulty:M.target.value}),children:Object.values(N_).map(M=>I.jsx("option",{value:M,children:M},M))})]}),I.jsxs("div",{children:[I.jsx(bo,{htmlFor:"quantity",children:"Cantidad"}),I.jsx(Gi,{id:"quantity",type:"number",value:a.quantity,onChange:M=>u({...a,quantity:Math.max(1,Math.min(50,parseInt(M.target.value,10)||1))}),min:"1",max:"50"})]})]}),a.type===_t.Flashcard&&I.jsxs("div",{children:[I.jsx(bo,{children:"Longitud de Respuesta"}),I.jsx(ma,{value:a.answerLength,onChange:M=>u({...a,answerLength:M.target.value}),children:Object.values(jc).map(M=>I.jsx("option",{value:M,children:M},M))})]}),I.jsxs("div",{children:[I.jsx(bo,{htmlFor:"focus",children:"Enfoque Temático (Opcional)"}),I.jsx(Gi,{id:"focus",placeholder:"Ej. Ciclo de Krebs, partes de la célula",value:a.focus,onChange:M=>u({...a,focus:M.target.value})})]})]}),I.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[I.jsx(Ge,{variant:"secondary",onClick:e,children:"Cancelar"}),I.jsxs(Ge,{onClick:x,disabled:R,children:[tt.sparkles," Generar"]})]})]})},hfe=({isOpen:t,onClose:e,onUpload:n})=>{const[i,r]=O.useState(null),[s,a]=O.useState(null),[u,c]=O.useState(!1),f=O.useRef(null);O.useEffect(()=>{t||(r(null),a(null),c(!1),f.current&&(f.current.value=""))},[t]);const h=async y=>{var T;const S=((T=y.target.files)==null?void 0:T[0])||null;if(r(S),a(null),S&&S.type==="application/pdf"){c(!0);try{const C=await S.arrayBuffer(),_=await kF({data:C}).promise;a({totalPages:_.numPages,start:"1",end:String(_.numPages)})}catch(C){console.error("Error processing PDF for page count:",C),alert("No se pudo analizar el PDF. Puede que esté dañado.")}finally{c(!1)}}},g=()=>{if(!i)return;let y;if(s){const S=parseInt(s.start,10),T=parseInt(s.end,10);if(isNaN(S)||isNaN(T)||S<1||T>s.totalPages||S>T){alert("Rango de páginas inválido.");return}y={start:S,end:T}}n(i,y)};return I.jsxs(Gu,{isOpen:t,onClose:e,title:"Subir Documento",children:[I.jsxs("div",{className:"space-y-4",children:[I.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Sube un archivo .txt o .pdf para usarlo como fuente."}),I.jsx(Gi,{type:"file",ref:f,onChange:h,accept:".txt,.pdf"}),u&&I.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[I.jsx(a0,{size:"sm"}),I.jsx("span",{children:"Analizando PDF..."})]}),s&&I.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-gray-700/50 rounded-lg space-y-3 mt-2",children:[I.jsx("h4",{className:"font-semibold text-sm",children:"Opciones de PDF"}),I.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["El documento tiene ",s.totalPages," páginas."]}),I.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[I.jsx(bo,{htmlFor:"start-page",className:"mb-0",children:"Importar desde la página:"}),I.jsx(Gi,{id:"start-page",type:"number",className:"w-20",value:s.start,onChange:y=>a({...s,start:y.target.value}),min:"1",max:s.totalPages}),I.jsx(bo,{htmlFor:"end-page",className:"mb-0",children:"hasta:"}),I.jsx(Gi,{id:"end-page",type:"number",className:"w-20",value:s.end,onChange:y=>a({...s,end:y.target.value}),min:"1",max:s.totalPages})]})]})]}),I.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[I.jsx(Ge,{variant:"secondary",onClick:e,children:"Cancelar"}),I.jsxs(Ge,{variant:"primary",onClick:g,disabled:!i||u,children:[tt.upload," Subir"]})]})]})},pfe=({item:t,onClose:e,onConfirm:n})=>t?I.jsxs(Gu,{isOpen:!0,onClose:e,title:`Eliminar ${t.type}`,children:[I.jsxs("p",{children:["¿Estás seguro de que quieres eliminar ",I.jsx("strong",{children:t.name}),"? Esta acción no se puede deshacer."]}),I.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[I.jsx(Ge,{variant:"secondary",onClick:e,children:"Cancelar"}),I.jsx(Ge,{variant:"danger",onClick:n,children:"Eliminar"})]})]}):null,mfe=({isOpen:t,onClose:e,documents:n,onDelete:i})=>I.jsxs(Gu,{isOpen:t,onClose:e,title:"Mis Documentos",children:[I.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2",children:n.length>0?n.map(r=>I.jsxs("div",{className:"flex justify-between items-center p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[I.jsxs("div",{className:"flex items-center gap-2 truncate",children:[I.jsx("span",{children:tt.document}),I.jsx("span",{className:"truncate text-sm",children:r.name})]}),I.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>i(r),className:"text-red-500 hover:text-red-700 opacity-0 group-hover:opacity-100 transition-opacity",children:tt.trash})]},r.id)):I.jsx("p",{className:"text-center text-gray-500 py-4",children:"No has subido ningún documento."})}),I.jsx("div",{className:"mt-6 flex justify-end",children:I.jsx(Ge,{variant:"secondary",onClick:e,children:"Cerrar"})})]}),gfe=({onMenuClick:t,title:e})=>I.jsxs("div",{className:"md:hidden flex items-center justify-between p-2 bg-white dark:bg-gray-800 border-b dark:border-gray-700 sticky top-0 z-10",children:[I.jsx(Ge,{variant:"ghost",size:"sm",onClick:t,children:tt.menu}),I.jsx("h2",{className:"text-lg font-semibold truncate",children:e}),I.jsx("div",{className:"w-8"})," "]});function vfe(){const[t,e]=O.useState(!0),[n,i]=O.useState({type:"dashboard"}),[r,s]=O.useState([]),[a,u]=O.useState([]),[c,f]=O.useState([]),[h,g]=O.useState(null),[y,S]=O.useState(!0),[T,C]=O.useState(!1),[_,x]=O.useState(""),[R,M]=O.useState(!1),[U,k]=O.useState({isOpen:!1}),[F,q]=O.useState({isOpen:!1}),[z,G]=O.useState({isOpen:!1}),[ee,K]=O.useState({isOpen:!1}),[ie,he]=O.useState(!1),[fe,de]=O.useState(!1),[Y,J]=O.useState(null),se=O.useCallback(async()=>{S(!0);try{const[ue,ve,te]=await Promise.all([fi.getFolders(),fi.getAll("decks"),fi.getDocuments()]);s(ue.sort((Ne,Ee)=>Ne.createdAt-Ee.createdAt)),u(ve.sort((Ne,Ee)=>Ne.createdAt-Ee.createdAt)),f(te.sort((Ne,Ee)=>Ne.createdAt-Ee.createdAt))}catch(ue){console.error("Failed to load data:",ue)}finally{S(!1)}},[]);O.useEffect(()=>{se()},[se]),O.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const _e=async(ue,ve)=>{if(ve){const te=r.find(Ne=>Ne.id===ve);te&&await fi.updateFolder({...te,...ue})}else await fi.addFolder({...ue,id:self.crypto.randomUUID(),createdAt:Date.now()});k({isOpen:!1}),await se()},H=async(ue,ve)=>{const te=a.find(Ne=>Ne.id===ue);if(te){const Ne={...te,name:ve};await fi.updateDeck(Ne),G({isOpen:!1}),await se()}},ae=async()=>{if(!Y)return;const{type:ue,id:ve}=Y;ue==="folder"?await fi.deleteFolder(ve):ue==="deck"?await fi.deleteDeck(ve):ue==="document"&&await fi.deleteDocument(ve),J(null),await se(),i({type:"dashboard"})},ne=async(ue,ve)=>{K({isOpen:!1}),S(!0);try{const te=await NO.readFileAsText(ue,ve);await fi.addDocument({id:self.crypto.randomUUID(),name:ue.name,content:te,createdAt:Date.now()})}catch(te){console.error(te),alert(te.message)}await se(),S(!1)},ce=async(ue,ve)=>{C(!0),q({isOpen:!1});let te="";ue.source===Tl.Document&&ue.documentIds.length>0&&(te=c.filter(Ee=>ue.documentIds.includes(Ee.id)).map(Ee=>`Documento: ${Ee.name}
${Ee.content}`).join(`

---

`));try{if("existingDeckId"in ve){const Ne=a.find(Ku=>Ku.id===ve.existingDeckId);if(!Ne)throw new Error("Mazo existente no encontrado.");const{cards:Ee,tags:at}=await X_.generateStudyMaterial(ue,te,Ne.cards),pt=Array.from(new Set([...Ne.tags,...at])),lt={...Ne,cards:[...Ne.cards,...Ee],tags:pt};lt.stats.mastery=$r.calculateDeckMastery(lt),await fi.updateDeck(lt),await se(),i({type:"deck",deckId:lt.id})}else{const{folderId:Ne,deckName:Ee}=ve,{cards:at,tags:pt}=await X_.generateStudyMaterial(ue,te,[]),lt={id:self.crypto.randomUUID(),folderId:Ne,name:Ee,type:ue.type,cards:at,createdAt:Date.now(),stats:{mastery:0},tags:pt};lt.stats.mastery=$r.calculateDeckMastery(lt),await fi.addDeck(lt),await se(),i({type:"deck",deckId:lt.id})}}catch(Ne){console.error("Failed to generate/update deck:",Ne),alert("Error al generar las tarjetas. Revisa la consola para más detalles."),await se()}finally{C(!1)}},be=O.useCallback(async ue=>{await fi.updateDeck(ue),u(ve=>ve.map(te=>te.id===ue.id?ue:te))},[]),Me=O.useCallback(async(ue,ve)=>{const te=a.find(at=>at.id===ue);if(!te)return;const Ne=te.cards.filter(at=>at.id!==ve),Ee={...te,cards:Ne};Ee.stats.mastery=$r.calculateDeckMastery(Ee),await be(Ee)},[a,be]),xe=ue=>{let ve="";ue.type===_t.Flashcard?ve=ue.cards.map(at=>`${at.question}::${at.answer}`).join(`
`):ve=ue.cards.map(at=>{const pt=at;return`${pt.question}::${pt.options.join("::")}::${pt.correctAnswer}`}).join(`
`);const te=new Blob([ve],{type:"text/plain;charset=utf-8"}),Ne=URL.createObjectURL(te),Ee=document.createElement("a");Ee.href=Ne,Ee.download=`${ue.name}.txt`,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),URL.revokeObjectURL(Ne)},$e=async(ue,ve,te,Ne)=>{de(!1),S(!0);try{const at=(await NO.parseDeckFromFile(ue,Ne)).map(lt=>({...lt,id:self.crypto.randomUUID(),srs:$r.getInitialSrsData()})),pt={id:self.crypto.randomUUID(),folderId:ve,name:te,type:Ne,cards:at,createdAt:Date.now(),stats:{mastery:0},tags:["importado"]};pt.stats.mastery=$r.calculateDeckMastery(pt),await fi.addDeck(pt),await se(),i({type:"deck",deckId:pt.id})}catch(Ee){console.error("Failed to import deck:",Ee),alert(`Error al importar: ${Ee.message}`)}finally{S(!1)}},He=O.useMemo(()=>{var ue,ve;return n.type==="dashboard"?"Panel":n.type==="deck"?((ue=a.find(te=>te.id===n.deckId))==null?void 0:ue.name)||"Mazo":n.type==="study"?`Estudiando: ${((ve=a.find(te=>te.id===n.deckId))==null?void 0:ve.name)||""}`:"StudyAI"},[n,a]),pe=()=>{if(y)return I.jsx("div",{className:"flex justify-center items-center h-full",children:I.jsx(a0,{})});if(T)return I.jsxs("div",{className:"flex flex-col justify-center items-center h-full gap-4 text-center p-4",children:[I.jsx(a0,{}),I.jsx("p",{children:"Generando mazo con IA, esto puede tardar un momento..."})]});switch(n.type){case"dashboard":return I.jsx(IO,{decks:a,setView:i});case"deck":const ue=a.find(te=>te.id===n.deckId);return ue?I.jsx(lfe,{deck:ue,updateDeck:be,setView:i,onDeleteCard:te=>Me(ue.id,te),onExportDeck:xe}):I.jsx("p",{children:"Mazo no encontrado."});case"study":const ve=a.find(te=>te.id===n.deckId);return ve?I.jsx(ufe,{deck:ve,updateDeck:be,setView:i,mode:n.studyMode}):I.jsx("p",{children:"Mazo no encontrado."});default:return I.jsx(IO,{decks:a,setView:i})}};return I.jsx("div",{className:t?"dark":"",children:I.jsxs("div",{className:"relative md:flex h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-sans overflow-hidden",children:[R&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>M(!1)}),I.jsx("div",{className:`fixed inset-y-0 left-0 z-30 w-72 transform transition-transform duration-300 md:relative md:translate-x-0 ${R?"translate-x-0":"-translate-x-full"}`,children:I.jsx(afe,{folders:r,decks:a,documents:c,activeFolderId:h,view:n,filterText:_,onFilterTextChange:x,onFolderSelect:ue=>g(ue===h?null:ue),onDeckSelect:ue=>{i({type:"deck",deckId:ue}),M(!1)},onDashboardSelect:()=>{i({type:"dashboard"}),M(!1)},onNewFolder:()=>k({isOpen:!0}),onEditFolder:ue=>k({isOpen:!0,folder:ue}),onDeleteFolder:ue=>J({type:"folder",id:ue.id,name:ue.name}),onNewDeck:ue=>q({isOpen:!0,folderId:ue}),onEditDeck:ue=>G({isOpen:!0,deck:ue}),onDeleteDeck:ue=>J({type:"deck",id:ue.id,name:ue.name}),onUploadDocument:()=>K({isOpen:!0}),onViewDocuments:()=>he(!0),onImportDeck:()=>de(!0),darkMode:t,toggleDarkMode:()=>e(!t)})}),I.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[I.jsx(gfe,{onMenuClick:()=>M(!0),title:He}),I.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-y-auto",children:pe()})]}),U.isOpen&&I.jsx(cfe,{isOpen:U.isOpen,onClose:()=>k({isOpen:!1}),onSave:_e,folder:U.folder}),F.isOpen&&I.jsx(dfe,{isOpen:F.isOpen,onClose:()=>q({isOpen:!1}),onGenerate:ce,documents:c,decks:a,folderId:F.folderId}),z.isOpen&&I.jsx(ffe,{isOpen:z.isOpen,onClose:()=>G({isOpen:!1}),onSave:H,deck:z.deck}),ee.isOpen&&I.jsx(hfe,{isOpen:ee.isOpen,onClose:()=>K({isOpen:!1}),onUpload:ne}),ie&&I.jsx(mfe,{isOpen:ie,onClose:()=>he(!1),documents:c,onDelete:ue=>{he(!1),setTimeout(()=>J({type:"document",id:ue.id,name:ue.name}),150)}}),fe&&I.jsx(Kee,{isOpen:fe,onClose:()=>de(!1),onImport:$e,folders:r}),Y&&I.jsx(pfe,{item:Y,onClose:()=>J(null),onConfirm:ae})]})})}const C3=document.getElementById("root");if(!C3)throw new Error("Could not find root element to mount to");const yfe=i4.createRoot(C3);yfe.render(I.jsx(Bm.StrictMode,{children:I.jsx(vfe,{})}));
